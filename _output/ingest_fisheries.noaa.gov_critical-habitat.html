<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.31">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Ingest NMFS ESA Critical Habitat Geodatabase</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="ingest_fisheries.noaa.gov_critical-habitat_files/libs/clipboard/clipboard.min.js"></script>
<script src="ingest_fisheries.noaa.gov_critical-habitat_files/libs/quarto-html/quarto.js" type="module"></script>
<script src="ingest_fisheries.noaa.gov_critical-habitat_files/libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="ingest_fisheries.noaa.gov_critical-habitat_files/libs/quarto-html/popper.min.js"></script>
<script src="ingest_fisheries.noaa.gov_critical-habitat_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="ingest_fisheries.noaa.gov_critical-habitat_files/libs/quarto-html/anchor.min.js"></script>
<link href="ingest_fisheries.noaa.gov_critical-habitat_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="ingest_fisheries.noaa.gov_critical-habitat_files/libs/quarto-html/quarto-syntax-highlighting-e1a5c8363afafaef2c763b6775fbf3ca.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="ingest_fisheries.noaa.gov_critical-habitat_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="ingest_fisheries.noaa.gov_critical-habitat_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="ingest_fisheries.noaa.gov_critical-habitat_files/libs/bootstrap/bootstrap-81267100e462c21b3d6c0d5bf76a3417.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script src="ingest_fisheries.noaa.gov_critical-habitat_files/libs/quarto-contrib/glightbox/glightbox.min.js"></script>
<link href="ingest_fisheries.noaa.gov_critical-habitat_files/libs/quarto-contrib/glightbox/glightbox.min.css" rel="stylesheet">
<link href="ingest_fisheries.noaa.gov_critical-habitat_files/libs/quarto-contrib/glightbox/lightbox.css" rel="stylesheet">
<link href="ingest_fisheries.noaa.gov_critical-habitat_files/libs/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet">
<script src="ingest_fisheries.noaa.gov_critical-habitat_files/libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>
<link href="ingest_fisheries.noaa.gov_critical-habitat_files/libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet">
<script src="ingest_fisheries.noaa.gov_critical-habitat_files/libs/datatables-binding-0.33/datatables.js"></script>
<script src="ingest_fisheries.noaa.gov_critical-habitat_files/libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<link href="ingest_fisheries.noaa.gov_critical-habitat_files/libs/dt-core-1.13.6/css/jquery.dataTables.min.css" rel="stylesheet">
<link href="ingest_fisheries.noaa.gov_critical-habitat_files/libs/dt-core-1.13.6/css/jquery.dataTables.extra.css" rel="stylesheet">
<script src="ingest_fisheries.noaa.gov_critical-habitat_files/libs/dt-core-1.13.6/js/jquery.dataTables.min.js"></script>
<link href="ingest_fisheries.noaa.gov_critical-habitat_files/libs/crosstalk-1.2.1/css/crosstalk.min.css" rel="stylesheet">
<script src="ingest_fisheries.noaa.gov_critical-habitat_files/libs/crosstalk-1.2.1/js/crosstalk.min.js"></script>
<link href="ingest_fisheries.noaa.gov_critical-habitat_files/libs/leaflet-1.3.1/leaflet.css" rel="stylesheet">
<script src="ingest_fisheries.noaa.gov_critical-habitat_files/libs/leaflet-1.3.1/leaflet.js"></script>
<link href="ingest_fisheries.noaa.gov_critical-habitat_files/libs/leafletfix-1.0.0/leafletfix.css" rel="stylesheet">
<script src="ingest_fisheries.noaa.gov_critical-habitat_files/libs/proj4-2.6.2/proj4.min.js"></script>
<script src="ingest_fisheries.noaa.gov_critical-habitat_files/libs/Proj4Leaflet-1.0.1/proj4leaflet.js"></script>
<link href="ingest_fisheries.noaa.gov_critical-habitat_files/libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet">
<script src="ingest_fisheries.noaa.gov_critical-habitat_files/libs/leaflet-binding-2.2.2/leaflet.js"></script>
<script src="ingest_fisheries.noaa.gov_critical-habitat_files/libs/leaflet-providers-2.0.0/leaflet-providers_2.0.0.js"></script>
<script src="ingest_fisheries.noaa.gov_critical-habitat_files/libs/leaflet-providers-plugin-2.2.2/leaflet-providers-plugin.js"></script>
<script src="ingest_fisheries.noaa.gov_critical-habitat_files/libs/lfx-sidebyside-1.0.0/lfx-side-by-side.js"></script>
<script src="ingest_fisheries.noaa.gov_critical-habitat_files/libs/lfx-sidebyside-1.0.0/lfx-side-by-side-bindings.js"></script>


</head>

<body class="quarto-light">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
  <nav id="TOC" role="doc-toc" class="toc-active" data-toc-expanded="3">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#read-nmfs-esa-critical-habitat-geodatabase" id="toc-read-nmfs-esa-critical-habitat-geodatabase" class="nav-link active" data-scroll-target="#read-nmfs-esa-critical-habitat-geodatabase"><span class="header-section-number">1</span> Read NMFS ESA Critical Habitat Geodatabase</a>
  <ul class="collapse">
  <li><a href="#layers" id="toc-layers" class="nav-link" data-scroll-target="#layers"><span class="header-section-number">1.1</span> Layers</a></li>
  <li><a href="#lines" id="toc-lines" class="nav-link" data-scroll-target="#lines"><span class="header-section-number">1.2</span> Lines</a></li>
  <li><a href="#polygons" id="toc-polygons" class="nav-link" data-scroll-target="#polygons"><span class="header-section-number">1.3</span> Polygons</a></li>
  </ul></li>
  <li><a href="#convert-to-mstoolkit-framework" id="toc-convert-to-mstoolkit-framework" class="nav-link" data-scroll-target="#convert-to-mstoolkit-framework"><span class="header-section-number">2</span> Convert to MSToolkit Framework</a>
  <ul class="collapse">
  <li><a href="#extinction-risk-esa-vs-iucn" id="toc-extinction-risk-esa-vs-iucn" class="nav-link" data-scroll-target="#extinction-risk-esa-vs-iucn"><span class="header-section-number">2.1</span> Extinction Risk: ESA vs IUCN?</a></li>
  <li><a href="#polygon-to-raster-eg-balaenoptera-ricei" id="toc-polygon-to-raster-eg-balaenoptera-ricei" class="nav-link" data-scroll-target="#polygon-to-raster-eg-balaenoptera-ricei"><span class="header-section-number">2.2</span> Polygon to raster, eg <em>Balaenoptera ricei</em></a></li>
  <li><a href="#default-suitability" id="toc-default-suitability" class="nav-link" data-scroll-target="#default-suitability"><span class="header-section-number">2.3</span> Default Suitability?</a></li>
  <li><a href="#line-to-raster-eg" id="toc-line-to-raster-eg" class="nav-link" data-scroll-target="#line-to-raster-eg"><span class="header-section-number">2.4</span> Line to raster, eg …</a></li>
  <li><a href="#add-dataset" id="toc-add-dataset" class="nav-link" data-scroll-target="#add-dataset"><span class="header-section-number">2.5</span> Add <code>dataset</code></a></li>
  <li><a href="#iterate-rows-species-model-model_cell" id="toc-iterate-rows-species-model-model_cell" class="nav-link" data-scroll-target="#iterate-rows-species-model-model_cell"><span class="header-section-number">2.6</span> Iterate rows: <code>species</code>, <code>model</code>, <code>model_cell</code></a></li>
  </ul></li>
  </ul>
</nav>
</div>
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<div class="quarto-title-block"><div><h1 class="title">Ingest NMFS ESA Critical Habitat Geodatabase</h1><button type="button" class="btn code-tools-button dropdown-toggle" id="quarto-code-tools-menu" data-bs-toggle="dropdown" aria-expanded="false"><i class="bi"></i> Code</button><ul class="dropdown-menu dropdown-menu-end" aria-labelelledby="quarto-code-tools-menu"><li><a id="quarto-show-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Show All Code</a></li><li><a id="quarto-hide-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Hide All Code</a></li><li><hr class="dropdown-divider"></li><li><a id="quarto-view-source" class="dropdown-item" href="javascript:void(0)" role="button">View Source</a></li></ul></div></div>
</div>



<div class="quarto-title-meta">

    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">2025-06-13 11:11:11</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<section id="read-nmfs-esa-critical-habitat-geodatabase" class="level2" data-number="1">
<h2 data-number="1" class="anchored" data-anchor-id="read-nmfs-esa-critical-habitat-geodatabase"><span class="header-section-number">1</span> Read NMFS ESA Critical Habitat Geodatabase</h2>
<ul>
<li><a href="https://www.fisheries.noaa.gov/resource/map/national-esa-critical-habitat-mapper">National ESA Critical Habitat Mapper | NOAA Fisheries</a>
<ul>
<li>Downloaded Geodatabase</li>
<li>metadata: <a href="https://www.fisheries.noaa.gov/inport/item/65207">National ESA Critical Habitat Geodatabase | InPort</a></li>
<li><a href="https://www.fisheries.noaa.gov/southeast/consultations/threatened-and-endangered-species-list-gulf-america">Threatened and Endangered Species List—Gulf of America | NOAA Fisheries</a></li>
</ul></li>
</ul>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>librarian<span class="sc">::</span><span class="fu">shelf</span>(</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>  DBI, dplyr, DT, duckdb, fs, glue, here, knitr, leaflet, leaflet.extras2, mapview, purrr, sf, stringr, terra,</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">quiet =</span> T)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu">mapviewOptions</span>(</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">basemaps       =</span> <span class="st">"Esri.OceanBasemap"</span>,</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">vector.palette =</span> \(n) grDevices<span class="sc">::</span><span class="fu">hcl.colors</span>(n, <span class="at">palette =</span> <span class="st">"Spectral"</span>) )</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="fu">sf_use_s2</span>(T)</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>is_server    <span class="ot">&lt;-</span> <span class="fu">Sys.info</span>()[[<span class="st">"sysname"</span>]] <span class="sc">==</span> <span class="st">"Linux"</span></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>dir_private  <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(is_server, <span class="st">"/share/private"</span>, <span class="st">"~/My Drive/private"</span>)</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>iucn_tkn_txt <span class="ot">&lt;-</span> <span class="fu">glue</span>(<span class="st">"{dir_private}/iucnredlist.org_api_token_v4.txt"</span>)</span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>dir_data     <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(is_server, <span class="st">"/share/data"</span>   , <span class="st">"~/My Drive/projects/msens/data"</span>)</span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>dir_gbif     <span class="ot">&lt;-</span> <span class="fu">glue</span>(<span class="st">"{dir_data}/raw/gbif.org"</span>)</span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>spp_db       <span class="ot">&lt;-</span> <span class="fu">glue</span>(<span class="st">"{dir_data}/derived/spp.duckdb"</span>)</span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a>sdm_db       <span class="ot">&lt;-</span> <span class="fu">glue</span>(<span class="st">"{dir_data}/derived/sdm.duckdb"</span>)</span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a>dir_gdb      <span class="ot">&lt;-</span> <span class="st">"~/My Drive/projects/msens/data/raw/fisheries.noaa.gov"</span></span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a>gdb          <span class="ot">&lt;-</span> <span class="fu">glue</span>(<span class="st">"{dir_gdb}/NMFS_ESA_Critical_Habitat_20230505.gdb"</span>)</span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a>lns_geo      <span class="ot">&lt;-</span> <span class="fu">glue</span>(<span class="st">"{dir_gdb}/lns.gpkg"</span>)</span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a>ply_geo      <span class="ot">&lt;-</span> <span class="fu">glue</span>(<span class="st">"{dir_gdb}/ply.gpkg"</span>)</span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a>cell_tif     <span class="ot">&lt;-</span> <span class="fu">glue</span>(<span class="st">"{dir_data}/derived/r_bio-oracle_planarea.tif"</span>)</span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a>dir_figs     <span class="ot">&lt;-</span> <span class="fu">here</span>(<span class="st">"figs/ingest_fisheries.noaa.gov_critical-habitat"</span>)</span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a>ply_png      <span class="ot">&lt;-</span> <span class="fu">glue</span>(<span class="st">"{dir_figs}/ply.png"</span>)</span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true" tabindex="-1"></a>lns_png      <span class="ot">&lt;-</span> <span class="fu">glue</span>(<span class="st">"{dir_figs}/lns.png"</span>)</span>
<span id="cb1-25"><a href="#cb1-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-26"><a href="#cb1-26" aria-hidden="true" tabindex="-1"></a><span class="fu">dir.create</span>(dir_figs, <span class="at">showWarnings =</span> F, <span class="at">recursive =</span> T)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<section id="layers" class="level3" data-number="1.1">
<h3 data-number="1.1" class="anchored" data-anchor-id="layers"><span class="header-section-number">1.1</span> Layers</h3>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>d_lyrs <span class="ot">&lt;-</span> <span class="fu">st_layers</span>(gdb) <span class="sc">|&gt;</span> </span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tibble</span>() <span class="sc">|&gt;</span> </span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">crs      =</span> <span class="fu">map_chr</span>(crs, <span class="sc">~</span> <span class="fu">st_crs</span>(.x)<span class="sc">$</span>input),</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">geomtype =</span> <span class="fu">unlist</span>(geomtype)) <span class="sc">|&gt;</span> </span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>driver) <span class="sc">|&gt;</span> </span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(name)</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>d_lyrs <span class="sc">|&gt;</span> </span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">datatable</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-a99cab3ef6469eb8a809" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-a99cab3ef6469eb8a809">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84"],["AbaloneBlack_20111027","All_critical_habitat_line_20220404","All_critical_habitat_poly_20230724","Bocaccio_PugetSoundGeorgiaBasinDPS_20141113","CoralBoulderStar_20230809","CoralElkhorn_20081126","CoralLobedStar_20230809","CoralMountainousStar_20230809","CoralPillar_20230809","CoralRoughCactus_20230809","CoralStaghorn_20081126","Eulachon_SouthernDPS_20111020","GrouperNassau_20240102","Proposed_AcroporaGlobiceps_20231130","Proposed_AcroporaRetusa_20231130","Proposed_AcroporaSpeciosa_20231130","Proposed_EuphylliaParadivisa_20231130","Proposed_IsoporaCrateriformis_20231130","Proposed_RicesWhale_20230724","Proposed_SeaTurtleGreen_CentralNorthPacificDPS_20230719","Proposed_SeaTurtleGreen_CentralSouthPacificDPS_20230719","Proposed_SeaTurtleGreen_CentralWestPacificDPS_20230719","Proposed_SeaTurtleGreen_EastPacificDPS_20230719","Proposed_SeaTurtleGreen_NorthAtlanticDPS_20230719","Proposed_SeaTurtleGreen_SouthAtlanticDPS_20230719","RockfishYelloweye_PugetSoundGeorgiaBasinDPS_20141113","SalmonAtlantic_GulfofMaineDPS_20090619","SalmonChinook_CaliforniaCoastalESU_20050902","SalmonChinook_CentralValleyspringrunESU_20050902","SalmonChinook_LowerColumbiaRiverESU_20050902","SalmonChinook_PugetSoundESU_20050902_line","SalmonChinook_PugetSoundESU_20050902_poly","SalmonChinook_SacramentoRiverwinterrunESU_19930616_line","SalmonChinook_SacramentoRiverwinterrunESU_19930616_poly","SalmonChinook_SnakeRiverfallrunESU_19931228","SalmonChinook_UpperColumbiaRiverspringrunESU_20050902","SalmonChinook_UpperWillametteRiverESU_20050902","SalmonChum_ColumbiaRiverESU_20050902","SalmonChum_HoodCanalsummerrunESU_20050902_line","SalmonChum_HoodCanalsummerrunESU_20050902_poly","SalmonCoho_CentralCaliforniaCoastESU_19990505","SalmonCoho_LowerColumbiaRiverESU_20160224","SalmonCoho_OregonCoastESU_20080211","SalmonSockeye_OzetteLakeESU_20050902","SalmonSockeye_SnakeRiverESU_19931228_line","SalmonSockeye_SnakeRiverESU_19931228_poly","SawfishSmalltooth_USDPS_20090902","SeaLionSteller_WesternDPS_19940615","SeaTurtleGreen_NorthAtlanticDPS_19980902","SeaTurtleHawksbill_19980902","SeaTurtleLeatherback_20120126","SeaTurtleLoggerhead_NorthwestAtlanticOceanDPS_20140710","SealBearded_BeringiaDPS_20220401","SealHawaiianMonk_20150821_line","SealHawaiianMonk_20150821_poly","SealRinged_ArcticSubspecies_20220401","Steelhead_CaliforniaCentralValleyDPS_20050902","Steelhead_CentralCaliforniaCoastDPS_20050902","Steelhead_LowerColumbiaRiverDPS_20050902","Steelhead_MiddleColumbiaRiverDPS_20050902","Steelhead_NorthernCaliforniaDPS_20050902","Steelhead_PugetSoundDPS_20160224","Steelhead_SnakeRiverBasinDPS_20050902","Steelhead_SouthCentralCaliforniaCoastDPS_20050902","Steelhead_SouthernCaliforniaDPS_20050902","Steelhead_UpperColumbiaRiverDPS_20050902","Steelhead_UpperWillametteRiverDPS_20050902","SturgeonAtlantic_AtlanticSubspecies_CarolinaDPS_20170817","SturgeonAtlantic_AtlanticSubspecies_ChesapeakeBayDPS_20170817","SturgeonAtlantic_AtlanticSubspecies_GulfofMaineDPS_20170817","SturgeonAtlantic_AtlanticSubspecies_NewYorkBightDPS_20170817","SturgeonAtlantic_AtlanticSubspecies_SouthAtlanticDPS_20170817","SturgeonAtlantic_GulfSubspecies_20030319_line","SturgeonAtlantic_GulfSubspecies_20030319_poly","SturgeonGreen_SouthernDPS_20091009_line","SturgeonGreen_SouthernDPS_20091009_poly","WhaleBeluga_CookInletDPS_20110411","WhaleFalseKiller_MainHawaiianIslandsInsularDPS_20180724","WhaleHumpback_CentralAmericaDPS_20210421","WhaleHumpback_MexicoDPS_20210421","WhaleHumpback_WesternNorthPacificDPS_20210421","WhaleKiller_SouthernResidentDPS_20210802","WhaleNorthAtlanticRight_20160127","WhaleNorthPacificRight_20080408"],["Multi Polygon","Multi Line String","Multi Polygon","Multi Polygon","Multi Polygon","Multi Polygon","Multi Polygon","Multi Polygon","3D Measured Multi Polygon","Multi Polygon","Multi Polygon","Multi Line String","Multi Polygon","Multi Polygon","Multi Polygon","Multi Polygon","Multi Polygon","Multi Polygon","Multi Polygon","Multi Polygon","Multi Polygon","Multi Polygon","Multi Polygon","Multi Polygon","Multi Polygon","Multi Polygon","Multi Polygon","Multi Line String","Multi Line String","Multi Line String","Multi Line String","Multi Polygon","Multi Line String","Multi Polygon","Multi Line String","Multi Line String","Multi Line String","Multi Line String","Multi Line String","Multi Polygon","Multi Line String","Multi Line String","Multi Line String","Multi Line String","Multi Line String","Multi Polygon","Multi Polygon","Multi Polygon","Multi Polygon","Multi Polygon","Multi Polygon","Multi Polygon","Multi Polygon","Multi Line String","Multi Polygon","Multi Polygon","Multi Line String","Multi Line String","Multi Line String","Multi Line String","Multi Line String","Multi Line String","Multi Line String","Multi Line String","Multi Line String","Multi Line String","Multi Line String","Multi Line String","Multi Line String","Multi Line String","Multi Line String","Multi Line String","Multi Line String","Multi Polygon","Multi Line String","Multi Polygon","Multi Polygon","Multi Polygon","Multi Polygon","Multi Polygon","Multi Polygon","Multi Polygon","Multi Polygon","Multi Polygon"],[16,59888,2114,794,7,4,7,7,6,5,4,17,20,16,3,1,1,3,1,13,9,9,4,10,3,510,45,313,108,771,1867,135,139,1,3083,394,551,573,91,9,7301,5219,8126,29,3301,8,2,32,1,1,3,44,1,64,90,1,349,526,2115,2677,1021,15663,2841,358,245,549,468,7,5,5,4,7,57,7,1044,237,5,1,8,12,3,11,2,2],[20,19,20,20,20,20,20,20,20,20,20,19,21,20,20,20,20,20,20,20,20,20,21,20,20,20,20,19,19,19,19,20,19,20,19,19,19,19,19,20,19,19,19,19,19,20,20,20,20,20,20,20,20,19,20,20,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,19,20,20,20,20,20,20,20,20,20],["WGS 84","WGS 84","WGS 84","WGS 84","WGS 84","WGS 84","WGS 84","WGS 84","WGS 84","WGS 84","WGS 84","WGS 84","WGS 84","WGS 84","WGS 84","WGS 84","WGS 84","WGS 84","WGS 84","WGS 84","WGS 84","WGS 84","WGS 84","WGS 84","WGS 84","WGS 84","WGS 84","WGS 84","WGS 84","WGS 84","WGS 84","WGS 84","WGS 84","WGS 84","WGS 84","WGS 84","WGS 84","WGS 84","WGS 84","WGS 84","WGS 84","WGS 84","WGS 84","WGS 84","WGS 84","WGS 84","WGS 84","WGS 84","WGS 84","WGS 84","WGS 84","WGS 84","WGS 84","WGS 84","WGS 84","WGS 84","WGS 84","WGS 84","WGS 84","WGS 84","WGS 84","WGS 84","WGS 84","WGS 84","WGS 84","WGS 84","WGS 84","WGS 84","WGS 84","WGS 84","WGS 84","WGS 84","WGS 84","WGS 84","WGS 84","WGS 84","WGS 84","WGS 84","WGS 84","WGS 84","WGS 84","WGS 84","WGS 84","WGS 84"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>name<\/th>\n      <th>geomtype<\/th>\n      <th>features<\/th>\n      <th>fields<\/th>\n      <th>crs<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":[3,4]},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"name","targets":1},{"name":"geomtype","targets":2},{"name":"features","targets":3},{"name":"fields","targets":4},{"name":"crs","targets":5}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
<section id="lines" class="level3" data-number="1.2">
<h3 data-number="1.2" class="anchored" data-anchor-id="lines"><span class="header-section-number">1.2</span> Lines</h3>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span><span class="fu">file.exists</span>(lns_geo)){</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>  lns <span class="ot">&lt;-</span> <span class="fu">st_read</span>(gdb, <span class="at">layer =</span> <span class="st">"All_critical_habitat_line_20220404"</span>, <span class="at">quiet =</span> T) <span class="sc">|&gt;</span> </span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">tibble</span>() <span class="sc">|&gt;</span> </span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">st_as_sf</span>()</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>  <span class="co"># lns$LISTSTATUS |&gt; table()</span></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Endangered Threatened </span></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>  <span class="co">#      11467      48421</span></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>  <span class="co"># lns |&gt; st_drop_geometry() |&gt; select(LISTSTATUS, CHSTATUS) |&gt; table()</span></span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>  <span class="co">#             CHSTATUS</span></span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>  <span class="co"># LISTSTATUS   Final</span></span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a>  <span class="co">#   Endangered 11467</span></span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a>  <span class="co">#   Threatened 48421</span></span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a>  lns_s <span class="ot">&lt;-</span> lns <span class="sc">|&gt;</span> </span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(</span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a>      <span class="at">cm_er =</span> <span class="fu">case_match</span>(</span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a>        LISTSTATUS,</span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Threatened"</span> <span class="sc">~</span> <span class="fu">glue</span>(<span class="st">"{COMNAME} (TN)"</span>),  <span class="co"># </span><span class="al">TODO</span><span class="co">: assign relative to IUCN</span></span>
<span id="cb3-21"><a href="#cb3-21" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Endangered"</span> <span class="sc">~</span> <span class="fu">glue</span>(<span class="st">"{COMNAME} (EN)"</span>) ) ) <span class="sc">|&gt;</span> </span>
<span id="cb3-22"><a href="#cb3-22" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(TAXON, cm_er, SCIENAME, COMNAME, LISTSTATUS, HABTYPE) <span class="sc">|&gt;</span> </span>
<span id="cb3-23"><a href="#cb3-23" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarize</span>(</span>
<span id="cb3-24"><a href="#cb3-24" aria-hidden="true" tabindex="-1"></a>      <span class="at">n =</span> <span class="fu">n</span>(), <span class="at">.groups =</span> <span class="st">"drop"</span>)</span>
<span id="cb3-25"><a href="#cb3-25" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb3-26"><a href="#cb3-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">st_write</span>(lns_s, lns_geo, <span class="at">delete_dsn =</span> T, <span class="at">quiet =</span> T)</span>
<span id="cb3-27"><a href="#cb3-27" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb3-28"><a href="#cb3-28" aria-hidden="true" tabindex="-1"></a>lns_s <span class="ot">&lt;-</span> <span class="fu">st_read</span>(lns_geo, <span class="at">quiet =</span> T)</span>
<span id="cb3-29"><a href="#cb3-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-30"><a href="#cb3-30" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span><span class="fu">file.exists</span>(lns_png)){</span>
<span id="cb3-31"><a href="#cb3-31" aria-hidden="true" tabindex="-1"></a>  m <span class="ot">&lt;-</span> <span class="fu">mapView</span>(lns_s, <span class="at">alpha.regions =</span> <span class="fl">0.5</span>, <span class="at">zcol =</span> <span class="st">"cm_er"</span>)</span>
<span id="cb3-32"><a href="#cb3-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mapshot2</span>(m, <span class="at">file =</span> lns_png)</span>
<span id="cb3-33"><a href="#cb3-33" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div id="fig-lns" class="lightbox quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-lns-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="./figs/ingest_fisheries.noaa.gov_critical-habitat/lns.png" class="lightbox" data-gallery="quarto-lightbox-gallery-1" title="Figure&nbsp;1: Lines of Critical Habitat as a static map (Data source lns.gpkg too big (33.4M) for interactive display on Github-hosted notebook)."><img src="./figs/ingest_fisheries.noaa.gov_critical-habitat/lns.png" class="img-fluid figure-img"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-lns-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;1: Lines of Critical Habitat as a static map (Data source lns.gpkg too big (33.4M) for interactive display on Github-hosted notebook).
</figcaption>
</figure>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>lns_s <span class="sc">|&gt;</span> </span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">st_drop_geometry</span>() <span class="sc">|&gt;</span> </span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">datatable</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-18328dce5b6c3c8694ff" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-18328dce5b6c3c8694ff">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15"],["fish","fish","fish","fish","fish","fish","fish","fish","fish","fish","fish","fish","fish","fish","pinniped"],["Eulachon (TN)","Salmon, Chinook (EN)","Salmon, Chinook (TN)","Salmon, chum (TN)","Salmon, coho (EN)","Salmon, coho (TN)","Salmon, sockeye (EN)","Salmon, sockeye (TN)","Steelhead (EN)","Steelhead (TN)","Sturgeon, Atlantic (EN)","Sturgeon, Atlantic (TN)","Sturgeon, Gulf (TN)","Sturgeon, green (TN)","Seal, Hawaiian monk (EN)"],["Thaleichthys pacificus","Oncorhynchus tshawytscha","Oncorhynchus tshawytscha","Oncorhynchus keta","Oncorhynchus kisutch","Oncorhynchus kisutch","Oncorhynchus nerka","Oncorhynchus nerka","Oncorhynchus mykiss","Oncorhynchus mykiss","Acipenser oxyrinchus oxyrinchus","Acipenser oxyrinchus oxyrinchus","Acipenser oxyrinchus desotoi","Acipenser medirostris","Neomonachus schauinslandi"],["Eulachon","Salmon, Chinook","Salmon, Chinook","Salmon, chum","Salmon, coho","Salmon, coho","Salmon, sockeye","Salmon, sockeye","Steelhead","Steelhead","Sturgeon, Atlantic","Sturgeon, Atlantic","Sturgeon, Gulf","Sturgeon, green","Seal, Hawaiian monk"],["Threatened","Endangered","Threatened","Threatened","Endangered","Threatened","Endangered","Threatened","Endangered","Threatened","Endangered","Threatened","Threatened","Threatened","Endangered"],["river or stream","river or stream","river or stream","river or stream","river or stream","river or stream","river or stream","river or stream","river or stream","river or stream","river or stream","river or stream","river or stream","river or stream","terrestrial"],[17,533,6693,664,7301,13345,3301,29,245,26567,23,5,57,1044,64]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>TAXON<\/th>\n      <th>cm_er<\/th>\n      <th>SCIENAME<\/th>\n      <th>COMNAME<\/th>\n      <th>LISTSTATUS<\/th>\n      <th>HABTYPE<\/th>\n      <th>n<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":7},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"TAXON","targets":1},{"name":"cm_er","targets":2},{"name":"SCIENAME","targets":3},{"name":"COMNAME","targets":4},{"name":"LISTSTATUS","targets":5},{"name":"HABTYPE","targets":6},{"name":"n","targets":7}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
<section id="polygons" class="level3" data-number="1.3">
<h3 data-number="1.3" class="anchored" data-anchor-id="polygons"><span class="header-section-number">1.3</span> Polygons</h3>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span><span class="fu">file.exists</span>(ply_geo)){</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sf_use_s2</span>(F)</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>  ply <span class="ot">&lt;-</span> <span class="fu">st_read</span>(gdb, <span class="at">layer =</span> <span class="st">"All_critical_habitat_poly_20230724"</span>, <span class="at">quiet =</span> T) <span class="sc">|&gt;</span> </span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">tibble</span>() <span class="sc">|&gt;</span> </span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">st_as_sf</span>() <span class="sc">|&gt;</span> </span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">st_make_valid</span>()</span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>  <span class="co"># ply$LISTSTATUS |&gt; table()</span></span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Endangered Threatened </span></span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a>  <span class="co">#       1043       1071 </span></span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a>  <span class="co"># ply |&gt; st_drop_geometry() |&gt; select(LISTSTATUS, CHSTATUS) |&gt; table()</span></span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a>  <span class="co">#             CHSTATUS</span></span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a>  <span class="co"># LISTSTATUS   Designated Final Proposed</span></span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a>  <span class="co">#   Endangered          0  1024       19</span></span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a>  <span class="co">#   Threatened         20   997       54</span></span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true" tabindex="-1"></a>  ply_s <span class="ot">&lt;-</span> ply <span class="sc">|&gt;</span> </span>
<span id="cb5-19"><a href="#cb5-19" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(</span>
<span id="cb5-20"><a href="#cb5-20" aria-hidden="true" tabindex="-1"></a>      <span class="at">er =</span> <span class="fu">case_match</span>( <span class="co"># er: extinction risk</span></span>
<span id="cb5-21"><a href="#cb5-21" aria-hidden="true" tabindex="-1"></a>        LISTSTATUS,</span>
<span id="cb5-22"><a href="#cb5-22" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Threatened"</span> <span class="sc">~</span> <span class="st">"TN"</span>,</span>
<span id="cb5-23"><a href="#cb5-23" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Endangered"</span> <span class="sc">~</span> <span class="st">"EN"</span>),</span>
<span id="cb5-24"><a href="#cb5-24" aria-hidden="true" tabindex="-1"></a>      <span class="at">st =</span> <span class="fu">case_match</span>(</span>
<span id="cb5-25"><a href="#cb5-25" aria-hidden="true" tabindex="-1"></a>        CHSTATUS,</span>
<span id="cb5-26"><a href="#cb5-26" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Designated"</span> <span class="sc">~</span> <span class="st">"des."</span>,</span>
<span id="cb5-27"><a href="#cb5-27" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Final"</span>      <span class="sc">~</span> <span class="st">"fin."</span>,</span>
<span id="cb5-28"><a href="#cb5-28" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Proposed"</span>   <span class="sc">~</span> <span class="st">"prop."</span> ),</span>
<span id="cb5-29"><a href="#cb5-29" aria-hidden="true" tabindex="-1"></a>      <span class="at">cm_er_st =</span> <span class="fu">glue</span>(<span class="st">"{COMNAME} ({er}) {st}"</span>) ) <span class="sc">|&gt;</span> </span>
<span id="cb5-30"><a href="#cb5-30" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(TAXON, cm_er_st, SCIENAME, COMNAME, LISTSTATUS, HABTYPE) <span class="sc">|&gt;</span> </span>
<span id="cb5-31"><a href="#cb5-31" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarize</span>(</span>
<span id="cb5-32"><a href="#cb5-32" aria-hidden="true" tabindex="-1"></a>      <span class="at">n =</span> <span class="fu">n</span>(), <span class="at">.groups =</span> <span class="st">"drop"</span>)</span>
<span id="cb5-33"><a href="#cb5-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-34"><a href="#cb5-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">st_write</span>(ply_s, ply_geo, <span class="at">delete_dsn =</span> T, <span class="at">quiet =</span> T)</span>
<span id="cb5-35"><a href="#cb5-35" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb5-36"><a href="#cb5-36" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sf_use_s2</span>(T)</span>
<span id="cb5-37"><a href="#cb5-37" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb5-38"><a href="#cb5-38" aria-hidden="true" tabindex="-1"></a>ply_s <span class="ot">&lt;-</span> <span class="fu">st_read</span>(ply_geo, <span class="at">quiet =</span> T)</span>
<span id="cb5-39"><a href="#cb5-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-40"><a href="#cb5-40" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span><span class="fu">file.exists</span>(ply_png)){</span>
<span id="cb5-41"><a href="#cb5-41" aria-hidden="true" tabindex="-1"></a>  m <span class="ot">&lt;-</span> <span class="fu">mapView</span>(ply_s, <span class="at">alpha.regions =</span> <span class="fl">0.5</span>, <span class="at">zcol =</span> <span class="st">"cm_er_st"</span>)</span>
<span id="cb5-42"><a href="#cb5-42" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mapshot2</span>(m, <span class="at">file =</span> ply_png)</span>
<span id="cb5-43"><a href="#cb5-43" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div id="fig-ply" class="lightbox quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-ply-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="./figs/ingest_fisheries.noaa.gov_critical-habitat/ply.png" class="lightbox" data-gallery="quarto-lightbox-gallery-2" title="Figure&nbsp;2: Polygons of Critical Habitat as a static map (Data source ply.gpkg too big (143M) for interactive display on Github-hosted notebook)."><img src="./figs/ingest_fisheries.noaa.gov_critical-habitat/ply.png" class="img-fluid figure-img"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-ply-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;2: Polygons of Critical Habitat as a static map (Data source ply.gpkg too big (143M) for interactive display on Github-hosted notebook).
</figcaption>
</figure>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>ply_s <span class="sc">|&gt;</span> </span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">st_drop_geometry</span>() <span class="sc">|&gt;</span> </span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">datatable</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-698a9a7374e3ebd99211" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-698a9a7374e3ebd99211">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54"],["Baleen Whale","Marine reptile","Marine reptile","Marine reptile","baleen whale","baleen whale","baleen whale","baleen whale","fish","fish","fish","fish","fish","fish","fish","fish","fish","fish","fish","fish","fish","fish","fish","fish","fish","fish","invertebrate","invertebrate","invertebrate","invertebrate","invertebrate","invertebrate","invertebrate","invertebrate","invertebrate","invertebrate","invertebrate","invertebrate","invertebrate","marine reptile","marine reptile","marine reptile","marine reptile","pinniped","pinniped","pinniped","pinniped","pinniped","pinniped","pinniped","pinniped","toothed whale","toothed whale","toothed whale"],["Rice's Whale (EN) prop.","Sea turtle, green (EN) prop.","Sea turtle, green (TN) prop.","Sea turtle, green (TN) prop.","Whale, North Atlantic right (EN) fin.","Whale, North Pacific right (EN) fin.","Whale, humpback (EN) fin.","Whale, humpback (TN) fin.","Bocaccio (EN) fin.","Bocaccio (EN) fin.","Grouper, Nassau (TN) des.","Rockfish, yelloweye (TN) fin.","Salmon, Atlantic (EN) fin.","Salmon, Atlantic (EN) fin.","Salmon, Chinook (EN) fin.","Salmon, Chinook (TN) fin.","Salmon, chum (TN) fin.","Salmon, sockeye (EN) fin.","Sawfish, smalltooth (EN) fin.","Sturgeon, Gulf (TN) fin.","Sturgeon, Gulf (TN) fin.","Sturgeon, Gulf (TN) fin.","Sturgeon, green (TN) fin.","Sturgeon, green (TN) fin.","Sturgeon, green (TN) fin.","Sturgeon, green (TN) fin.","Abalone, black (EN) fin.","Coral (Acropora globiceps) (TN) prop.","Coral (Acropora retusa) (TN) prop.","Coral (Acropora speciosa) (TN) prop.","Coral (Euphyllia paradivisa) (TN) prop.","Coral (Isopora crateriformis) (TN) prop.","Coral, boulder star (TN) fin.","Coral, elkhorn (TN) fin.","Coral, lobed star (TN) fin.","Coral, mountainous star (TN) fin.","Coral, pillar (TN) fin.","Coral, rough cactus (TN) fin.","Coral, staghorn (TN) fin.","Sea turtle, green (TN) fin.","Sea turtle, hawksbill (EN) fin.","Sea turtle, leatherback (EN) fin.","Sea turtle, loggerhead (TN) fin.","Sea lion, Steller (EN) fin.","Sea lion, Steller (EN) fin.","Sea lion, Steller (EN) fin.","Seal, Hawaiian monk (EN) fin.","Seal, Hawaiian monk (EN) fin.","Seal, Hawaiian monk (EN) fin.","Seal, bearded (Beringia DPS) (TN) fin.","Seal, ringed (TN) fin.","Whale, beluga (EN) fin.","Whale, false killer (EN) fin.","Whale, killer (EN) fin."],["Balaenoptera ricei","Chelonia mydas","Chelonia mydas","Chelonia mydas","Eubalaena glacialis","Eubalaena japonica","Megaptera novaeangliae","Megaptera novaeangliae","Sebastes paucispinis","Sebastes paucispinis","Epinephelus striatus","Sebastes ruberrimus","Salmo salar","Salmo salar","Oncorhynchus tshawytscha","Oncorhynchus tshawytscha","Oncorhynchus keta","Oncorhynchus nerka","Pristis pectinata","Acipenser oxyrinchus desotoi","Acipenser oxyrinchus desotoi","Acipenser oxyrinchus desotoi","Acipenser medirostris","Acipenser medirostris","Acipenser medirostris","Acipenser medirostris","Haliotis cracherodii","Acropora globiceps","Acropora retusa","Acropora speciosa","Euphyllia paradivisa","Isopora crateriformis","Orbicella franksi","Acropora palmata","Orbicella annularis","Orbicella faveolata","Dendrogyra cylindrus","Mycetophyllia ferox","Acropora cervicornis","Chelonia mydas","Eretmochelys imbricata","Dermochelys coriacea","Caretta caretta","Eumetopias jubatus","Eumetopias jubatus","Eumetopias jubatus","Neomonachus schauinslandi","Neomonachus schauinslandi","Neomonachus schauinslandi","Erignathus barbatus nauticus","Phoca (=Pusa) hispida hispida","Delphinapterus leucas","Pseudorca crassidens","Orcinus orca"],["Rice's Whale","Sea turtle, green","Sea turtle, green","Sea turtle, green","Whale, North Atlantic right","Whale, North Pacific right","Whale, humpback","Whale, humpback","Bocaccio","Bocaccio","Grouper, Nassau","Rockfish, yelloweye","Salmon, Atlantic","Salmon, Atlantic","Salmon, Chinook","Salmon, Chinook","Salmon, chum","Salmon, sockeye","Sawfish, smalltooth","Sturgeon, Gulf","Sturgeon, Gulf","Sturgeon, Gulf","Sturgeon, green","Sturgeon, green","Sturgeon, green","Sturgeon, green","Abalone, black","Coral (Acropora globiceps)","Coral (Acropora retusa)","Coral (Acropora speciosa)","Coral (Euphyllia paradivisa)","Coral (Isopora crateriformis)","Coral, boulder star","Coral, elkhorn","Coral, lobed star","Coral, mountainous star","Coral, pillar","Coral, rough cactus","Coral, staghorn","Sea turtle, green","Sea turtle, hawksbill","Sea turtle, leatherback","Sea turtle, loggerhead","Sea lion, Steller","Sea lion, Steller","Sea lion, Steller","Seal, Hawaiian monk","Seal, Hawaiian monk","Seal, Hawaiian monk","Seal, bearded (Beringia DPS)","Seal, ringed","Whale, beluga","Whale, false killer","Whale, killer"],["Endangered","Endangered","Threatened","Threatened","Endangered","Endangered","Endangered","Threatened","Endangered","Endangered","Threatened","Threatened","Endangered","Endangered","Endangered","Threatened","Threatened","Endangered","Endangered","Threatened","Threatened","Threatened","Threatened","Threatened","Threatened","Threatened","Endangered","Threatened","Threatened","Threatened","Threatened","Threatened","Threatened","Threatened","Threatened","Threatened","Threatened","Threatened","Threatened","Threatened","Endangered","Endangered","Threatened","Endangered","Endangered","Endangered","Endangered","Endangered","Endangered","Threatened","Threatened","Endangered","Endangered","Endangered"],["Marine, GOM waters between 100m and 400m isobaths",null," ",null,"marine","marine","marine","marine","marine (deepwater)","marine (nearshore)","marine","marine (deepwater)","river and estuary","river or stream","estuary","marine (nearshore)","marine (nearshore)","lake",null,"bay","marine","sound","bypass","estuary","marine","marsh","marine","marine (nearshore)","marine (nearshore)","marine (nearshore)","marine (nearshore)","marine (nearshore)",null,"marine",null,null,null,null,"marine","marine","marine","marine","marine","marine","marine and terrestrial","terrestrial","marine","marine and terrestrial","terrestrial","marine","marine","marine and estuarine","marine","marine"],[1,18,5,25,2,2,11,12,510,284,20,510,22,23,1,135,9,8,2,3,1,3,2,19,9,207,16,16,3,1,1,3,7,4,7,7,6,5,4,1,1,3,44,10,15,7,16,67,7,1,1,5,1,11]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>TAXON<\/th>\n      <th>cm_er_st<\/th>\n      <th>SCIENAME<\/th>\n      <th>COMNAME<\/th>\n      <th>LISTSTATUS<\/th>\n      <th>HABTYPE<\/th>\n      <th>n<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":7},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"TAXON","targets":1},{"name":"cm_er_st","targets":2},{"name":"SCIENAME","targets":3},{"name":"COMNAME","targets":4},{"name":"LISTSTATUS","targets":5},{"name":"HABTYPE","targets":6},{"name":"n","targets":7}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
</section>
<section id="convert-to-mstoolkit-framework" class="level2" data-number="2">
<h2 data-number="2" class="anchored" data-anchor-id="convert-to-mstoolkit-framework"><span class="header-section-number">2</span> Convert to MSToolkit Framework</h2>
<section id="extinction-risk-esa-vs-iucn" class="level3" data-number="2.1">
<h3 data-number="2.1" class="anchored" data-anchor-id="extinction-risk-esa-vs-iucn"><span class="header-section-number">2.1</span> Extinction Risk: ESA vs IUCN?</h3>
<p>Note: ESA lists only “Endangered” or “Threatened” species, but “Threatened” is not in the IUCN RedList, so need to apply a code and score relative to others:</p>
<p><strong>Extinction Risk</strong>:</p>
<ul>
<li><code>CR</code>: 1<br>
Critically Endangered (IUCN)</li>
<li><code>EN</code>: 0.8<br>
Endangered (IUCN, <strong>ESA</strong>)</li>
<li><code>VU</code>: 0.6<br>
Vulnerable (IUCN)</li>
<li><code>TN</code>: <strong>0.6</strong><br>
<strong>Threatened</strong> (<strong>ESA</strong>)</li>
<li><code>NT</code>: 0.4<br>
Near Threatened (IUCN)</li>
<li><code>LC</code>: 0.2<br>
Least Concern (IUCN)</li>
</ul>
<p>TODO: Check for equivalency and other issues with this comparison:</p>
<ul>
<li><p><a href="https://doi.org/10.1111/j.1755-263X.2011.00205.x">Harris et al (2012) Conserving Imperiled Species: A Comparison of the IUCN Red List and U.S. Endangered Species Act.” Cons Lttrs</a></p></li>
<li><p><a href="https://thisvsthat.io/threatened-vs-vulnerable">Threatened vs.&nbsp;Vulnerable - What’s the Difference? | This vs.&nbsp;That</a></p></li>
</ul>
</section>
<section id="polygon-to-raster-eg-balaenoptera-ricei" class="level3" data-number="2.2">
<h3 data-number="2.2" class="anchored" data-anchor-id="polygon-to-raster-eg-balaenoptera-ricei"><span class="header-section-number">2.2</span> Polygon to raster, eg <em>Balaenoptera ricei</em></h3>
<p>The <code>terra::rasterize()</code> function with the 0.05° raster template provides a reasonable approximation of the original shapefile.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>r_cell <span class="ot">&lt;-</span> <span class="fu">rast</span>(cell_tif)</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>ply_ricei <span class="ot">&lt;-</span> ply_s <span class="sc">|&gt;</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(SCIENAME <span class="sc">==</span> <span class="st">"Balaenoptera ricei"</span>)</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>r_ricei <span class="ot">&lt;-</span> <span class="fu">rasterize</span>(</span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>  ply_ricei <span class="sc">|&gt;</span> </span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">st_shift_longitude</span>() <span class="sc">|&gt;</span> <span class="co"># [-180, 180] -&gt; [0, 360]</span></span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">value =</span> <span class="dv">100</span>),    <span class="co"># </span><span class="al">TODO</span><span class="co">: default value</span></span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>  r_cell, </span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">field =</span> <span class="st">"value"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">trim</span>()</span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a><span class="fu">leaflet</span>() <span class="sc">|&gt;</span></span>
<span id="cb7-15"><a href="#cb7-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">addMapPane</span>(<span class="st">"left_pn"</span>,  <span class="at">zIndex =</span> <span class="dv">0</span>) <span class="sc">|&gt;</span></span>
<span id="cb7-16"><a href="#cb7-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">addMapPane</span>(<span class="st">"right_pn"</span>, <span class="at">zIndex =</span> <span class="dv">0</span>) <span class="sc">|&gt;</span></span>
<span id="cb7-17"><a href="#cb7-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">addProviderTiles</span>(</span>
<span id="cb7-18"><a href="#cb7-18" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Esri.OceanBasemap"</span>, <span class="at">group =</span> <span class="st">"left_grp"</span>,  <span class="at">layerId =</span> <span class="st">"left_lyr"</span>,</span>
<span id="cb7-19"><a href="#cb7-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">options =</span> <span class="fu">pathOptions</span>(<span class="at">pane =</span> <span class="st">"left_pn"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb7-20"><a href="#cb7-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">addProviderTiles</span>(</span>
<span id="cb7-21"><a href="#cb7-21" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Esri.OceanBasemap"</span>, <span class="at">group =</span> <span class="st">"right_grp"</span>, <span class="at">layerId =</span> <span class="st">"right_lyr"</span>,</span>
<span id="cb7-22"><a href="#cb7-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">options =</span> <span class="fu">pathOptions</span>(<span class="at">pane =</span> <span class="st">"right_pn"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb7-23"><a href="#cb7-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">addPolygons</span>(</span>
<span id="cb7-24"><a href="#cb7-24" aria-hidden="true" tabindex="-1"></a>    <span class="at">data         =</span> ply_ricei,</span>
<span id="cb7-25"><a href="#cb7-25" aria-hidden="true" tabindex="-1"></a>    <span class="at">fillColor    =</span> <span class="st">"blue"</span>,</span>
<span id="cb7-26"><a href="#cb7-26" aria-hidden="true" tabindex="-1"></a>    <span class="at">fillOpacity  =</span> <span class="fl">0.5</span>,</span>
<span id="cb7-27"><a href="#cb7-27" aria-hidden="true" tabindex="-1"></a>    <span class="at">weight       =</span> <span class="dv">1</span>,</span>
<span id="cb7-28"><a href="#cb7-28" aria-hidden="true" tabindex="-1"></a>    <span class="at">color        =</span> <span class="st">"blue"</span>,</span>
<span id="cb7-29"><a href="#cb7-29" aria-hidden="true" tabindex="-1"></a>    <span class="at">group        =</span> <span class="st">"ply"</span>,</span>
<span id="cb7-30"><a href="#cb7-30" aria-hidden="true" tabindex="-1"></a>    <span class="at">options      =</span> <span class="fu">pathOptions</span>(<span class="at">pane =</span> <span class="st">"left_pn"</span>) ) <span class="sc">|&gt;</span></span>
<span id="cb7-31"><a href="#cb7-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">addRasterImage</span>(</span>
<span id="cb7-32"><a href="#cb7-32" aria-hidden="true" tabindex="-1"></a>    r_ricei,</span>
<span id="cb7-33"><a href="#cb7-33" aria-hidden="true" tabindex="-1"></a>    <span class="at">colors  =</span> <span class="st">"red"</span>,</span>
<span id="cb7-34"><a href="#cb7-34" aria-hidden="true" tabindex="-1"></a>    <span class="at">opacity =</span> <span class="fl">0.8</span>,</span>
<span id="cb7-35"><a href="#cb7-35" aria-hidden="true" tabindex="-1"></a>    <span class="at">group   =</span> <span class="st">"rast"</span>,</span>
<span id="cb7-36"><a href="#cb7-36" aria-hidden="true" tabindex="-1"></a>    <span class="at">options =</span> <span class="fu">leafletOptions</span>(<span class="at">pane =</span> <span class="st">"right_pn"</span>) ) <span class="sc">|&gt;</span></span>
<span id="cb7-37"><a href="#cb7-37" aria-hidden="true" tabindex="-1"></a>  leaflet.extras2<span class="sc">::</span><span class="fu">addSidebyside</span>(</span>
<span id="cb7-38"><a href="#cb7-38" aria-hidden="true" tabindex="-1"></a>    <span class="at">layerId     =</span> <span class="st">"sidecontrols"</span>,</span>
<span id="cb7-39"><a href="#cb7-39" aria-hidden="true" tabindex="-1"></a>    <span class="at">rightId     =</span> <span class="st">"right_lyr"</span>,</span>
<span id="cb7-40"><a href="#cb7-40" aria-hidden="true" tabindex="-1"></a>    <span class="at">leftId      =</span> <span class="st">"left_lyr"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div id="fig-ply_ricei" class="cell-output-display quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-ply_ricei-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="leaflet html-widget html-fill-item" id="htmlwidget-160c76f20252e8147ecc" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-160c76f20252e8147ecc">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"calls":[{"method":"createMapPane","args":["left_pn",0]},{"method":"createMapPane","args":["right_pn",0]},{"method":"addProviderTiles","args":["Esri.OceanBasemap","left_lyr","left_grp",{"interactive":true,"className":"","pane":"left_pn"}]},{"method":"addProviderTiles","args":["Esri.OceanBasemap","right_lyr","right_grp",{"interactive":true,"className":"","pane":"right_pn"}]},{"method":"addPolygons","args":[[[[{"lng":[-86.15407953699997,-86.14705384299998,-86.13993275299998,-86.12899038999996,-86.11932995499996,-86.11432326599999,-86.10677408299995,-86.09615590199996,-86.08555897999997,-86.07166248199997,-86.06050700199995,-86.04903832799994,-86.04146504099998,-86.03335444499999,-86.02705665399998,-86.01556121399994,-85.99187229599994,-85.97792131699998,-85.96774047999997,-85.95528800999995,-85.94731973199998,-85.93146438399998,-85.88867677499996,-85.87595433499996,-85.86760358999999,-85.85923660299994,-85.85077275099997,-85.84228185299997,-85.81758397899995,-85.81021998699998,-85.80317558199994,-85.79613001399997,-85.78973748799996,-85.78392818999998,-85.77897197099998,-85.77459526699994,-85.76983739899998,-85.76617103099994,-85.76277685899998,-85.75917194599998,-85.75485671299998,-85.75407393699999,-85.74929417399994,-85.74373351899999,-85.73749827399996,-85.73209782899994,-85.72638558699998,-85.71871223799997,-85.71072793599996,-85.70159247799995,-85.69326292199997,-85.68491004999998,-85.65819185199996,-85.65023881399998,-85.64233788899998,-85.63834543599995,-85.63101305699996,-85.62380232299995,-85.61616215799995,-85.60874669199995,-85.60035734599995,-85.59515962699999,-85.59015903999995,-85.58635818799996,-85.58216243099997,-85.57719248799998,-85.57246501299994,-85.56795759099998,-85.56299466599995,-85.55831280799998,-85.55393218799998,-85.55169001199994,-85.54784361299994,-85.54414054999995,-85.54091853299997,-85.53812521199995,-85.53592480999998,-85.53452170999998,-85.53342888999998,-85.53062907399999,-85.52967577799996,-85.52746242499995,-85.52616218599997,-85.52430206299994,-85.52199367299994,-85.51839899699996,-85.51338764999997,-85.50846309499997,-85.50305522299999,-85.49828122099996,-85.49326351099995,-85.48800603499996,-85.48338507299997,-85.47987691199995,-85.47318145099996,-85.46571230899997,-85.43954546199996,-85.42952717299994,-85.42243088099997,-85.41573579999994,-85.40989240499994,-85.40552829599994,-85.40161517599995,-85.39753328299997,-85.39405143399995,-85.39129546499998,-85.38888361599999,-85.38579245699998,-85.38429307899997,-85.38254474399997,-85.37741767199998,-85.37565954999997,-85.37360337099994,-85.37159999299996,-85.36919783899998,-85.36629680299995,-85.36442010499997,-85.36000001199994,-85.35497299299999,-85.34947151699998,-85.34217541199996,-85.33621329699997,-85.31371764099998,-85.30614818399994,-85.29828705999995,-85.29155155099994,-85.28480666399997,-85.27809455799996,-85.26974673099994,-85.26457521699996,-85.25949773499997,-85.25272076399995,-85.24615006799996,-85.23824961999998,-85.23177806099994,-85.22545402199995,-85.19977121699998,-85.17299436399998,-85.16337079599998,-85.15184543599997,-85.14624660399994,-85.13685431599998,-85.12855091199998,-85.12092711999998,-85.11642960899997,-85.10752415999997,-85.10008854399996,-85.08619601299995,-85.06679412499994,-85.05662463599998,-85.04987004799995,-85.03848683899997,-85.02664219299999,-85.01905050599999,-85.00925509099994,-84.99734409399997,-84.99111108799997,-84.98560417799996,-84.98074705299996,-84.96156671099999,-84.95424476099998,-84.94726450199994,-84.93967643699995,-84.92848203999995,-84.91958424299997,-84.91532246699995,-84.90849869299996,-84.89375572499995,-84.87176521599997,-84.86408816699998,-84.82895009699996,-84.81955576999997,-84.81042500299998,-84.79420478999998,-84.78758668799998,-84.77908839299994,-84.76578159299999,-84.75510530999998,-84.74928261699995,-84.73740901099995,-84.72476467699994,-84.71366344399996,-84.69228439199998,-84.67959051999998,-84.66727677299997,-84.65581612799997,-84.61238189799997,-84.59816798499998,-84.57043689799997,-84.55803161399996,-84.54787481699998,-84.53859941699994,-84.52936854899997,-84.51709860899996,-84.50697998699997,-84.50258656199998,-84.49570597199994,-84.47984446899994,-84.46405423599998,-84.44685684399997,-84.43613099799995,-84.42922049199996,-84.42404965899999,-84.40732307399998,-84.39319589999997,-84.38946839099998,-84.38232230699998,-84.37507448999997,-84.37034862099995,-84.36469483199994,-84.34962244399998,-84.34126109499994,-84.31958179599997,-84.30480754099995,-84.30002746099996,-84.28399723099994,-84.27754228699996,-84.27354014799994,-84.26398382799994,-84.25635668299998,-84.25094238899999,-84.23256014899994,-84.22188387099999,-84.20555175199996,-84.18872692999997,-84.18330997399994,-84.17694684199995,-84.16705497699996,-84.15792484099995,-84.13043478399999,-84.12482003999997,-84.11930991199995,-84.11629373599999,-84.11246169799995,-84.11030848899998,-84.10300404499998,-84.09396898999995,-84.09171624899994,-84.08915137499997,-84.08635102399995,-84.08367986099995,-84.07999714299996,-84.07807085199994,-84.07459892799994,-84.07258415599995,-84.06858752399995,-84.06615328599997,-84.06053231099997,-84.05696390799994,-84.05321069799999,-84.04894223999997,-84.04466167999999,-84.04017346299997,-84.03587218199993,-84.02930058599998,-84.02538343199996,-84.01638950999995,-84.00625754799995,-83.99928344799997,-83.98322574299993,-83.97236809999998,-83.96623625699993,-83.96113580599996,-83.95622023599998,-83.95213639999997,-83.94826479599999,-83.94465667299994,-83.94253896799995,-83.93893554899995,-83.93293375499997,-83.92277809199999,-83.91089015399996,-83.90210405099998,-83.89857416599995,-83.89416488399996,-83.88237061399997,-83.87671033699996,-83.87008493899998,-83.86154485199995,-83.85124068699997,-83.84783129799996,-83.84475954099997,-83.84329316799995,-83.84197374099995,-83.84023382599997,-83.83876935099994,-83.83668081699994,-83.83366390799995,-83.83271901499995,-83.83172009199996,-83.83021302999998,-83.82447705799996,-83.82107674099996,-83.81959217799994,-83.81776149999996,-83.81621460599996,-83.81533349499995,-83.81477771699997,-83.81453588499994,-83.81473573199997,-83.81632518099997,-83.81651646999995,-83.81629607199994,-83.81584385099995,-83.81462053399997,-83.81351465299997,-83.81150208699995,-83.80838028099998,-83.80060923899998,-83.79469459699999,-83.79229781699996,-83.79080345299997,-83.78608476899996,-83.78268570899996,-83.77963366399996,-83.77391465999995,-83.76928395399995,-83.76628533499996,-83.76149741799998,-83.75341492499996,-83.74924260799997,-83.74456781099997,-83.74249195099998,-83.74094822799998,-83.73967842399998,-83.73758283999996,-83.73685462099996,-83.73603906899996,-83.73571994499997,-83.73563079599995,-83.73586314799996,-83.73622569199995,-83.73727805499999,-83.73954124599999,-83.74142316599995,-83.74271017699994,-83.74420368299997,-83.74480307699997,-83.74862587199993,-83.74952861899999,-83.75070873199996,-83.75093019899998,-83.75080029499998,-83.74922390999996,-83.74812075399996,-83.74511254199996,-83.74402207399999,-83.74296417399995,-83.74169327599998,-83.74124778499998,-83.74062039499995,-83.73877590399997,-83.73828658799994,-83.73798660999995,-83.73817853599996,-83.73885419899995,-83.74031647399994,-83.74339552199996,-83.74551411999994,-83.74987869899996,-83.75265122199994,-83.75589309999998,-83.76035489799995,-83.76644047399998,-83.76793004399997,-83.76947757099998,-83.77101688299996,-83.77273255499995,-83.77559933299995,-83.77832401399996,-83.78135673899999,-83.78644647399994,-83.78996971799995,-83.79371598899996,-83.79771109399996,-83.80188889399994,-83.80628008499997,-83.81998138999995,-83.83653556099995,-83.84597811499998,-83.85291284299996,-83.85610577899996,-83.85895587399995,-83.86206309199997,-83.86424047099996,-83.86593683299998,-83.86710953599999,-83.86772552799994,-83.86779921399994,-83.86740357599996,-83.86642961799998,-83.86485086899995,-83.86260476899997,-83.86065822799998,-83.85842861699996,-83.85593406499999,-83.85214093899998,-83.84807975099994,-83.84298902999996,-83.83811135899998,-83.83288818599993,-83.82822495099998,-83.82310284299996,-83.81559268199999,-83.77104447299996,-83.74585226199997,-83.73920494599997,-83.73238031799997,-83.71799114799995,-83.70964013799994,-83.68266973199997,-83.66506020599996,-83.65967029899997,-83.65445100599999,-83.64664687099997,-83.62422606199993,-83.61222805499995,-83.60482707199998,-83.58351085899994,-83.57452290399993,-83.55347495799998,-83.50302609099998,-83.45201379699995,-83.41763330099997,-83.40317766699997,-83.36744991299997,-83.33797421599996,-83.31965243699995,-83.28518787199994,-83.26817291799995,-83.23555977699993,-83.21707129099997,-83.19046125499995,-83.16938689299997,-83.15833307599996,-83.14017676399999,-83.12677839299994,-83.02232982799995,-82.99999999999994,-82.99999999999994,-83.00101825199994,-83.01820570199999,-83.04671216399998,-83.06404809799994,-83.08443423499995,-83.11842349199998,-83.13305576799996,-83.14646281799997,-83.16205204499994,-83.17664893699998,-83.18595766799996,-83.20315332599995,-83.22647246799994,-83.26738987299996,-83.28271070999995,-83.29922579299995,-83.31106932099993,-83.44327595799996,-83.46241723699995,-83.47857875299997,-83.49461263999996,-83.51359539899994,-83.53328185399994,-83.54898589799996,-83.56348783499999,-83.57987168299996,-83.59336943999995,-83.59983598499997,-83.60614279699996,-83.61131923799996,-83.61630883899994,-83.62058067799995,-83.62466538699994,-83.62846917999997,-83.63210263199994,-83.63653917999994,-83.64604494199995,-83.65142845499997,-83.65742618299998,-83.66243360999994,-83.66920732099999,-83.67628844799998,-83.69233011599994,-83.70537203099997,-83.71125652699999,-83.71728127099999,-83.72572023899994,-83.73323485299994,-83.74600228899999,-83.75989084799994,-83.78402553699993,-83.79703302599995,-83.81147936799994,-83.83013091399994,-83.85810873899999,-83.86738074999994,-83.88208192099995,-83.91338363599993,-83.93814754599998,-83.94859766899998,-83.95512213999996,-83.96148852699997,-83.96809163199998,-83.97509687599995,-83.98191040999995,-84.00125912499999,-84.00803546699996,-84.01467320499995,-84.02153127399998,-84.02835034599997,-84.03534147199997,-84.04470093599997,-84.06253738199996,-84.07606887699995,-84.10479752199996,-84.12346962299995,-84.13120157499998,-84.13801555399994,-84.15684163699996,-84.16683582099995,-84.17154818599994,-84.17552530799998,-84.17703535299995,-84.18034423399996,-84.18245917199994,-84.18422893899998,-84.18674064299995,-84.19134407199994,-84.19446356199995,-84.22183175999999,-84.22610901699994,-84.23034324399998,-84.24864179899998,-84.25580430699995,-84.27411597099996,-84.27822318999995,-84.28206197599997,-84.28400628999998,-84.28589333199994,-84.28986179899994,-84.29950130899994,-84.31616263699993,-84.32019630599996,-84.32348817299999,-84.33444410899995,-84.35055876299998,-84.36077178599999,-84.37355527999995,-84.39072747699998,-84.39808150999994,-84.40771729999994,-84.42788112099998,-84.44145447699998,-84.44703764199994,-84.45121679999994,-84.45610466299996,-84.46004056699996,-84.47090992799997,-84.47434271299994,-84.47862423199996,-84.48311649499999,-84.49458635999997,-84.50541271399999,-84.51819102199994,-84.52425805399997,-84.53262116899998,-84.54509204999994,-84.55618597499995,-84.56322721599997,-84.57488501899996,-84.58017490399999,-84.58615666899999,-84.59741081099997,-84.60232682199995,-84.60630432999994,-84.61476215699997,-84.62781305499999,-84.63370294199996,-84.63663170299998,-84.63958531099996,-84.65428944199994,-84.65863424599996,-84.66090422199994,-84.66405197899996,-84.67807729399999,-84.69084182199998,-84.69842103399998,-84.70375196899994,-84.70576024999997,-84.70894686199995,-84.71708716799998,-84.72172239599996,-84.72625800999998,-84.73101467499998,-84.73782014499994,-84.74748554899998,-84.76410403899996,-84.76907242899995,-84.77828341199995,-84.78098774099999,-84.78379030099995,-84.78830631199997,-84.79356346999998,-84.79645156199996,-84.80738170899997,-84.80975716399996,-84.81165645799996,-84.81282168899997,-84.81499139999994,-84.81775073599994,-84.81969789199997,-84.82195022599996,-84.82333105599997,-84.82471890899996,-84.82789561999994,-84.83013686399994,-84.83966757199994,-84.84302608499996,-84.84725445599997,-84.85066933599995,-84.85401853199994,-84.86154315899995,-84.86681784699994,-84.87750563999998,-84.88649532499994,-84.89065572199996,-84.89736106399994,-84.89986910099998,-84.90245279599998,-84.90960276399994,-84.91566430499995,-84.92228903899996,-84.92951525799998,-84.93702342899996,-84.94231507599994,-84.94788408099998,-84.95402285399996,-84.95902534599998,-84.96194349499996,-84.96501087699994,-84.97589146199994,-84.98266297599997,-84.98867797099996,-84.99371480699995,-85.00001154599994,-85.02050742399996,-85.03186786399993,-85.03921563399996,-85.05734219799996,-85.06174981099997,-85.07464604399996,-85.07925228199997,-85.08456832599995,-85.08801036399996,-85.09530714599998,-85.11149251199998,-85.11782428799995,-85.12426284599997,-85.13182467999997,-85.13596756999993,-85.14025814899998,-85.14472029999996,-85.15243734799998,-85.16032098899996,-85.17186970499995,-85.18327313699996,-85.18963069999995,-85.20821440899994,-85.22551091999998,-85.24866072899994,-85.27118264799998,-85.28586435199998,-85.29810724799995,-85.30724799799998,-85.31918386499996,-85.33351764199995,-85.39260577899995,-85.48271319899999,-85.49517511699997,-85.50840210899997,-85.55273641999997,-85.57148163199997,-85.58956958599998,-85.61227056199994,-85.65267607199996,-85.67244732899997,-85.74270145199995,-85.75901119299994,-85.77721978399995,-85.80629021999994,-85.84087536999994,-85.86899297299999,-85.91607527299999,-85.96854931799999,-85.99172098199995,-86.00945763599998,-86.01969857699999,-86.03074722799994,-86.04097384599999,-86.06504628699997,-86.08032988499997,-86.11517723999998,-86.13483716899998,-86.14339009099996,-86.16906128199997,-86.18025362199995,-86.19194691399997,-86.22028043799997,-86.23382681599998,-86.23972547499994,-86.25054606099997,-86.26000916299995,-86.27420022999996,-86.29111297999998,-86.30575923199996,-86.32214340599995,-86.33524376599996,-86.34759031299996,-86.37848346299995,-86.38768745899995,-86.39534423099997,-86.40110703699997,-86.40474584999998,-86.40818908799997,-86.41163430299997,-86.42811321599999,-86.43821452399999,-86.45180741499996,-86.47422521099998,-86.48669266699994,-86.49471724799997,-86.50125754699997,-86.50629035699995,-86.51136607899997,-86.51619141999998,-86.51980629199994,-86.52353041599997,-86.52959875999994,-86.53229984999996,-86.53584619699996,-86.54117590899995,-86.54503994899994,-86.54957738899998,-86.56444682399996,-86.56846966499995,-86.58272852299996,-86.58824842499996,-86.59127525599996,-86.59452554699999,-86.59934305299998,-86.60839909699996,-86.61362128099995,-86.62529616499995,-86.62853292499994,-86.63361002299996,-86.63927778099998,-86.64570936299998,-86.65863737699999,-86.66500668199996,-86.67256911299995,-86.67856378399995,-86.68307643999998,-86.68773496499995,-86.69552918399995,-86.70439155699995,-86.72163474399997,-86.75988855299994,-86.76891029999996,-86.77432646799997,-86.78367738099996,-86.79373180899995,-86.80024044299995,-86.80697099099996,-86.81532824799996,-86.81912009799998,-86.82704893599998,-86.83346984299999,-86.84000043799995,-86.84676605599998,-86.85362867499998,-86.86067316199996,-86.86778972299999,-86.87479685299996,-86.88844164699998,-86.89829397899996,-86.90681556299995,-86.92361220499998,-86.93817501499996,-86.95307950999995,-86.97306584699999,-86.98895426899998,-87.01615135699996,-87.03533635099996,-87.05020467299994,-87.06439090699996,-87.07322196999996,-87.08915256699999,-87.09936805899997,-87.11554925899998,-87.12647132499995,-87.14051062799996,-87.15454163399994,-87.16965617999995,-87.17852460999995,-87.19973370499997,-87.21602568199995,-87.24016087399997,-87.27547570699994,-87.29429571599997,-87.30951589699998,-87.32146838899996,-87.35050324799994,-87.36668685999996,-87.45356535999997,-87.46740134099997,-87.47989444199999,-87.51073068199997,-87.51729689499996,-87.52559999499994,-87.53943289899996,-87.58726819699996,-87.60088028299998,-87.61427511799997,-87.69767592099998,-87.75083291499999,-87.81472002799995,-87.84219271099994,-87.86462524599995,-87.91449481799998,-87.97863603799999,-88.03557411999998,-88.08412054299998,-88.11134370099995,-88.15962927799995,-88.17598105799999,-88.19061316699998,-88.20711936799995,-88.22003539599996,-88.24092064599995,-88.26646375599995,-88.28426143099995,-88.30229997899994,-88.34883516099995,-88.35775032599997,-88.36397948799998,-88.37119066699995,-88.38506851999995,-88.40087555199995,-88.40818218099997,-88.42810656199998,-88.45604279399998,-88.46307349299997,-88.47003491599997,-88.48029177599994,-88.48801720399996,-88.49561156099998,-88.50307918599998,-88.51442177999996,-88.52122688599997,-88.52784589799995,-88.53386864599997,-88.53970621199994,-88.54391232399996,-88.55276601299994,-88.55738554699997,-88.56630261899994,-88.58059853899994,-88.58756737899995,-88.59662886699994,-88.60733348999997,-88.61710637599998,-88.62831823599998,-88.63506764799996,-88.64304295099998,-88.64742856099997,-88.65828597799998,-88.66686481499994,-88.68173189799995,-88.69215781599996,-88.70715038399999,-88.71790594799995,-88.72824722599995,-88.73656565199997,-88.74494508299995,-88.75753325399995,-88.77461462299999,-88.80130610199996,-88.81388113699995,-88.82088506599996,-88.82786152799997,-88.83468208099998,-88.84137762699999,-88.84793222399998,-88.85436685899998,-88.86522247699997,-88.87204746599997,-88.89403192099996,-88.90514463799997,-88.94384257699994,-88.95567823699997,-88.96198946199996,-88.99289721799994,-89.00029809799997,-89.00680721199996,-89.01299485599998,-89.01927364399995,-89.02947369799995,-89.03576704199997,-89.04334659799997,-89.05345404899998,-89.07444503299996,-89.07950731199998,-89.08459157899995,-89.08935519499994,-89.09291297399994,-89.09614404499996,-89.09994280499996,-89.10282139999998,-89.10558351299994,-89.10692762199994,-89.10768432499998,-89.10794790199998,-89.10773324299998,-89.10724840099994,-89.10405520199998,-89.10287408199997,-89.10239760399998,-89.10223071299998,-89.10243516799994,-89.10309256299996,-89.10389208499998,-89.10500250599995,-89.10669659099995,-89.10882067799997,-89.11204903699996,-89.11583186499996,-89.11960377299994,-89.12370602899995,-89.12776571399996,-89.15497284699995,-89.17397936099997,-89.18010520999997,-89.18650672699994,-89.19391033999995,-89.20172123899994,-89.20999090799995,-89.21682256999998,-89.22383094899999,-89.23100067099995,-89.23761971599998,-89.24434773499996,-89.25117733999997,-89.25808791399999,-89.26715634399994,-89.27318258499997,-89.27924491999994,-89.28831558399997,-89.32283032099997,-89.34264836399996,-89.40093456999995,-89.40734165399994,-89.41369144099997,-89.41941379999997,-89.42536474899998,-89.43199124999995,-89.43850765199994,-89.44489209899996,-89.45043284699995,-89.45904817099995,-89.47224822499999,-89.48218075099999,-89.48735358299996,-89.49493833099996,-89.50275667699998,-89.51076882699994,-89.52492564799996,-89.53531991299997,-89.54440390799994,-89.55355504099998,-89.56079164499994,-89.56877321399998,-89.58686302899997,-89.63099011799994,-89.64710199499996,-89.67859394199996,-89.68990461599998,-89.69523093399994,-89.70049115899997,-89.70804874499999,-89.71540584299998,-89.71859495599995,-89.72623401399994,-89.73350652999994,-89.74076965299997,-89.74491605699995,-89.74887868699994,-89.76511158099999,-89.77114337699999,-89.77756870099995,-89.78428233099999,-89.79051643299994,-89.79697139599995,-89.80353969999999,-89.80691365999996,-89.81080328999997,-89.81585420699997,-89.82081249199996,-89.82664019499998,-89.83230726699998,-89.83658064499997,-89.84074855399996,-89.84609474399997,-89.85116760199998,-89.85555950399998,-89.85980849999999,-89.87837018099998,-89.88491102899997,-89.88844695399996,-89.89156430399998,-89.89408716599996,-89.89562213999994,-89.89667801399997,-89.89739362299997,-89.89765742299994,-89.89752457199995,-89.89695836399994,-89.89564596599996,-89.89360731499994,-89.89188983299994,-89.88984080899996,-89.88742840499998,-89.88522865999994,-89.88283251799999,-89.87858599199996,-89.87408587599998,-89.87075125999996,-89.86588029899997,-89.85829021899997,-89.85280556099997,-89.84706474199999,-89.84233672299996,-89.83675024299998,-89.83116344299998,-89.82559903199996,-89.82088388999995,-89.81618680899999,-89.80821647199997,-89.80016777499998,-89.79160517199995,-89.78659274799998,-89.78197952799997,-89.77796121599994,-89.77653825699997,-89.77322035399999,-89.77095241099994,-89.76974999899994,-89.76963609199998,-89.77038321599997,-89.77180169899998,-89.77376193099997,-89.77789732299999,-89.78466348899997,-89.79028741999997,-89.79235278299996,-89.79385107099995,-89.79511663599999,-89.79599154399995,-89.79719486899995,-89.79801927599999,-89.79920329299995,-89.79993179099995,-89.80079550899995,-89.80193063799999,-89.80342935899995,-89.80549001199995,-89.80740626399995,-89.81105666399998,-89.81521349299999,-89.81984380299997,-89.83434534699995,-89.84661971699995,-89.85192943899995,-89.85618782599994,-89.86091458099997,-89.86604331799998,-89.87149278299995,-89.87783670399995,-89.89605009999997,-89.90271907199997,-89.90927745399995,-89.91840019299997,-89.92353735199998,-89.92860167399994,-89.93869050199999,-89.94549992999998,-89.95180187599999,-89.95790712499996,-89.97651001799994,-89.98327408599994,-89.98922203599994,-89.99529476699996,-90.00228550199995,-90.00953673399994,-90.01588868799996,-90.02024895599999,-90.02709450599997,-90.03529494299994,-90.04371391499996,-90.05269146499995,-90.06516209399996,-90.07358687499999,-90.08029049299995,-90.08697425599996,-90.09312515799996,-90.10825423899996,-90.11722545499998,-90.12292543499996,-90.12720832999997,-90.13386954099997,-90.14050687599996,-90.14711437999995,-90.15208065099995,-90.15701548599998,-90.16516636699998,-90.17320922499994,-90.19419286099998,-90.20447023999998,-90.21325700899996,-90.22215354499997,-90.22961634799998,-90.23879240499997,-90.24717538999994,-90.27223104399997,-90.32550021699996,-90.36099368099997,-90.36864720399996,-90.37523707799994,-90.38178400999999,-90.39295927499995,-90.40325842299995,-90.40910157099995,-90.43390539799998,-90.44615070699996,-90.45693572899995,-90.46863486599995,-90.50089774099996,-90.50895044599997,-90.52065838699997,-90.52872421199999,-90.53661685599997,-90.54568856799995,-90.55555355399997,-90.57974036199994,-90.59396063099996,-90.59927159699998,-90.60486779099995,-90.61060276399996,-90.61746209299997,-90.62531685799996,-90.63155982799998,-90.63788739899996,-90.64427316499996,-90.66535157999994,-90.67459056499996,-90.68416154499994,-90.69308464799997,-90.70053998699996,-90.70791797499999,-90.72159850999998,-90.73421316099996,-90.74756670699998,-90.75243023799999,-90.75986501599994,-90.77515180499995,-90.78316614699997,-90.78807874199998,-90.79311231699995,-90.80055430699997,-90.80818777999997,-90.81877790799996,-90.82646225799994,-90.83360582399996,-90.84078595799997,-90.84573694099998,-90.85317348999996,-90.86059306199996,-90.86807632399996,-90.88801100699999,-90.89684811699999,-90.90356895799994,-90.92560328599996,-90.93681458699996,-90.95100301299999,-90.97904270899994,-90.99390990399996,-91.00231352499998,-91.01617424799997,-91.02430111499996,-91.03231262799994,-91.03658501599995,-91.04066664899995,-91.04949860399995,-91.05793434999998,-91.06570341599996,-91.06805061099999,-91.07370644399998,-91.07896776399997,-91.08386543099994,-91.08943640499996,-91.09464473099996,-91.10387577399996,-91.10836792499998,-91.11323198399998,-91.11638381199998,-91.12105629999996,-91.12606802199997,-91.13136527399996,-91.13690068099999,-91.14434304699995,-91.15103938799996,-91.15792300099997,-91.16278741799994,-91.17028174599994,-91.17787673999999,-91.18557346999995,-91.19605018799996,-91.20390186099996,-91.21172174799995,-91.21867147299997,-91.22556484099994,-91.23115624199994,-91.24168009899995,-91.25956076599994,-91.26747840099995,-91.27543365799994,-91.28392607099994,-91.29237214299997,-91.29892002399998,-91.30549858299997,-91.31208639599998,-91.31783550799997,-91.33993328399998,-91.34691557799994,-91.35418724699997,-91.36208090599996,-91.37033823699994,-91.37858989999995,-91.38824464699996,-91.39608266999994,-91.40285647799999,-91.42164201099996,-91.43081500299996,-91.43986119899995,-91.44893139199996,-91.45949209699995,-91.46958046099996,-91.47802433599998,-91.48609994599997,-91.49087612699998,-91.49588551699998,-91.50279812099996,-91.50804457299995,-91.51271603299995,-91.52175219399999,-91.52542201499995,-91.52916973699996,-91.53211133299999,-91.53517925099999,-91.53872926699995,-91.54234201799994,-91.54665496699994,-91.55075159999996,-91.55446503599995,-91.55694342099997,-91.55861577699994,-91.56031326999994,-91.56215022199996,-91.56324761899998,-91.56512832399994,-91.56608029099999,-91.56752477699996,-91.56968296399998,-91.57122137099998,-91.57250316199998,-91.57511808799995,-91.57987268499994,-91.58514879999996,-91.59059930199999,-91.59398945099997,-91.59641585599996,-91.59862243499998,-91.60153983299995,-91.60432651499997,-91.60809509199999,-91.62001940599998,-91.62327896399995,-91.62669585999998,-91.63049562699996,-91.63458670499995,-91.63899286099996,-91.64518664299999,-91.65182719799998,-91.66120347899994,-91.66853237099997,-91.67466757899996,-91.68083250999996,-91.69901357899994,-91.70581249399999,-91.71653475899996,-91.72408678099998,-91.73172444299996,-91.74041056999994,-91.74573580299995,-91.75109144699996,-91.75791498199999,-91.76980330199996,-91.78308497199998,-91.79115009699996,-91.82813928899998,-91.83483791499998,-91.84566404999998,-91.85843043099999,-91.88324160499997,-91.91940652499994,-91.95167800999997,-91.95977218199994,-91.97585802999998,-91.98572044099996,-92.00338844799995,-92.01065784099995,-92.01600822599994,-92.02133025999996,-92.02725951699995,-92.03312624999995,-92.04141268999996,-92.04951810099999,-92.05745781199994,-92.07345180299995,-92.08026678199997,-92.08699595499996,-92.09384432799999,-92.09983330099999,-92.10588876399999,-92.11055916599997,-92.11523544299996,-92.12058617199995,-92.12590457399995,-92.13444862199998,-92.14282295099997,-92.15261475999995,-92.16075355299995,-92.16515568999995,-92.17930891099996,-92.18661102599998,-92.19316292999997,-92.19994396099997,-92.20530839199995,-92.21077752199994,-92.21613993299997,-92.22155334099995,-92.22689124399994,-92.23223698099997,-92.24020876799995,-92.25056374899998,-92.25872854799997,-92.26679627999994,-92.27536278299999,-92.28315015499999,-92.30271174499995,-92.30908278899994,-92.31530981699996,-92.31991748499996,-92.32575944099995,-92.33136957299996,-92.33678660399994,-92.34198503099998,-92.34699824299997,-92.35179380499994,-92.35757413099998,-92.36982161099996,-92.38102805599999,-92.38761842499997,-92.39250672299994,-92.39750148199994,-92.40262833999998,-92.40710269699997,-92.41055665499994,-92.41744662899998,-92.42444667699999,-92.43144076799996,-92.43599686299996,-92.44047007999995,-92.44475919999996,-92.44893256199998,-92.45360390499997,-92.45814885699997,-92.46306770799998,-92.47740759299995,-92.48234517599997,-92.48804658899996,-92.49354066999996,-92.49918700199999,-92.50494359199996,-92.51124039899997,-92.51561862199998,-92.51863431199996,-92.52529879099995,-92.54455686399996,-92.55658109599995,-92.56964169899999,-92.57700681299997,-92.60291414199997,-92.61392644999995,-92.62473460899997,-92.63019648999995,-92.63560343899996,-92.64090911599999,-92.64653357999998,-92.65197683199995,-92.65903524299995,-92.66556796599997,-92.67062936599996,-92.67528476499996,-92.68400952899998,-92.68893009799996,-92.69397293299994,-92.69879326699999,-92.70369025299999,-92.70801009499996,-92.71221271099995,-92.71623893499998,-92.71967708899996,-92.72430537399998,-92.72852385299996,-92.73609602799996,-92.74213533999995,-92.74535254599994,-92.75071353099997,-92.75432868799999,-92.75995837399995,-92.76589651399996,-92.77012470099999,-92.77764719999999,-92.78660978499994,-92.79120028199998,-92.79648832499998,-92.80159507499997,-92.80679862999995,-92.81245993499994,-92.81832131599998,-92.82418026399995,-92.83013143499994,-92.83196018699994,-92.83836590599998,-92.84498306899997,-92.85894710399998,-92.86625693699995,-92.87392505399998,-92.88162308099999,-92.89002945499999,-92.89767843499999,-92.90473504099998,-92.90890737599995,-92.91298857599998,-92.91865687699999,-92.92416162599994,-92.92939616999996,-92.93836517999995,-92.95467782999998,-92.96039015599996,-92.96702767199997,-92.97405867199996,-92.98055302199998,-92.98794125699999,-92.99560586699994,-93.00345951999998,-93.03995958899998,-93.07662601799996,-93.09302082199997,-93.14712980199994,-93.15492240999998,-93.16278229899996,-93.17372912899998,-93.18208123799997,-93.18894056799996,-93.19583201099994,-93.20916498399998,-93.21676259399999,-93.22528402799998,-93.23380840699997,-93.24316070499998,-93.25876296499996,-93.27479865199996,-93.28684925999994,-93.31277142599998,-93.32238402299998,-93.33113694899998,-93.33861442099999,-93.34610338399995,-93.35359182399998,-93.36044891099999,-93.36856240699996,-93.37663870699998,-93.38466466899996,-93.39176786599995,-93.39648293299996,-93.40705504599998,-93.43367457299996,-93.44418108299999,-93.45638192299998,-93.46345991999999,-93.47109976699994,-93.47869830599996,-93.48203976199994,-93.48927641999995,-93.49637607899996,-93.50344232899994,-93.51030774999998,-93.51706399699998,-93.52361947999998,-93.53223513499995,-93.55598218399996,-93.56028849999996,-93.56571400499996,-93.57128913799994,-93.57910195399995,-93.60116129299996,-93.61051162299998,-93.62400221099995,-93.63712461599994,-93.66008058999995,-93.66849748999994,-93.67551561299996,-93.68370237799996,-93.69207788099999,-93.70116042499996,-93.70967054299996,-93.71740139199994,-93.72521094699994,-93.74469676599995,-93.77130194499995,-93.77954676199994,-93.78722333299999,-93.79481342699995,-93.80603966199999,-93.82413006799999,-93.83024542399994,-93.83605276699996,-93.84153810999999,-93.84403081599999,-93.84696863199997,-93.84965801299995,-93.85449027799996,-93.85913182699994,-93.86374970299994,-93.87962813399997,-93.88490579399996,-93.89088428899998,-93.89710512299996,-93.90312835899994,-93.90942443299997,-93.91617130499998,-93.92085366099997,-93.92544271999998,-93.93111122699997,-93.93886424099998,-93.94667706999996,-93.95429962899999,-93.96134592899995,-93.97948297499994,-93.98492932699997,-93.98948593499995,-93.99325262199994,-93.99435029499995,-93.99864378399997,-94.00298098399998,-94.00857630899998,-94.01909789399997,-94.02227270399999,-94.02654718199994,-94.03113844399996,-94.03623725499995,-94.04165222499995,-94.04531259899994,-94.05078809099996,-94.05619671399995,-94.06251757199999,-94.08214823999998,-94.08921311799998,-94.09362299099996,-94.09815825799996,-94.10307747099995,-94.10810062199994,-94.11505824799997,-94.13102952099996,-94.13926619899996,-94.14541742399996,-94.15147364699999,-94.15739241799997,-94.16330600199996,-94.16884411299998,-94.17415162599997,-94.17922197799999,-94.19257984899997,-94.19640431099998,-94.20029932699998,-94.20498729699995,-94.20969601899998,-94.21436736099997,-94.21844374299997,-94.22236616499998,-94.22740811899996,-94.23191476399995,-94.23575427399999,-94.23879562499997,-94.24062548799998,-94.24176976099994,-94.24222960599997,-94.24192097599996,-94.24101614099999,-94.23960670699995,-94.23777231399998,-94.23555292599997,-94.23395767799997,-94.23168071999999,-94.22295080499998,-94.21975678099994,-94.21781017199999,-94.21702917299996,-94.21711058599999,-94.21746989999997,-94.21807392099998,-94.22082014999995,-94.22490531999995,-94.23002290699998,-94.23425045699997,-94.23883986799996,-94.24572139599996,-94.25305741999995,-94.25605118599998,-94.26345805299997,-94.27103637699997,-94.27827500599994,-94.28554486299998,-94.29024040899998,-94.29778911499994,-94.30520832499997,-94.31162104199996,-94.31782969699998,-94.32336475099999,-94.32862565499994,-94.33246915299998,-94.33607831799998,-94.33944086099996,-94.34430746099997,-94.34886531899997,-94.35253252999996,-94.35466175799996,-94.35583894499996,-94.35621712699998,-94.35645097099996,-94.35686795099997,-94.35750635399995,-94.35854000399996,-94.36081248399995,-94.36397396499996,-94.36793798899998,-94.37347736899994,-94.37981644799999,-94.38708027299998,-94.39484392899999,-94.40322968299995,-94.41148878299998,-94.42170924299995,-94.42993488599996,-94.44768774499994,-94.45635707399998,-94.46504726399996,-94.47372620399995,-94.48232479799998,-94.48861030799998,-94.49482955799994,-94.50017881499997,-94.50543351199997,-94.51034555299998,-94.51513761399997,-94.51956299799997,-94.52389229699997,-94.53629997299998,-94.54253260399997,-94.54888812799999,-94.55556523299998,-94.56103564299997,-94.56646143599994,-94.57149901399998,-94.57640115199996,-94.58185711699997,-94.58700749199994,-94.59215765899995,-94.59672517099995,-94.60044473199997,-94.60334449599998,-94.60529272699995,-94.60609097599996,-94.60625466099998,-94.60574588499998,-94.60456746399996,-94.60238914299998,-94.59946098899997,-94.59676467699995,-94.59372192499995,-94.58906393799998,-94.58394161299998,-94.56746923799994,-94.56325717899995,-94.56110371799997,-94.55854608499999,-94.55613916699997,-94.55456667199996,-94.55397961399996,-94.55434763099998,-94.55554142699998,-94.55937035299996,-94.56203497999996,-94.56823511599998,-94.57553164999996,-94.58362006799996,-94.59126083899997,-94.60001111799994,-94.60901547699996,-94.61817413099999,-94.62513089299995,-94.63321591199997,-94.64127950999995,-94.64928195699997,-94.65815063599996,-94.66680970599998,-94.67525213099998,-94.68344005299997,-94.69232072799997,-94.69980716099997,-94.70664972699996,-94.70873698099996,-94.71431865999995,-94.71878587899994,-94.72105671799994,-94.72269423299997,-94.72319822999998,-94.72283531199997,-94.72147065899998,-94.71853633999996,-94.71756121999994,-94.71662245699997,-94.71647675299994,-94.71734876899995,-94.71952539699998,-94.72214748299996,-94.72552830799998,-94.72830617599999,-94.73134869699999,-94.73463025399997,-94.73810248799998,-94.74379286699997,-94.74970951099999,-94.75571337399998,-94.75828333399994,-94.77280197499994,-94.77929240599997,-94.78375799399998,-94.78837091099996,-94.79402243899995,-94.79982659599995,-94.80496213499998,-94.81369013399996,-94.82259841799998,-94.83162675399996,-94.84371423199997,-94.85147808899995,-94.85922694899995,-94.86847149299996,-94.88671217799998,-94.89443409199998,-94.90299380099998,-94.91100938499994,-94.91810004799999,-94.92485564099997,-94.93118685499996,-94.93433533199999,-94.93630325099997,-94.94189515199997,-94.95066824199995,-94.95526626399999,-94.96133990299995,-94.96798552899998,-94.97506236699996,-94.98544654399996,-94.99318004499997,-95.00112393099994,-95.00984964599996,-95.01631147399996,-95.02282849999995,-95.02928715999997,-95.03692761099995,-95.04461199699995,-95.05236069699998,-95.06012117999995,-95.07229187499996,-95.07945652799998,-95.08843171499996,-95.10618842899999,-95.11511735899995,-95.12374089099995,-95.13164159699994,-95.14753416899998,-95.17252732999998,-95.18891500699999,-95.20527306299994,-95.22027134599995,-95.23663232799998,-95.24888402299996,-95.25558530999996,-95.26910961499999,-95.28166931999999,-95.31362562099997,-95.32743534399998,-95.33887753499994,-95.34764752099994,-95.36168863599994,-95.37859004899997,-95.42552723799997,-95.44120637499998,-95.45851070599997,-95.46615239999994,-95.47170073999996,-95.47917826099996,-95.48655508099995,-95.49381373999995,-95.50103032199996,-95.52174002299995,-95.53006433999997,-95.53848177499998,-95.54587669799997,-95.55459930899997,-95.56341971499995,-95.57334075499995,-95.58222955999997,-95.60761405299996,-95.61666576199997,-95.62385964499998,-95.63088229599998,-95.63913958999996,-95.64490235699998,-95.65151678099994,-95.65819351999994,-95.66466222099996,-95.68388482399996,-95.69348703599996,-95.69898920299994,-95.70463338599995,-95.71476496899999,-95.72800618199994,-95.74790466699994,-95.75787788499997,-95.76330280999997,-95.76895269099998,-95.77437898799997,-95.78000181599998,-95.78633885999994,-95.79208245499996,-95.79683599299995,-95.80105203999995,-95.80356495199999,-95.80589096599994,-95.81664504299994,-95.81840800599997,-95.82216582499996,-95.82675232599996,-95.83174228999997,-95.83585627199994,-95.84024474799998,-95.84449929799996,-95.84902473599999,-95.85271697199994,-95.85654941299998,-95.86261126799997,-95.87928963199994,-95.88518074399997,-95.89017098299996,-95.89498858199994,-95.89989014799994,-95.90462181099997,-95.91312143799996,-95.93599770299994,-95.94781276099997,-95.95962505299997,-95.98908948599995,-96.00796640999994,-96.08965873099999,-96.10513606199999,-96.12172097399997,-96.13470717399997,-96.14487406299997,-96.15754827599994,-96.16943618299996,-96.17744545899996,-96.18371013199999,-96.19266405999997,-96.20061498499996,-96.20850394399997,-96.21744567499996,-96.22473909299998,-96.24362932799994,-96.24905884999998,-96.25610512299994,-96.26418715099999,-96.27239994599995,-96.29363196799994,-96.30347601299997,-96.31011312199996,-96.31364523499997,-96.31702565499995,-96.32107711599997,-96.32502431199998,-96.32859470999995,-96.33066584399995,-96.33314807999994,-96.33524738299997,-96.33683787499996,-96.33818853699995,-96.33920630499995,-96.34026395499995,-96.34068154499994,-96.34073759799998,-96.34059568299995,-96.34035878799995,-96.33991579599996,-96.33938006999995,-96.33778807199997,-96.33675578199995,-96.33504498999997,-96.33373741599996,-96.33072664299999,-96.32699735899996,-96.31324755999998,-96.31038631199999,-96.30770884799995,-96.30599989499996,-96.30288525499998,-96.29341506999998,-96.28798171799997,-96.28294896399996,-96.27164096599995,-96.26757039399996,-96.26311135399999,-96.25840175299999,-96.25610522799997,-96.25103422299998,-96.24890358799996,-96.24721150699997,-96.24593384499997,-96.24510764499996,-96.24513364099994,-96.24547146699996,-96.24603330099995,-96.24709552399997,-96.24852018599995,-96.25031662099997,-96.25219318099994,-96.25406577499996,-96.26224879799997,-96.26395222799994,-96.26556058899996,-96.26676450799994,-96.26759608299994,-96.26800113599995,-96.26790351199998,-96.26759968599998,-96.26644627799999,-96.26471778499996,-96.26255334499996,-96.26054967299996,-96.25101529799997,-96.24849466999996,-96.24637078699999,-96.24514214899995,-96.24446143199998,-96.24419480599994,-96.24418941799996,-96.24461347699997,-96.24443291699998,-96.24410062699997,-96.24358758299996,-96.24227800399996,-96.24083980099994,-96.23942916199996,-96.23828770399996,-96.23783969899995,-96.23458100599998,-96.37550046599995,-96.37500572199997,-96.37219486599997,-96.36579015299998,-96.36314356999998,-96.36110611599997,-96.35846807999997,-96.35704884399996,-96.35415081399998,-96.34859316299998,-96.34682171999998,-96.34063530399999,-96.33699874599995,-96.33543387799995,-96.33474552499996,-96.33445082999998,-96.33449281699995,-96.33492798399999,-96.33572833699998,-96.33698279199996,-96.33890372799999,-96.34032005499995,-96.34334000099994,-96.34563627999995,-96.34831179899999,-96.35006623599998,-96.35379037799999,-96.35884610999994,-96.36575616999994,-96.37043064999995,-96.37452783399999,-96.38183498499995,-96.38903536099997,-96.40001649599998,-96.40826362399997,-96.42767100399999,-96.44560699099998,-96.45361781999998,-96.47683711599996,-96.49670338499999,-96.50509400899995,-96.51103375499997,-96.51513566999995,-96.53522882399994,-96.54076455199998,-96.54672481299997,-96.54963904699997,-96.55223257899996,-96.55713420799998,-96.56178575999996,-96.56727935699996,-96.57182123399997,-96.57379022899994,-96.57727365399995,-96.57922367799995,-96.58124852299994,-96.58230845599996,-96.58338427899997,-96.58428581399994,-96.58704442199996,-96.58753177599999,-96.58743140699994,-96.58675789499995,-96.58594998399997,-96.58402030399998,-96.58127558999996,-96.57400159799994,-96.56875307999996,-96.56639212399995,-96.56335787199998,-96.55912976499997,-96.55462875099994,-96.54963222399994,-96.54484795299999,-96.53728151799999,-96.51074599199995,-96.50348538599997,-96.49531140599998,-96.48917008999996,-96.48531664599994,-96.48102627899999,-96.47383952299998,-96.46675750299994,-96.46224348199996,-96.44740111099998,-96.44248027199995,-96.43767038099998,-96.43311319599997,-96.42223011399994,-96.41598905999996,-96.39529704399996,-96.38622465799995,-96.36964674199999,-96.35632606399997,-96.35208193399995,-96.34768287699995,-96.34353946799996,-96.33737203999999,-96.31781272299997,-96.31039918199997,-96.30319952799994,-96.28289782999997,-96.27432150199996,-96.26365742999997,-96.25814224099997,-96.24678196299999,-96.23773732899997,-96.22483880799996,-96.19250631799997,-96.17683268599995,-96.16939841599998,-96.16209606199999,-96.15467661899999,-96.14374068199999,-96.13119046799994,-96.12274944199999,-96.10576446599998,-96.08676072899999,-96.07240558099994,-96.05931483299997,-96.04728227899994,-96.03333610199996,-96.02660804199996,-96.01174629899998,-95.96458484899995,-95.93459582799994,-95.91682084899998,-95.90385205199999,-95.88853346199994,-95.87229532399994,-95.84526476399998,-95.82676392599996,-95.81852054999996,-95.81073607299999,-95.80297805999999,-95.79078698599994,-95.77843823399996,-95.76484222199997,-95.75630738399997,-95.74903229199998,-95.73106100799998,-95.70105363899995,-95.68517526599999,-95.67169347299995,-95.65911448699995,-95.64211441299994,-95.62767053999994,-95.59315047199999,-95.58372302699996,-95.57246395199996,-95.56122806199994,-95.55189481599996,-95.54664608599995,-95.53740602799996,-95.52837540199994,-95.52206600599999,-95.50913033999996,-95.50252183799995,-95.49189095599996,-95.47610884199997,-95.46834783099996,-95.46027640799997,-95.43863486299995,-95.42378350199999,-95.41217593299996,-95.37701116299996,-95.36127164899995,-95.33032839299995,-95.30542370199998,-95.29781852899998,-95.29010745699998,-95.28126782399994,-95.27360301599998,-95.26583505499997,-95.25541629499997,-95.24552573999995,-95.22039084899995,-95.18545283399999,-95.15851428499997,-95.13194002299997,-95.10737355199996,-95.08412017099994,-95.06931664399997,-95.02116684299995,-95.00963413399995,-94.99692751099997,-94.97844939699996,-94.94345739699997,-94.91058270499997,-94.87361872499997,-94.85717238299998,-94.83388811799995,-94.81692512099994,-94.80447648399996,-94.79302441099998,-94.76954473399996,-94.72850628499998,-94.71101934999996,-94.69340566599999,-94.66938606299999,-94.65820125599998,-94.64731417899998,-94.63304773099998,-94.60047704399994,-94.58779892699994,-94.57461355299995,-94.56593739899995,-94.55726963099994,-94.54770011299996,-94.54041907699997,-94.52588545999998,-94.51186375199995,-94.48228533599996,-94.45606170499997,-94.42843245799997,-94.41181482299999,-94.40301539399996,-94.39473527299998,-94.37673339399998,-94.33111934799996,-94.31666065499996,-94.30137034699999,-94.28895404099995,-94.28154775299998,-94.27186673799997,-94.26598853399997,-94.26019334099999,-94.25534174099994,-94.25057474599998,-94.24477117099997,-94.23914927499999,-94.23303891899997,-94.22721997199994,-94.22011424199997,-94.21343132299995,-94.20253247399995,-94.19671734699995,-94.19271064899999,-94.18853951499995,-94.18097229999995,-94.17298205799995,-94.16581954699996,-94.15787291399994,-94.15242176199996,-94.14429783799994,-94.08293806099994,-94.05731200699995,-94.03917192799997,-94.03012166499997,-94.02034593099995,-94.00556413399994,-93.99821258199995,-93.98522122899999,-93.97386534799995,-93.96785274899997,-93.95593202799995,-93.94868830599995,-93.94150544099995,-93.92496561799999,-93.89993271499998,-93.89159829199997,-93.87736669899994,-93.86488918299995,-93.84953930799998,-93.83773687299998,-93.82867417199998,-93.81957541799994,-93.81387040399994,-93.80840179899997,-93.80112566499997,-93.79382287099997,-93.78650894999998,-93.76587316299998,-93.75550143199996,-93.73652602299995,-93.72202246899997,-93.71537487799998,-93.70165259799995,-93.69466404699995,-93.68992243399998,-93.68331868599995,-93.67703389399998,-93.67203942799995,-93.66728373099994,-93.65429359899997,-93.64805231399998,-93.64330846799999,-93.63872112699994,-93.63379548699999,-93.62943282399999,-93.62598836099994,-93.62342927799995,-93.62190659099997,-93.62149224099994,-93.62180327799996,-93.62273905799998,-93.62299376499999,-93.62312886499996,-93.62289909799995,-93.62223700999994,-93.62113589499995,-93.61988186599996,-93.61829978399999,-93.61552745199998,-93.61207628799997,-93.60903067899994,-93.60564934499996,-93.60074219199998,-93.59622686799997,-93.59029194099998,-93.58451397299996,-93.57893931499996,-93.57546416799994,-93.57223091499998,-93.56960125999996,-93.56760166999999,-93.56656263499997,-93.56593011399997,-93.56577824799996,-93.56644202199999,-93.56780164099996,-93.56968379099999,-93.57188246399994,-93.57618191599994,-93.57793107599997,-93.57842699799994,-93.57744042299998,-93.57521054399996,-93.57191855999997,-93.56840365799997,-93.56434244999997,-93.55947405899997,-93.55419481999996,-93.54785877399996,-93.53439850899997,-93.50855577699997,-93.46882678699995,-93.42292459299995,-93.39233440999999,-93.35781922099994,-93.32203000399994,-93.30845873999999,-93.29393435899999,-93.28703417199995,-93.27922036699994,-93.26790519399998,-93.26013335099998,-93.25238771099998,-93.22472490199999,-93.21654762899999,-93.20880518799999,-93.19980096399996,-93.19079546399996,-93.17454320999997,-93.15444492199998,-93.11792714899997,-93.10316353899998,-93.09594729799994,-93.08872127899997,-93.07618613699998,-93.06445705199997,-93.04081848299995,-93.00588587999994,-92.98923687599995,-92.95705353099999,-92.94266366699998,-92.93570745899996,-92.92896233999994,-92.89997563099996,-92.86525241899994,-92.81060579299998,-92.80337032199998,-92.79560192799994,-92.78989320999995,-92.78075312999994,-92.77167317699997,-92.74480610999996,-92.73727640399994,-92.73057680899996,-92.72383310599997,-92.71619321199995,-92.68967012299998,-92.68127950799999,-92.67292791199998,-92.66263720299997,-92.65468176399997,-92.63243818399997,-92.62588996899996,-92.61813330299998,-92.61467381499995,-92.60697192799995,-92.59928149799998,-92.59164025799998,-92.58481325499997,-92.57849928699994,-92.57096408799998,-92.56360018999999,-92.55926606899999,-92.55500058899997,-92.55033224199997,-92.54475518799995,-92.53386581999996,-92.52128520399998,-92.51191392999999,-92.50741072299996,-92.49958793899998,-92.49159433399996,-92.48485431099994,-92.47803574299996,-92.47292678899998,-92.46781325199998,-92.45982995699995,-92.45197549599999,-92.44625085999996,-92.44013018299995,-92.43420728799998,-92.42846612699998,-92.42256829999997,-92.40543319099999,-92.39820780099996,-92.39063369999997,-92.38808343599999,-92.37984946399996,-92.37127210099999,-92.36234911899999,-92.35462116299999,-92.34676455699997,-92.33802843399997,-92.32255611099998,-92.31445461399994,-92.30283330199995,-92.29243627699998,-92.28483556499998,-92.27724026399994,-92.26593777099998,-92.25676437999994,-92.24764623799996,-92.23860011399995,-92.23324137299994,-92.22352779599998,-92.21076500099997,-92.20415969999999,-92.17774774999998,-92.16976905299998,-92.16037850199996,-92.15271232099997,-92.14496143699995,-92.13715326199997,-92.12696638699998,-92.11733032799998,-92.11036117399999,-92.10281956899996,-92.09529624199996,-92.08655641699994,-92.06237492399998,-92.05632716599996,-92.04811636699998,-92.03786909699994,-92.02976481599995,-92.02166127199996,-92.01335818999996,-92.00201051799996,-91.97975440799996,-91.96418185899995,-91.95182557899994,-91.94647709499998,-91.93272958299997,-91.91516022699994,-91.90626587499997,-91.89733750299996,-91.88838122599998,-91.88080853899999,-91.87371123399998,-91.86593523399995,-91.85822875899999,-91.85062226399998,-91.84744577299995,-91.84027244199996,-91.83407412499997,-91.81528567699996,-91.80869868299999,-91.80259634999999,-91.79640342299996,-91.78618941399998,-91.78067313799994,-91.77003752899998,-91.72573659099999,-91.70823100699994,-91.69059921899998,-91.67003341599997,-91.65438237699999,-91.64176354999995,-91.63568256899998,-91.59600303999997,-91.56816064999998,-91.54291260899998,-91.53581891099998,-91.52866395599995,-91.51481085499995,-91.50100655199998,-91.48507801499994,-91.46969232599997,-91.46196328799994,-91.44868141799998,-91.44121929399995,-91.42623660099997,-91.38672880199994,-91.32846582999997,-91.30879481099998,-91.29373032999996,-91.28323129499995,-91.27279828999997,-91.25794363199998,-91.24656008899996,-91.21831638799995,-91.20418979799996,-91.19554789699998,-91.18687763799994,-91.17713332699998,-91.16834177599998,-91.15954083999998,-91.15074051399995,-91.14195261699996,-91.13246855599994,-91.11915477399998,-91.08819583899998,-91.08146054299999,-91.07427680999996,-91.07122498299998,-91.06279875499996,-91.05503066999995,-91.04818411699995,-91.04588131499997,-91.04402866899994,-91.04045076499995,-91.03784710999997,-91.03570051799994,-91.03385391099994,-91.02918334299994,-91.02745072599998,-91.02494802599995,-91.02200157999994,-91.01854490199997,-91.01355013799997,-91.00775182399997,-91.00143025899996,-90.99895018299998,-90.99657130499997,-90.98957097299996,-90.98231487199996,-90.97493891399995,-90.96872927899994,-90.96299606799994,-90.95527609399994,-90.94765215699994,-90.94024931399997,-90.93296117699998,-90.92606074699995,-90.91837867199996,-90.91106899999994,-90.90525594299999,-90.89265799099996,-90.88614708199998,-90.88187122499994,-90.87740363199998,-90.87183185899994,-90.86600224599994,-90.85950033899996,-90.85391262599995,-90.84818686499995,-90.84046388899998,-90.83330821099997,-90.82603515299996,-90.81839808799998,-90.81068192499998,-90.79901398599998,-90.79132402799996,-90.77783109599994,-90.76929419499999,-90.75617161599996,-90.73826559899999,-90.72701246799994,-90.71441168099994,-90.68560368099998,-90.65040221399994,-90.59583814999996,-90.57994492999995,-90.57299909499994,-90.55885784799995,-90.55196958399995,-90.54510719699994,-90.53782231099996,-90.53058465499998,-90.52570149999997,-90.51830985799995,-90.51100922899997,-90.50450020999995,-90.49165515599998,-90.47416905999995,-90.43964219599997,-90.42010049199996,-90.40534019099994,-90.38129138799997,-90.36503401599998,-90.35174954699994,-90.34502740099998,-90.33344979499998,-90.32515083899995,-90.31678562399998,-90.30692512999997,-90.29860988199994,-90.28652920199994,-90.27261150199996,-90.26344349299995,-90.24882453699996,-90.22251639699994,-90.20604080899994,-90.19787075399995,-90.19009975299997,-90.18130839799994,-90.17263030899994,-90.16744114499994,-90.15895065799998,-90.15374181199996,-90.14328710099994,-90.13033347299995,-90.12269593499997,-90.10562736299994,-90.09719250399996,-90.08729719099995,-90.07545657199995,-90.06363533299998,-90.05799803899998,-90.04832315299996,-90.04109569699995,-90.03518587199994,-90.02961048699996,-90.02460499999995,-90.01996958199999,-90.01698638799996,-90.01418949099997,-90.01137205299995,-90.00843793399997,-90.00567004999994,-90.00141732099996,-89.99503869499995,-89.99073403199998,-89.98756120999997,-89.98480974599994,-89.98283756399996,-89.98189668999999,-89.98102076799995,-89.98054855599997,-89.98049828799998,-89.98091147199995,-89.98163670499997,-89.98347197399994,-89.98487430899996,-89.99287430599998,-89.99515277199998,-89.99713984099998,-89.99826011599998,-89.99954718399994,-90.00050775599999,-90.00180333099996,-90.00281826499997,-90.00392555399998,-90.00567765699998,-90.00958600299998,-90.01490283499999,-90.01841577999994,-90.02221414899998,-90.02844365199996,-90.04783712699998,-90.05665779799995,-90.06218703699994,-90.06908050399994,-90.07527248799994,-90.07967233799997,-90.08328550299996,-90.08520361199999,-90.08661730299997,-90.08741657199994,-90.08761241599996,-90.08717623299998,-90.08615857199999,-90.08271374599997,-90.07856303699998,-90.07348068899995,-90.06776029099996,-90.06147144899995,-90.05422883099999,-90.04694848599996,-90.03447698099995,-90.02630313999998,-90.01944704699997,-90.00648910799998,-89.99922871599995,-89.99138364599997,-89.98350094099999,-89.97524269199994,-89.95602591199997,-89.94819108699994,-89.93911900499995,-89.93005773699997,-89.92128537699995,-89.90198604899996,-89.89279090399998,-89.88357011199997,-89.87170037499999,-89.86241916999995,-89.85314252199998,-89.84211055299994,-89.82993724699998,-89.82102246799997,-89.81221328899994,-89.80091134799994,-89.78484686099995,-89.77152797999997,-89.75118778299998,-89.74320188399997,-89.73512796599994,-89.72647022599995,-89.71822321999997,-89.70989583199997,-89.70082309399999,-89.69138181699998,-89.68337183499995,-89.67536839499996,-89.66610966799999,-89.65805499999999,-89.65075021199999,-89.64347962099998,-89.63625185499995,-89.62624428599997,-89.61564869799997,-89.60311621399995,-89.59038925599998,-89.57755440899996,-89.56359335799993,-89.53791281899998,-89.51945627799995,-89.48204052699998,-89.47456537499994,-89.46696412299997,-89.46052412599994,-89.45397281999999,-89.44634727399995,-89.43863322199996,-89.42680658599994,-89.41953487399996,-89.39098036099995,-89.38549886499999,-89.37692079599998,-89.36891259299995,-89.36102295299997,-89.35326073899995,-89.34877025299994,-89.34174189799995,-89.33482618799997,-89.32801057099994,-89.32174372099996,-89.31073265199996,-89.29965195199998,-89.29340913799996,-89.26452553499996,-89.25788074799999,-89.25112857299996,-89.24423326999994,-89.23414424199996,-89.22681844799996,-89.21421085599997,-89.20156347099999,-89.19404654999994,-89.17988701699994,-89.16763596799996,-89.16067091399998,-89.14664861499995,-89.13811045899996,-89.11780173399995,-89.10926996299997,-89.09953201699994,-89.08901246699998,-89.08345965299998,-89.07643375099997,-89.06954324199995,-89.06007935799994,-89.05213295599998,-89.04436220399998,-89.03839754199998,-89.02830482599995,-88.99822100199998,-88.98390663399994,-88.97265705599995,-88.95168525599996,-88.94534230299996,-88.93433875299996,-88.92529193099995,-88.90901589299995,-88.89795261999996,-88.88541905799997,-88.87165262199994,-88.86181933899996,-88.85681150599999,-88.85211454799997,-88.84731948799998,-88.84076584499996,-88.83401735699994,-88.82610710999995,-88.81956889099996,-88.81084802899994,-88.80401740299999,-88.79705748599997,-88.78689822799998,-88.77744303099996,-88.74641185399997,-88.73965091999997,-88.73307492599997,-88.72671230499998,-88.72142271199994,-88.71928424099997,-88.71174428399996,-88.70579539299996,-88.69992499399996,-88.67364263499996,-88.66684497499995,-88.65987060499998,-88.65287236299997,-88.64571961299998,-88.63716401599999,-88.61235471899994,-88.60316568899998,-88.57761140099996,-88.56579348299994,-88.55162186799998,-88.54286435499995,-88.52283237499995,-88.51256041999994,-88.50527992799994,-88.49023612799994,-88.47787914499997,-88.46967103199995,-88.46120044099996,-88.45255411699998,-88.44378339399998,-88.43510348299998,-88.42932170899996,-88.41737119199996,-88.40592037699997,-88.39197152599996,-88.38487647399995,-88.37777913499997,-88.37068173699998,-88.36012159199998,-88.35274348899998,-88.33803409599994,-88.30143361099994,-88.29424433999998,-88.28577041399996,-88.27703278599995,-88.26853119599997,-88.26005574999994,-88.25392670499997,-88.24122907699996,-88.23466133799997,-88.22474918199998,-88.21008265199998,-88.20105844199998,-88.19129935999996,-88.18159205799998,-88.16753007699998,-88.15328951699996,-88.14328577099997,-88.12857478699999,-88.12012674899995,-88.10798844799996,-88.10049256399998,-88.09602022199994,-88.08508733799994,-88.06978542999997,-88.05599677499998,-88.03968056999997,-88.03145107399996,-88.02309883099997,-88.01779204999997,-88.01239606299998,-88.00456248399996,-87.99658481099999,-87.98624019299996,-87.97821471299994,-87.97176064699994,-87.96527181099998,-87.95663440099997,-87.95010817399998,-87.94357480299999,-87.93626388299998,-87.92356362199996,-87.90856416199995,-87.89316472899998,-87.85657438099997,-87.84846451399994,-87.84035234699996,-87.83713006799996,-87.82878277999998,-87.82045693299995,-87.81218956899994,-87.80387661799995,-87.79566705799994,-87.78755552799998,-87.77949259299999,-87.76791456699999,-87.73722506999997,-87.72091060999998,-87.71325827399994,-87.69125352999998,-87.67919661299999,-87.66977117599998,-87.66138453799994,-87.65366766899996,-87.64623465099999,-87.60649397299994,-87.59234536299994,-87.58428272499998,-87.53834947599995,-87.53210203199995,-87.52271344499997,-87.51240037299993,-87.50703600099996,-87.50132475399994,-87.49574364899996,-87.48753378799995,-87.48133522499995,-87.46276191499999,-87.45445011499999,-87.43693347699997,-87.43145379499998,-87.40502193199995,-87.39917857799998,-87.38194677399997,-87.37328947799995,-87.36879043599998,-87.36443996099996,-87.35593022799998,-87.35177731099998,-87.34778590199994,-87.34184437699997,-87.33852473699994,-87.33258477799995,-87.32562799299996,-87.32169011399998,-87.31880141399995,-87.31627711599998,-87.31415083299999,-87.31255604099994,-87.31108534799995,-87.31010876699997,-87.30980725499995,-87.30980673899995,-87.31007420799995,-87.31049426399994,-87.31251865199994,-87.31302388399996,-87.31304220599998,-87.31250843699996,-87.31144448199996,-87.30988634199997,-87.30785961199996,-87.30496161099995,-87.30385308199999,-87.30035810299995,-87.29634295699998,-87.29136740799999,-87.28637639299995,-87.28094633399996,-87.27384533099996,-87.26497892699996,-87.25805761699996,-87.25089539699997,-87.24554755599996,-87.23294514599996,-87.22569400699996,-87.19880980999994,-87.19066970999995,-87.18275606899994,-87.17518429299997,-87.17169730099994,-87.16524673899994,-87.15916359799996,-87.15338317599998,-87.14860696599999,-87.14407823799996,-87.13986347299993,-87.13565780199997,-87.13242798399995,-87.12537711899995,-87.12172341099995,-87.11908233899999,-87.11623952599996,-87.11130888599996,-87.10583672799999,-87.10150825499994,-87.09694649099998,-87.09114028199997,-87.08513082599995,-87.07092243199997,-87.06210378099996,-87.05632414699994,-87.03481444999994,-87.00780853199996,-86.99500735499998,-86.98362464599995,-86.97812880399994,-86.96921337099997,-86.96288912499995,-86.96037336299997,-86.95751449199997,-86.95389760999996,-86.95047851999999,-86.93975291099997,-86.93498951599997,-86.93208731899995,-86.92905833399999,-86.92402797699998,-86.91852863399998,-86.91412926699996,-86.90946841099998,-86.90350592199997,-86.89727465799996,-86.89081099699996,-86.88743307899995,-86.87794392299998,-86.87036495699994,-86.86268865999995,-86.85313557499995,-86.84402440899999,-86.83494033099998,-86.82592000599999,-86.81951250699996,-86.81257877699994,-86.80571663499995,-86.79977600399997,-86.79187826299994,-86.78408041599994,-86.76335222699998,-86.75134937199994,-86.72837055899998,-86.72021469299995,-86.68947056599995,-86.67906202899997,-86.67212252399997,-86.66531838099996,-86.65347715199994,-86.64282288499999,-86.63130779499994,-86.62476725699997,-86.61295384199997,-86.60383622599994,-86.59563429999997,-86.59148392799995,-86.58780127299997,-86.58508267799994,-86.58183768399994,-86.57638601899998,-86.57217510299995,-86.56838959599997,-86.56424457499998,-86.55963006999997,-86.55610333499999,-86.55231145699997,-86.54763014399998,-86.54261607699999,-86.53642675099996,-86.52966029799995,-86.52272099799995,-86.50923731999995,-86.49997030199995,-86.49325827099995,-86.48642343199998,-86.47947539999996,-86.47234594999998,-86.46507263899997,-86.45476460499998,-86.42678598899994,-86.41888859999995,-86.41113778099998,-86.40653765799999,-86.39784829599995,-86.39188665899997,-86.38607922499995,-86.38041488399995,-86.37400254599999,-86.36834394899995,-86.36289032299999,-86.35867939599996,-86.35345438099995,-86.34845693299997,-86.34365003699997,-86.33491519499995,-86.32841159899993,-86.32278608599995,-86.31870082899997,-86.31480247699994,-86.30795593999994,-86.30281730499996,-86.29180145999999,-86.28670114999994,-86.28275492099993,-86.27852149799998,-86.27535500799996,-86.27196887699995,-86.26760003399994,-86.26285823999996,-86.25831234799995,-86.25351321099998,-86.24378837499995,-86.22444121799998,-86.21613598599998,-86.21054936999997,-86.20408416299995,-86.19876529499999,-86.19367029199998,-86.18707948199994,-86.18090599599998,-86.17627964599995,-86.17183901499999,-86.15407953699997],"lat":[29.51516466000004,29.50474209600003,29.49453739900002,29.47998688900003,29.46801990900008,29.46215269400005,29.45379183600005,29.44269917200006,29.43198432900004,29.41852579800008,29.40823944200002,29.39805081600008,29.39185192700006,29.38585657100003,29.38153313400005,29.37399280000005,29.35871101500004,29.35003732000007,29.34418865900005,29.33748692200004,29.33341539500003,29.32568352600003,29.30532264500005,29.29971008700005,29.29636785600007,29.29332827800005,29.29048412700007,29.28782254500004,29.28081784000005,29.27846203200005,29.27569378700002,29.27209120000003,29.26792703600006,29.26318183300003,29.25811111400003,29.25262986100006,29.24522951000006,29.23814091000003,29.23103046800003,29.22415854200005,29.21780672900007,29.21686992500003,29.21214251600003,29.20803537000006,29.20457658900006,29.20230582100004,29.20042043200004,29.19848700500006,29.19702966800003,29.19591720000005,29.19534552700003,29.19514377700006,29.19546190100004,29.19543815800006,29.19522335800008,29.19501673600007,29.19438410000004,29.19334936600006,29.19168516900004,29.18946206500004,29.18615321100003,29.18364486100006,29.18084219100007,29.17840723400008,29.17538109200007,29.17132868800007,29.16700745800006,29.16246324300005,29.15696222300005,29.15124440200003,29.14533045300004,29.14203305500007,29.13581474500006,29.12897908900004,29.12196082000003,29.11439324200006,29.10665851500005,29.10011536100006,29.09351196900008,29.07212603000005,29.06604829300005,29.05505203200005,29.05015247300003,29.04455711000003,29.03915404000003,29.03278644000005,29.02608404700004,29.02078090600003,29.01578392600004,29.01185635300004,29.00813352800003,29.00464394000005,29.00191340200007,29.00004692800007,28.99689332500003,28.99381215200003,28.98414157200006,28.98005220800007,28.97667382800006,28.97291097600004,28.96891031600006,28.96525297000005,28.96124562100005,28.95594388800004,28.95022366300003,28.94471250200007,28.93898926700007,28.93001730000003,28.92479306100006,28.91791257200003,28.89576489600006,28.88922737200005,28.88301999000004,28.87832094600003,28.87400530600007,28.87017056900004,28.86827544000005,28.86496922100002,28.86249042000003,28.86087870200004,28.86015019000007,28.86047114200005,28.86387220500006,28.86453218300005,28.86466454000004,28.86434838300005,28.86365133900006,28.86257305300006,28.86063912700007,28.85907291000007,28.85724421500004,28.85432653500004,28.85097933800006,28.84628119100006,28.84192348000005,28.83732196500006,28.81743394500006,28.79758649600006,28.79016313100004,28.78053837900006,28.77558489600005,28.76682640800004,28.75836990800008,28.74985880400004,28.74457202700006,28.73371688100008,28.72433941300005,28.70594677300005,28.67890570200007,28.66436494500005,28.65429601000005,28.63680874700003,28.61790950400007,28.60447077200007,28.58602048600005,28.56306755100007,28.55049695100007,28.53850623000005,28.52700522000004,28.47891675000005,28.46174550400008,28.44676960900006,28.43141457900003,28.40964216000003,28.39284097300003,28.38506981900002,28.37318038300003,28.34867198700005,28.31142822500004,28.29884067100005,28.24284405700007,28.22859032400004,28.21553278500005,28.19336884200004,28.18479742200003,28.17420095700004,28.15847727200003,28.14684810700004,28.14089401400003,28.12954151200006,28.11838866900007,28.10929047300004,28.09239983400005,28.08189041300005,28.07138784900008,28.06130264700005,28.02190818100007,28.00855265100006,27.98163423100004,27.96862447900003,27.95731949400005,27.94637575800004,27.93458021700008,27.91789137600006,27.90343413200003,27.89677694400007,27.88585869000008,27.85983440600006,27.83353933900003,27.80620358000004,27.78845707000005,27.77608706400002,27.76590430700003,27.72983341800006,27.70041905700003,27.69232695300008,27.67602035800007,27.65845532200007,27.64617289600005,27.63040528300007,27.58424301100007,27.56048533700005,27.50353973100005,27.46235105800002,27.44964527000008,27.40940704900004,27.39399869200003,27.38485545400005,27.36468248200003,27.34970700900004,27.33977611600005,27.30796168500007,27.28785992800005,27.25557507700006,27.22036158100008,27.20934369000003,27.19728088200003,27.17923599300008,27.16214375000004,27.10909892300003,27.09760270500004,27.08500461900007,27.07737983900006,27.06642550100003,27.05931041500003,27.03345205400007,27.00505967000004,26.99720847200007,26.98666904600003,26.97234154300003,26.95691011700006,26.93367519300006,26.92435992000003,26.91085303600005,26.90423487500004,26.89260644900003,26.88628066700005,26.87304909900007,26.86523738300008,26.85749437700002,26.84930034500007,26.84154052100007,26.83387742700006,26.82700108100005,26.81727617200005,26.81186471900003,26.80010740500006,26.78783601800006,26.78003651600005,26.76293370100007,26.75110726700007,26.74406500300006,26.73792397900007,26.73168767600004,26.72618394400007,26.72057726200006,26.71484401100003,26.71115434700005,26.70427854300004,26.69159605300007,26.66907752100008,26.64203609600003,26.62287061500007,26.61562273600003,26.60708903600005,26.58564798100008,26.57491989800008,26.56080195600003,26.54163129400007,26.51982819000006,26.51218929800007,26.50446021300007,26.50020615000005,26.49591227300004,26.48933647800004,26.48269745200002,26.47032479200004,26.44257616500005,26.43587072400004,26.43021197900003,26.42311893700003,26.39986664100007,26.38442795100008,26.37662795200004,26.36480328200003,26.35026398300005,26.33720027900006,26.32207986700007,26.27931647200006,26.25953422600003,26.21070543900004,26.18918230600008,26.17570293000006,26.16113124900005,26.13405288500007,26.11895689900007,26.10054811400005,26.07749352300004,26.02488671400005,25.97910212900007,25.96457007100003,25.95672395100007,25.93435395700004,25.91993794200005,25.90802647500004,25.88780135700006,25.87322499000004,25.86481294700008,25.85260438100005,25.83305070100005,25.82233712700003,25.80885469100008,25.80169941300005,25.79522314600007,25.78869713500006,25.77410318800003,25.76744580300004,25.75771449800004,25.75033329300004,25.74294134200005,25.73229600400003,25.72649154500004,25.71533644400006,25.69681092000008,25.67879171400006,25.66184313800005,25.63499740000003,25.62684329600006,25.59143927300005,25.58183505400007,25.56391764900008,25.55636029200008,25.53967165800003,25.49544478900003,25.48041469800006,25.45075945400004,25.43427302700007,25.40714900500006,25.35391520900004,25.34561388200007,25.33764705600004,25.31748306600002,25.31010223600003,25.29856643500005,25.28754668900007,25.27519818700006,25.25969403000005,25.23275467200006,25.21191491800005,25.15920372700003,25.13445474300005,25.11032669800005,25.08095482100003,25.04359424000006,25.03603570100006,25.02927907800006,25.02344265500005,25.01765448300006,25.00912339600006,25.00194231500006,24.99487808700007,24.98473810900003,24.97844960300006,24.97226782400003,24.96621656000008,24.96043692500007,24.95482472700007,24.93780886200005,24.91588167500004,24.90294055200008,24.89260935400006,24.88737334500007,24.88224672500007,24.87577812000006,24.87015371200005,24.86445191900003,24.85869441000006,24.85266888700005,24.84818983300005,24.84167081100003,24.83522656600007,24.82891734200007,24.82281091700003,24.81882313800003,24.81504533900005,24.81138031400008,24.80645319100006,24.80163993000008,24.79598700500003,24.79106520300007,24.78640811600008,24.78278242700003,24.77925798900003,24.77465451000006,24.74954266600002,24.73624110400004,24.73259842300007,24.72859253700005,24.71948040000007,24.71390072500003,24.69637715300007,24.68465402400005,24.68128637300003,24.67832426900003,24.67439071100006,24.66460310000008,24.65918073400007,24.65562879100003,24.64459618000006,24.64018842800004,24.63051727100003,24.60795383100003,24.58603958000003,24.57075651600007,24.56469489500006,24.55011280800005,24.53747791700005,24.53042500600003,24.51807991500004,24.51178576300003,24.49871687300003,24.49170671800005,24.48192945200003,24.47440105200008,24.47061233300008,24.46485225800006,24.46095297400007,24.43270759900003,24.42695494200007,24.32602547300007,24.32620422100007,24.32942855300007,24.33502870700005,24.33808994400005,24.34117703700002,24.34581737600007,24.34829883300006,24.35112560300007,24.35492164100003,24.35887846200006,24.36162035300003,24.36709153500004,24.37489417200004,24.38825876400006,24.39367736800006,24.40007424500004,24.40503110800006,24.46192611900005,24.47047705600005,24.47797199800004,24.48565101000003,24.49512205900004,24.50550839300007,24.51408823400004,24.52235906600004,24.53226628300007,24.54089531300008,24.54526313000002,24.54977208700006,24.55373667800006,24.55786603600006,24.56171617900003,24.56571966600006,24.56977291700002,24.57394845700003,24.57942839000003,24.59181941600008,24.59848715100003,24.60502567400005,24.60972710200008,24.61539261000007,24.62082380200007,24.63246617800007,24.64152058400003,24.64528926500003,24.64887315100003,24.65338372300005,24.65697328500005,24.66235395300004,24.66748976000002,24.67555917700003,24.68015375700003,24.68597135300007,24.69405057400007,24.70644055800005,24.71073132900005,24.71794453800004,24.73370809800002,24.74515169800003,24.75025840100005,24.75377835500007,24.75751894500007,24.76176700400003,24.76677456000004,24.77202946300002,24.78760570200006,24.79275961200005,24.79741379400008,24.80179749400003,24.80574202500003,24.80945410500004,24.81403131900004,24.82215688300005,24.82853634400004,24.84282119200003,24.85250653700007,24.85694998900004,24.86148636100006,24.87552455400004,24.88215708200005,24.88551987900007,24.88886929500006,24.89034129200007,24.89418697000008,24.89740669700006,24.90082435800002,24.90728014600006,24.92091446800003,24.92778036300007,24.97814846000006,24.98538394200006,24.99198288900004,25.01787018800007,25.02772571200006,25.05109378900005,25.05655953800004,25.06214531400008,25.06526660500003,25.06851419000003,25.07604969800008,25.09542597800004,25.12677198700004,25.13507913800004,25.14260192300003,25.16998339800006,25.21164730800007,25.23731624600003,25.26837941200006,25.31232408400007,25.33063666800007,25.35386707700007,25.40403970900007,25.43712357800007,25.45111775500004,25.46218891000007,25.47598850200006,25.48806209800006,25.52542439700005,25.53664324100004,25.54981254800003,25.56272341200003,25.59418310800004,25.62650218400006,25.66213383900003,25.67963555500006,25.70471046900008,25.74407229700006,25.77951973600005,25.80257362800006,25.84366571300006,25.86158616000006,25.88031176500004,25.91380881600003,25.92941607200004,25.94317025200007,25.97362154200005,26.01823620300007,26.03891312400003,26.04984831000007,26.06189294300003,26.12737809300006,26.14522649300005,26.15376916200006,26.16469495900003,26.20939614100007,26.25227223000007,26.27936957900005,26.29981858700006,26.30801298400007,26.32222133600004,26.36492605900003,26.38806967400006,26.40829176900007,26.42757784300005,26.45274835600003,26.48599602300004,26.54108873600006,26.55989687600004,26.59706294900008,26.60909796400006,26.62268878800006,26.64627297200008,26.67505144200004,26.68976069500007,26.74015164800005,26.75181629800005,26.76219484300003,26.76936955400004,26.78568408300004,26.81111822500003,26.82714406500003,26.84258170300006,26.85025623500007,26.85681323700004,26.86956371600007,26.87759833600006,26.90970029900006,26.92175219500007,26.93805152100003,26.95237875200007,26.96746543600005,27.00449302600003,27.03297178500003,27.09569504300003,27.14663272600006,27.17361971500003,27.22118243200003,27.23702490900007,27.25190248600006,27.28927638600004,27.31864362500005,27.34718346700004,27.37494952800006,27.40175263600003,27.41963816500004,27.43709941600002,27.45454785800007,27.46733283300006,27.47419724700006,27.48100455200006,27.50386860000003,27.51887598400003,27.53351531400006,27.54732976500003,27.56615749300005,27.63057882300006,27.66566506300006,27.68728858600008,27.73863339900004,27.75200476800006,27.79299101300006,27.80579163600004,27.81830929300003,27.82562618000003,27.84012723400008,27.87047825300004,27.88186924100006,27.89295988900005,27.90507228300004,27.91118030200005,27.91711326600006,27.92294710700003,27.93240204900007,27.94140191300005,27.95361799700004,27.96483574200005,27.97081800900003,27.98761020400008,28.00256439700007,28.02189010000006,28.04031396100004,28.05188764200005,28.06090743300007,28.06720846500008,28.07493910000005,28.08369364400005,28.11883475600007,28.17297569000004,28.18014885500003,28.18741964500003,28.21098758700003,28.22046395300003,28.22899365500007,28.23887296600003,28.25555339100003,28.26405969000007,28.29568975500007,28.30328296600004,28.31202096900006,28.32626973100002,28.34387161600006,28.35847963000003,28.38333955100006,28.41005900800008,28.42203868000007,28.43149195400002,28.43719450800006,28.44365523400006,28.44984134900005,28.46459978200005,28.47415165200005,28.49693092600006,28.51036237500006,28.51653904500006,28.53561735500006,28.54371553600004,28.55185237900002,28.57114264400008,28.58096732400003,28.58553553300004,28.59435249300003,28.60246034300008,28.61516948100007,28.63104112000008,28.64528702700005,28.66197303600006,28.67607862900007,28.69022107400008,28.72655251300006,28.73802221500006,28.74835871100004,28.75686905100002,28.76278628700004,28.76880199500005,28.77516813700004,28.80697391800004,28.82563805400002,28.84986461400007,28.88888098900003,28.91152663600008,28.92711995300004,28.94123806200002,28.95333183800005,28.96681590800006,28.98145971100007,28.99375318800003,29.00772463000004,29.03204313600003,29.04222279500004,29.05465753800007,29.07171672300007,29.08286669100005,29.09507704500004,29.13231531000002,29.14277220300005,29.18324007300004,29.19754667300003,29.20464076100006,29.21164707500003,29.22108727600005,29.23813781700005,29.24874632000007,29.27529541100006,29.28235619300006,29.29254275200003,29.30310582600003,29.31462714700007,29.33711052100006,29.34753353900004,29.35886995300007,29.36706612100005,29.37286199400006,29.37856825100005,29.38754826100006,29.39696003300003,29.41462255200003,29.45440051000003,29.46316465700005,29.46803660500007,29.47586278000006,29.48344608200006,29.48787001400007,29.49200434000005,29.49649015600005,29.49831705800005,29.50180262900005,29.50434566100006,29.50668666300004,29.50885051300003,29.51080258600007,29.51257974200007,29.51416704100006,29.51554810600004,29.51784255200005,29.51920462500004,29.52020343700008,29.52176041900003,29.52270403700004,29.52336413500007,29.52382786300007,29.52398585800006,29.52379212200003,29.52318157000008,29.52231654900004,29.52110405200006,29.52013059100005,29.51796311100003,29.51622749400008,29.51291046200004,29.51037023900005,29.50684710500008,29.50304962200005,29.49860633700007,29.49579961500007,29.48872718000007,29.48306509000003,29.47421706500006,29.46057152500003,29.45375427500005,29.44791557300005,29.44272726900004,29.42884185800006,29.42157229200006,29.38503262300003,29.37903970900004,29.37332549000007,29.35810746600004,29.35497515500003,29.35124173000003,29.34545278600007,29.32619747600006,29.32116921400007,29.31671494700004,29.29171354500005,29.27748773300004,29.25966119000003,29.25244091400003,29.24719992300004,29.23642321600005,29.22165221800003,29.20903272500004,29.19807787300005,29.19222707200004,29.18249957400008,29.17878191000005,29.17505479900007,29.17023299100003,29.16598151700003,29.15853376900003,29.14888509300005,29.14180421800006,29.13415813400007,29.11324106500007,29.10953739300004,29.10718787700006,29.10473806500005,29.10069141500003,29.09668068900004,29.09499026300006,29.09084592600004,29.08576130300003,29.08435594800005,29.08276188700006,29.07989907700005,29.07731052800006,29.07443043700005,29.07129711000005,29.06595430900006,29.06236188000003,29.05851395100007,29.05464047900006,29.05053914000007,29.04737089300005,29.04006374500005,29.03590491100005,29.02730435000007,29.01280480500003,29.00595071800007,28.99745990900004,28.98813355900006,28.98037640200005,28.97240707500004,28.96806928900003,28.96340582200003,28.96103404800004,28.95566175900007,28.95179714400007,28.94566836300004,28.94174012200006,28.93645118100005,28.93294155600006,28.92986299300003,28.92761900400006,28.92557302800003,28.92293408800003,28.91997854900006,28.91581855800007,28.91333771300003,28.91157343900005,28.90942167700007,28.90691094900006,28.90404639400003,28.90089451000006,28.89750770000006,28.89122628300004,28.88698362500003,28.87250834200006,28.86541324200005,28.84180685800004,28.83420567900004,28.82998005800005,28.80808594600006,28.80319821200004,28.79918920200004,28.79559906500003,28.79214531700006,28.78689711400006,28.78388000800004,28.78052610800006,28.77645000100006,28.76880507300007,28.76689470600007,28.76476555300007,28.76243529400006,28.76034477500008,28.75801224000003,28.75434398700003,28.75035144800006,28.74415041300006,28.73883952700004,28.73323276100007,28.72740017600006,28.72048600200003,28.71505434600004,28.69263029900003,28.68252054000004,28.67580356300004,28.66912197400006,28.66250527200003,28.65598640200005,28.65144960900005,28.64707694900005,28.64215475500004,28.63736720100007,28.63158832000005,28.62603030000002,28.62126011400005,28.61665564700007,28.61252443000006,28.58732703000004,28.56841883100003,28.56262447000006,28.55709795000007,28.55146392800003,28.54628816700006,28.54157008200008,28.53817012700006,28.53505046900005,28.53220289400008,28.52986745500004,28.52776276300006,28.52588733200002,28.52422428000006,28.52236075800005,28.52131475300007,28.52041951000007,28.51936536400007,28.51650187600006,28.51466443500004,28.50850089300008,28.50806547900004,28.50790472600005,28.50808401300003,28.50868724900005,28.50985758000007,28.51149443200006,28.51355911800005,28.51573436600006,28.51982793100007,28.52691452400006,28.53192938500007,28.53427962800004,28.53729403600005,28.53983860700004,28.54201072000006,28.54518441200003,28.54720112400003,28.54876154900006,28.55009092600005,28.55092978100004,28.55163031300003,28.55263100000008,28.55382837300004,28.55476362100006,28.55705614900006,28.55821915200005,28.55898580700006,28.55994335300005,28.56174540800004,28.56401243300007,28.56516508900006,28.56841087200007,28.57220472800003,28.57683923000008,28.57996616600008,28.58327155400008,28.59830242200007,28.60331125800008,28.60753449300006,28.61054355700003,28.61232781500007,28.61335622400003,28.61361730400006,28.61343735800006,28.61294287100003,28.61182143900004,28.61020271700005,28.60765808900004,28.60458775800004,28.60192696800004,28.59904542200007,28.59489770400006,28.59041641000005,28.58604198100005,28.58150503600007,28.56128531900004,28.55375072700008,28.54928598400005,28.54474995000004,28.54005418000003,28.53598008200004,28.53177271700002,28.52669331100003,28.52153268300003,28.51539429800005,28.50931424900006,28.50190447300002,28.49480454700006,28.49063159100007,28.48693598900007,28.48384382200004,28.48190051600005,28.48047543800004,28.47940343900007,28.48009326700003,28.48149216300004,28.48428917500007,28.48892008100006,28.49151963700007,28.49317235700005,28.49348891200003,28.49241697400004,28.49001895400005,28.48659956800003,28.48306266000003,28.47909760700003,28.47170752500006,28.46385776000005,28.45500349700006,28.44935779500003,28.44353604000003,28.43747524100007,28.43491056500005,28.42735614800006,28.41954416100003,28.41158483300006,28.40511393200006,28.39862692400004,28.39248054900003,28.38636153000004,28.37612651300003,28.36108486200004,28.34767987500004,28.34201598400006,28.33730797700002,28.33255828000006,28.32844901500005,28.32071798300007,28.31292219000005,28.29835001900005,28.29104899400005,28.28447711800004,28.27799254300004,28.27163160100002,28.26519940400004,28.26061151900007,28.25377979100006,28.24756224800007,28.24160649500004,28.22473799000005,28.20867907400003,28.20250771600007,28.19838833000006,28.19462995100002,28.19120394900006,28.18805401000003,28.18479964000005,28.17616083500008,28.17283008700008,28.16927610200003,28.16371860900006,28.16030074000003,28.15677156800007,28.14938618200006,28.14414240800005,28.13900758500006,28.13369678200007,28.11622627300005,28.11027333100003,28.10536194600007,28.10064281900003,28.09561396000004,28.09103259900007,28.08768297600005,28.08575894300003,28.08329214500003,28.08101395700004,28.07921805200004,28.07774203500003,28.07631959600008,28.07576304900005,28.07555676400005,28.07559640300008,28.07586953400005,28.07695691500004,28.07739497700004,28.07740003000004,28.07720463800007,28.07656611300007,28.07557624300006,28.07429008100007,28.07314495500003,28.07184680700004,28.06933350500003,28.06646423100005,28.05814632200003,28.05436057500003,28.05145475900002,28.04892117100007,28.04719608500005,28.04564138700005,28.04459896900005,28.04194913700007,28.03512860000006,28.03165231700007,28.03068188900005,28.02963524900002,28.02840130300007,28.02586998900006,28.02304751500003,28.02122635500007,28.01298637200006,28.00938741400006,28.00660268500008,28.00385124300004,27.99709232300006,27.99514168800005,27.99169446300004,27.98888424300003,27.98573875900007,27.98151538400003,27.97614240500008,27.96174835200003,27.95363537200006,27.95091564600006,27.94840523000005,27.94626498700006,27.94432935800006,27.94290904000007,27.94221328200007,27.94177237700006,27.94150834400006,27.94103875000008,27.94059978600006,27.93955829800007,27.93779372000006,27.93582820200004,27.93358159200005,27.92911272500004,27.92517558500003,27.92066533700006,27.91879620500004,27.91547471900003,27.90754028300006,27.90382821800006,27.90183104200003,27.90001658000006,27.89776019600004,27.89594286200003,27.89420861300005,27.89350358200005,27.89327245800007,27.89338535700006,27.89362920400004,27.89421390700005,27.89501703600007,27.89601140000008,27.89920179800004,27.90032372100006,27.90085036900007,27.90184374100005,27.90288186200007,27.90475587600002,27.90885194800006,27.91072510900005,27.91162421600006,27.91271823200003,27.91297674400005,27.91278394200003,27.91243586900003,27.91191033100006,27.91007546800006,27.90732511900006,27.90368750100004,27.90231928700007,27.89842035000004,27.89399889600003,27.88915094000004,27.88273011400003,27.87597925200004,27.86333980900002,27.85766982200005,27.85233060700006,27.84935960200005,27.84553038700005,27.84204523200003,27.83888762000004,27.83603550200007,27.83280756200003,27.83046463300008,27.82852435700005,27.82739935200004,27.82601264100003,27.82507116300008,27.82464165400006,27.82481046800007,27.82544721700003,27.82650790200006,27.82781371600004,27.82940036700006,27.83086417800007,27.83395473100006,27.83970989400007,27.84202673000004,27.84389173200003,27.84511677200004,27.84547137400006,27.84529573000003,27.84480039700003,27.84401725800006,27.84311919400005,27.83894039000006,27.83781308400006,27.83690569400005,27.83623832300003,27.83586986400007,27.83587590300004,27.83644011600006,27.83735773500007,27.83841579500006,27.84174198100004,27.84288914500007,27.84346930300006,27.84366196100007,27.84354891100003,27.84315943200005,27.84243089800003,27.84109799300006,27.83984612900002,27.83798596200006,27.83414626900003,27.83009478600007,27.82557735100005,27.81519551200006,27.81144734300005,27.80837736000007,27.80655745600006,27.80524640900006,27.80447931900005,27.80441743000006,27.80522004300008,27.80688322800006,27.80932437000007,27.81170317800007,27.81390784500007,27.81711653400004,27.82293682500006,27.82937670800004,27.84895266400002,27.85504186800006,27.86064338200003,27.86551124200003,27.86771957100007,27.86908576500008,27.87104822000003,27.87297729200003,27.87360631600006,27.87291409200003,27.87175082900006,27.87051448500006,27.86908145300004,27.86672735500002,27.86401538300004,27.85973477400006,27.84444023900005,27.84046581300004,27.83669867600003,27.83312489600007,27.82998952400004,27.82739878400002,27.82492246100003,27.82308754100006,27.82086870300003,27.81894953400007,27.81704270500006,27.81488572600006,27.80811568600006,27.80588895300008,27.80293474100006,27.80123557700006,27.79982193900003,27.79862451900004,27.79815817200006,27.79788341200003,27.79777872000005,27.79816084400005,27.79932967900004,27.80033595100008,27.80559984100006,27.80634631000004,27.80718925800005,27.80748947600006,27.80727849600004,27.80822597400004,27.80875601200006,27.80908996100004,27.81017017200003,27.81111345800008,27.81310890800006,27.81370679400004,27.81392480300008,27.81388358800007,27.81346680900003,27.81265219300008,27.81081922900006,27.80835201800005,27.80536194100006,27.79840971500005,27.79559528600004,27.79314122800002,27.79110427300003,27.78977966700006,27.78885866300004,27.78842608300005,27.78824555900007,27.78837400100008,27.78889054300004,27.79059193700004,27.79319880000003,27.79725705900006,27.80128055600005,27.80365247600002,27.81191143000007,27.81595513000008,27.81902387100007,27.82157141800008,27.82312220600005,27.82430298100007,27.82508798500004,27.82553187300005,27.82563674200003,27.82538968600005,27.82433936200005,27.82196898100005,27.81947457600006,27.81653744500005,27.81294141600006,27.80935850100008,27.79985711600006,27.79694194000007,27.79432753000003,27.79258645300007,27.79069235700007,27.78948549500006,27.78928229000007,27.79031903900005,27.79244634300005,27.79546136100004,27.80025654400004,27.81162536700003,27.82143324400005,27.82683076800004,27.83058645400007,27.83412086700002,27.83734146500007,27.83975285200006,27.84133783900006,27.84377490500003,27.84533523700003,27.84603576700005,27.84600649100003,27.84551264900006,27.84451624700006,27.84305015600006,27.84085227700007,27.83823922500005,27.83502849200005,27.82501792700003,27.82199286500003,27.81907545500007,27.81679662900007,27.81495538700005,27.81359694300005,27.81273541500008,27.81254387200005,27.81261224700006,27.81317555300006,27.81595760800008,27.81728599400003,27.81819329700005,27.81850021700006,27.81890620000007,27.81928551000004,27.82022533800006,27.82097289800004,27.82189913100007,27.82301178300003,27.82444901500003,27.82612691700007,27.82880977200006,27.83196609500004,27.83500871500007,27.83822138400006,27.84460680300003,27.84746533600003,27.84903103600004,27.84896382300008,27.84757690100002,27.84538999300003,27.84246317600002,27.83892187700008,27.83525403400006,27.82901222200007,27.82204117900005,27.80799080300005,27.79729341400002,27.79195951500003,27.78362952700007,27.77842110400007,27.77099610400006,27.76398965300007,27.75931614300004,27.75129272500004,27.74208301200002,27.73771044000006,27.73311777500004,27.72916010100005,27.72552852900003,27.72195712900003,27.71863714100004,27.71592542100007,27.71408563700004,27.71374683100004,27.71335168600007,27.71376713800004,27.71516531800006,27.71533609200003,27.71470523100004,27.71325854200006,27.71077171000007,27.70763824800002,27.70392200700007,27.70135481500006,27.69859820900007,27.69439935700007,27.68992694200006,27.68533040200003,27.67690442600008,27.66112662000006,27.65602707400006,27.65073737900008,27.64594505600007,27.64225941400002,27.63876919800003,27.63566145200008,27.63278549800003,27.62043169100008,27.60726887500005,27.60195851700007,27.58495078400006,27.58278144000008,27.58086291400008,27.57869104500003,27.57748265100003,27.57681531900005,27.57642222900006,27.57629705700003,27.57652009400005,27.57701953800006,27.57774450700003,27.57875689200006,27.58092617800003,27.58373905200006,27.58613407200005,27.59177275900004,27.59370230200005,27.59516928000005,27.59618745400007,27.59699767700005,27.59759263400002,27.59794175200005,27.59814005100003,27.59803762500007,27.59751645000006,27.59660502100007,27.59576016800003,27.59335669800004,27.58630148300006,27.58373743400006,27.58127679800003,27.58024234300007,27.57954147800007,27.57930328100002,27.57935559600003,27.57985369800008,27.58094958100003,27.58275791700004,27.58519698600003,27.58822858100007,27.59171549300004,27.59703331200006,27.61378186600007,27.61654619100005,27.61976854900007,27.62273572700008,27.62629171500004,27.63500165800008,27.63917509200007,27.64587205900006,27.65276622500005,27.66595435500005,27.67058812200003,27.67401432200006,27.67741642500005,27.68024785800003,27.68254880300003,27.68389635600005,27.68440280000004,27.68443395700007,27.68390869600006,27.68391984400006,27.68367415000006,27.68316316100004,27.68241472200003,27.68090253700007,27.67800183000003,27.67718344900004,27.67678204900005,27.67706959500003,27.67753460900008,27.67845059300004,27.67967312100006,27.68275129300002,27.68658796900007,27.69092623100005,27.70667990900006,27.71179863400005,27.71727149100008,27.72221582300006,27.72600833400003,27.72896251800006,27.73096037200003,27.73154943000003,27.73147628900006,27.73066864100008,27.72871624000004,27.72610770200004,27.72318033500005,27.72025458200005,27.71226944000006,27.71058197700006,27.71025499900003,27.71124254500006,27.71173021400006,27.71428993100005,27.71771432500003,27.72305256900006,27.73420472700008,27.73732015200005,27.74100150300006,27.74408638100005,27.74640684400003,27.74787645700007,27.74838166100005,27.74845248800005,27.74766606900005,27.74557856200005,27.73616874000004,27.73340608700005,27.73200518300007,27.73083119300003,27.72984728600005,27.72906893100003,27.72821696800003,27.72658801500006,27.72555374000007,27.72460268700007,27.72342822200005,27.72193582800003,27.71997393700008,27.71764484100004,27.71497064800008,27.71202394900007,27.70327473900005,27.70100463400007,27.69892489600005,27.69674993700005,27.69494799100005,27.69354772800006,27.69265920900006,27.69210830200007,27.69194281800003,27.69269924100007,27.69460587600003,27.69755928200004,27.70071487600006,27.70436872900007,27.70886481500003,27.71369444200008,27.71841144200005,27.72322882400005,27.72807100900008,27.73290096400007,27.73590998900005,27.73970690100003,27.75237177400004,27.75764018300003,27.76210671300004,27.76636537100006,27.76786706200005,27.76950006900006,27.77100109200006,27.77477960900006,27.77820250200006,27.78130264100002,27.78335179100003,27.78519195500007,27.78733573800002,27.78901442500006,27.78955139800007,27.79053240400003,27.79101939200007,27.79098119500003,27.79050107600006,27.78997642700006,27.78878768900006,27.78718513600006,27.78541152900004,27.78330910100004,27.78105790300003,27.77850631500007,27.77631126500006,27.77390431400005,27.77124780700007,27.76635342300006,27.75975122600005,27.75161915900003,27.74392418200006,27.73603372700006,27.72915238900003,27.71683743400007,27.71151293400004,27.70770307800007,27.70408904900006,27.69939507500004,27.69525551300006,27.69177702000007,27.68870569700005,27.68678758400006,27.68606279800002,27.68637512300006,27.68748410500007,27.68907755800006,27.69153044000007,27.69386768400005,27.69930910400006,27.70179477200003,27.70402355500005,27.70589474800005,27.70727340100007,27.70788578300005,27.70811563100006,27.70799022200003,27.70759908000002,27.70700060800004,27.70612316600005,27.70498454200003,27.70360759900007,27.69919846600004,27.69717354600004,27.69532391300004,27.69366245700007,27.69253564300004,27.69165847500005,27.69109106800005,27.69076944300008,27.69072354400004,27.69119225800006,27.69247446400004,27.69457768500007,27.69737855000005,27.70082968900005,27.70483718600008,27.70843061800002,27.71227436600003,27.71701910200005,27.72193522300006,27.72789090000003,27.73386199600003,27.73837403600004,27.74280269100007,27.74868800300004,27.75428609600004,27.77008471200003,27.77471138200008,27.77743015100003,27.78115092800005,27.78558480200007,27.78990406600008,27.79400579600008,27.79709647300007,27.79987625500007,27.80364041000007,27.80514950300005,27.80743545600006,27.80905232200007,27.81011269900006,27.81064818300007,27.81088466200003,27.81080338200007,27.81041484200006,27.80991206300007,27.80910816200003,27.80806633400005,27.80676801500005,27.80495628700004,27.80273863900004,27.80018036900003,27.79735399400005,27.79386426900004,27.79040902800006,27.78659629000003,27.78524546600005,27.78096735200006,27.77628050600003,27.77277905000005,27.76834002800007,27.76374347600006,27.75889294000007,27.75188854700008,27.73957008400004,27.73451925800003,27.72700550500008,27.71963667900008,27.71297698900003,27.70723236200007,27.70378849500003,27.70114969000008,27.69982344800007,27.69900237300004,27.69871719700006,27.69890697400007,27.69996996800006,27.70181178600006,27.70430501100003,27.70554516900006,27.71352835900007,27.71689893700005,27.71892148200004,27.72079557700005,27.72286191100005,27.72472461800004,27.72614480300007,27.72810346200004,27.72960792800006,27.73069632200003,27.73153608200005,27.73176901900007,27.73179597300003,27.73157811400006,27.73079351300004,27.73072978700003,27.73119531400005,27.73236212200004,27.73404880500004,27.73630224800007,27.73913144500006,27.74087767300006,27.74211460900005,27.74628885500005,27.75403854800004,27.75780348000006,27.76189983100005,27.76561320500008,27.76903424100004,27.77338828700005,27.77617354300003,27.77862594500004,27.78084692700003,27.78224846100005,27.78345930000006,27.78442851900007,27.78520583100004,27.78553311400003,27.78536702500003,27.78476892200007,27.78315313800005,27.78190706500004,27.78011692900003,27.77632214900007,27.77456753400003,27.77311869000005,27.77199235300003,27.77019529200004,27.76809496900006,27.76654940200007,27.76441602200003,27.76184638800004,27.75823299800004,27.75502700100003,27.75311174500007,27.74895283300003,27.74478992400003,27.73351063000007,27.72893068300004,27.72580923100003,27.72378085600008,27.72110590100004,27.71847959600007,27.71228030700007,27.71006428400005,27.70714900000007,27.70557136900004,27.70426708800005,27.70228677000006,27.70006613700008,27.69758789100007,27.69480946700003,27.68597309400008,27.68256763600004,27.67946573000006,27.67712982900002,27.67490849800004,27.67326605900007,27.67220337000003,27.67196842500005,27.67246183300006,27.67207363200004,27.67130294200007,27.67004078600007,27.66767648000007,27.66526892100006,27.66166661400007,27.65722636100003,27.65234057700007,27.63688953100007,27.63006122600007,27.62650715300003,27.62310323300005,27.61754013800004,27.61101994200004,27.60165896700005,27.59659879100008,27.59359278100004,27.59017502700004,27.58653739900006,27.58227914900004,27.57666791400004,27.57059629100007,27.56457228800008,27.55821722500008,27.55384210900007,27.54937042600005,27.52654684800007,27.52320542100006,27.51676087300007,27.50993995200002,27.50341848000005,27.49859095300008,27.49402193900005,27.49017412200004,27.48661144700003,27.48404908900005,27.48166946800006,27.47837010100005,27.47019747700006,27.46693438400007,27.46378615300006,27.46037203200007,27.45650514500005,27.45240968400003,27.44425237400003,27.42026021800007,27.40838490000004,27.39733383300006,27.37121245500003,27.35380677400008,27.27574867300007,27.26057562000005,27.24367768900004,27.22986149600007,27.21872695300004,27.20457647700005,27.19094042300003,27.18125676600005,27.17329784200007,27.16130680300006,27.15000399100006,27.13806649500003,27.12352595600004,27.11097845100005,27.07767161600003,27.06865482600006,27.05752330700005,27.04533135400004,27.03346120700007,27.00428476000008,26.99047105600005,26.98058913300002,26.97499623300007,26.96934010500007,26.96203093300005,26.95413825600008,26.94612321600005,26.94094291000005,26.93394154000003,26.92685020800008,26.92004559300005,26.91255398600003,26.90499925000006,26.89238041300007,26.87932257100005,26.87144708300008,26.84278764000004,26.82730453600004,26.81701682800008,26.80945034100006,26.79436643400004,26.78711148000008,26.77750251300006,26.77124113900004,26.75846897400004,26.74469347200005,26.69874268900003,26.68821038800007,26.67735552800008,26.66976524800003,26.65452847300003,26.60282091000005,26.57597477300004,26.55328155100005,26.50549376600003,26.48675538900005,26.46363668900005,26.43523004200006,26.41929354700005,26.38167357600003,26.36489204300005,26.34967003800006,26.33509335900004,26.31810709900003,26.30436065100002,26.29751056000003,26.29117087400004,26.28305917500006,26.27499552100005,26.26699504400005,26.26010343300004,26.25405391800007,26.22955106100005,26.22363913900006,26.21693695900007,26.21046093300004,26.20397619400006,26.19749661800006,26.19103666900003,26.18747937700005,26.18021604300003,26.17299265100007,26.16580505500008,26.15997138400007,26.13438240900007,26.12646436700004,26.11791034700008,26.11022231500004,26.10246116900004,26.09427946800002,26.08500887900004,26.05762363300005,26.04816232400003,26.04221858500006,26.03659812600006,26.02764096600004,26.02103994900006,26.01628784300004,26.01373799700008,26.01340322700003,26.00996610900006,26.00993101100005,26.01340322700003,26.03551531900007,26.08056244000005,26.10064899900004,26.11894645100006,26.14709316600005,26.15977363500008,26.18015222500003,26.21319310500007,26.22468859200006,26.27588971400007,26.30390539900003,26.31966264500005,26.33003881800005,26.34174431900004,26.34777487000002,26.35943076000007,26.36973350500006,26.38056820000003,26.39282397600005,26.39995808200007,26.41228366800004,26.42000123400004,26.42760455700005,26.43194864000003,26.44016298400004,26.45002626900003,26.46229592900005,26.47002003700004,26.47642243900003,26.48719486800007,26.49703245400008,26.51160558500004,26.52224050200005,26.54622767500007,26.56890147700005,26.57932246100006,26.61017025400002,26.63551821200008,26.64709938900006,26.65608742400008,26.66270896200007,26.69611707000007,26.70573840000003,26.71700878700005,26.72300170700004,26.72865683500004,26.74007852700004,26.75165888200007,26.76652778100004,26.78029851300005,26.78697767700004,26.80066899900004,26.81001602400005,26.82209340900005,26.83058843500004,26.84264748800007,26.85709382900006,26.91526614000003,26.93122012900005,26.94502292900006,26.95879626000004,26.96761390400007,26.98230282600002,26.99776078900004,27.03317002100005,27.06138489600005,27.07275338900007,27.08534357300005,27.10084235200003,27.11611846500006,27.13190292100006,27.14555919300005,27.16552000900003,27.23347782200005,27.25100517600004,27.26965342800003,27.28247101800002,27.28984723700006,27.29750702900003,27.30916640300006,27.31942411200004,27.32550207100007,27.34462005100005,27.35131404500004,27.35843732600006,27.36570223200005,27.38381617200002,27.39365127800005,27.42524734100004,27.43828167200007,27.46053328600004,27.47786339200007,27.48304809200005,27.48811710600006,27.49257016800004,27.49874627100007,27.51724965800003,27.52458402300005,27.53214433900007,27.55433884700005,27.56321325500005,27.57337001900004,27.57829394800007,27.58781272500005,27.59484690400006,27.60421787600006,27.62697166300006,27.63742987600006,27.64201987000007,27.64627704500003,27.65036870500006,27.65599597100004,27.66187648000005,27.66549419600005,27.67222947900007,27.67932955900005,27.68436510400005,27.68856731600005,27.69201961600004,27.69546873700006,27.69690293400004,27.69955719300003,27.70675237700004,27.71122383000005,27.71350146300006,27.71487855500004,27.71605950700007,27.71679390800006,27.71772505800004,27.71877465100005,27.71947087500007,27.72030659500007,27.72129658900008,27.72313334900008,27.72534600400007,27.72816124400003,27.73016486000006,27.73207549100005,27.73743609300004,27.74742722600007,27.75241452600005,27.75609248200004,27.75895500800004,27.76201535100006,27.76403223300002,27.76770119500003,27.76877498800008,27.77025767200007,27.77209274600006,27.77402017400004,27.77531515600003,27.77794556300006,27.78087693700007,27.78310955800004,27.78817168200004,27.79101383800003,27.79588924700005,27.80349501300003,27.80750229000006,27.81196050800003,27.82454999800007,27.83296476800007,27.83905575200004,27.85697596000006,27.86458885300004,27.87880195700006,27.89083514000004,27.89428119300004,27.89751423000007,27.90083600100007,27.90336720000005,27.90564156500005,27.90829056300004,27.91042669400002,27.91545186200005,27.92363299100003,27.92943830800004,27.93461489500004,27.93889315000007,27.94225591800006,27.94394816500005,27.94837422300003,27.94928521400004,27.95000605300004,27.95067494100005,27.95153561600006,27.95253484800003,27.95320202300007,27.95409440600002,27.95592118000008,27.95706819100008,27.95766841100004,27.95796016400004,27.95791999700003,27.95693445600006,27.95671556200006,27.95674130100008,27.95702434800006,27.95696247400008,27.95664660100005,27.95593489700008,27.95369896200003,27.95302491600006,27.95272761100006,27.95278440400006,27.95305568200007,27.95363758200006,27.95427131300005,27.95591612800007,27.95785852300003,27.96229874400007,27.96589354500003,27.96952250600003,27.97127739000007,27.97189790300007,27.97228842900006,27.97273826200006,27.97276262100007,27.97265335600002,27.97233860200004,27.97176563600004,27.97120743200003,27.97012365700004,27.96920640400003,27.96808793400004,27.96697250400007,27.96568170200004,27.96378822200006,27.96156329800004,27.95863229900004,27.95528282200007,27.95037181600003,27.94501299500007,27.93550688100004,27.93083631000007,27.92802282600007,27.92543087900003,27.92151451800004,27.91844005500008,27.91659435500003,27.91540528800004,27.91498865000005,27.91477974200006,27.91466834900007,27.91510182900004,27.91591973200008,27.91651806100003,27.91734300500008,27.91898978400008,27.91999338000005,27.92212236700004,27.92440500700008,27.92579926800005,27.92905066700007,27.93135420100003,27.93383178200003,27.94002703900003,27.95007825000005,27.95328420700002,27.95828856000003,27.96223018800004,27.96655464100007,27.96943511000006,27.97128844600007,27.97269207100004,27.97326401100003,27.97356003100003,27.97365030200007,27.97346017800004,27.97303607700007,27.97139484000007,27.97073564800007,27.96992418600007,27.96982180300006,27.96994427100003,27.97062349000004,27.97129795700005,27.97194828000005,27.97319729300006,27.97491488900005,27.97677969400007,27.97892973600005,27.98543972200002,27.98804118600003,27.98944293800002,27.99013245700007,27.98988584900007,27.98854305600003,27.98626435700004,27.98319488000004,27.97951276000003,27.97536838000008,27.97079374100002,27.96173416700003,27.95749030700006,27.95187369900003,27.94618035100007,27.94100705100004,27.93595495500006,27.93189215400002,27.92805120900005,27.92324585800003,27.91920363800006,27.91679514900005,27.91503558500006,27.91383303900005,27.91385040600005,27.91512023500007,27.91762525600006,27.92145809500005,27.92478565600004,27.92892695900002,27.93348274300007,27.93832287900005,27.94200210200006,27.94573331900006,27.95088203400007,27.95592449900005,27.96056730300006,27.96493139900008,27.96895342100004,27.97570790100008,27.97915768600006,27.98236300400004,27.98505881900007,27.98755428200008,27.98975471600005,27.99133525300005,27.99269438500005,27.99397728100007,27.99512261800004,27.99628980000006,27.99828813400006,28.00172752200007,28.00786430100004,28.01365591500007,28.01833344700003,28.02272102800003,28.02809798700002,28.02966605700004,28.03083310000005,28.03119311400008,28.03140612400006,28.03136836000004,28.03111951200003,28.03069047300005,28.02831647700003,28.02791807800003,28.02790393700008,28.02826108500005,28.02898439800003,28.03104813300007,28.03422242700003,28.04041066200006,28.04261999100004,28.04347730100005,28.04414539100003,28.04479031200003,28.04470643400003,28.04374931200005,28.04294842900003,28.04205767200006,28.03979836700006,28.03916881600003,28.03910739500003,28.03930155600005,28.04109231200005,28.04275216700006,28.04685570900006,28.04758401500004,28.04866009500006,28.04967458600004,28.05161980900004,28.05385885800007,28.06115668700005,28.06303215100007,28.06450515400007,28.06577082800004,28.06694084700007,28.07044887500007,28.07192208900005,28.07365099700007,28.07608436700008,28.07816127800004,28.08448091400004,28.08621115500006,28.08795602500004,28.08859520400006,28.08968218300004,28.09027297400007,28.09029829800005,28.08974738100005,28.08865857400008,28.08663597400005,28.08395023500003,28.08205455100006,28.07997016300004,28.07744900400007,28.07413265000002,28.06693619900005,28.05807304100006,28.05171050500007,28.04886777500008,28.04430683200007,28.04022503400006,28.03731145800003,28.03485127300007,28.03333669400007,28.03213793500004,28.03100002800005,28.03088623700006,28.03158832200006,28.03325093700005,28.03571157700003,28.03880455800004,28.04260016400008,28.05506004100005,28.05984316300004,28.06425794600005,28.06560295400004,28.06944696200003,28.07266393500004,28.07521123700008,28.07694774000004,28.07841647900005,28.07982453900007,28.08196715000003,28.08289385700004,28.08391220800007,28.08443387400007,28.08457548900003,28.08450494200002,28.08395365000007,28.08307304500005,28.08183095900006,28.08023518500005,28.07910694600002,28.07670916700005,28.07297843800006,28.07079766700008,28.06155942100003,28.05903822400006,28.05659043800006,28.05513950500006,28.05413475500006,28.05354754200005,28.05340271900008,28.05394879500005,28.05471130800004,28.05581890100007,28.05716898300005,28.05898862100003,28.06439877000003,28.06558375000003,28.06697025700004,28.06827115900006,28.06890024900002,28.06911018100004,28.06885132200006,28.06799698700007,28.06573090000006,28.06393455100005,28.06207960900002,28.06107391100005,28.05791368900003,28.05347371600004,28.05153314200004,28.04999165600003,28.04899771000004,28.04870057300008,28.04889447500005,28.04960607400005,28.05079677600003,28.05244374400007,28.05327729200008,28.05550097100007,28.05775135600004,28.06515788500008,28.06752431900003,28.06946641900004,28.07120755900007,28.07365462700005,28.07479159700006,28.07666872900006,28.08342429500004,28.08640925600002,28.09010321700003,28.09504654600005,28.09917574100007,28.10282177400006,28.10472180500005,28.11833700200003,28.12723313100003,28.13560733600008,28.13774621700003,28.13972093100006,28.14304799900003,28.14592979300005,28.14903125000006,28.15171783900007,28.15283698600007,28.15424009400004,28.15478845900003,28.15556092200006,28.15692655800007,28.15943380300007,28.15998004200003,28.16009861300006,28.15995904000005,28.15958210400004,28.15858015500004,28.15736787400004,28.15318802500008,28.15135071800006,28.15047348900003,28.14978798200008,28.14927139000002,28.14906028700005,28.14908341100005,28.14933644100006,28.14982913400007,28.15064046500004,28.15215601400007,28.15616338800004,28.15687265600008,28.15739876800006,28.15752009400006,28.15744676200006,28.15663850700003,28.15489547700003,28.15392891000005,28.15292611200005,28.15005390500005,28.14645216300005,28.14197073800005,28.13692255800004,28.12267901500007,28.11839647700003,28.11322943300007,28.10830387800007,28.10375491500002,28.09890831900003,28.09502732800007,28.09237900500005,28.09170050500006,28.09121104500002,28.09051597100006,28.09074766600003,28.09183318800007,28.09338437400004,28.09530407700004,28.09850433200006,28.10221856400005,28.10624163200004,28.11053071300006,28.11486045600003,28.12004731400003,28.12555923200006,28.13050603500005,28.14213654000002,28.14794511800005,28.15135574300007,28.15456896000006,28.15811888100006,28.16133727100004,28.16438595700004,28.16663680600004,28.16866335400005,28.17102365600005,28.17286007600006,28.17442995700003,28.17580170900004,28.17694849900005,28.17831040700003,28.17899870700006,28.17985960800007,28.18023525600006,28.18060957600005,28.18081643400006,28.18077237000006,28.18052099900007,28.17937871400005,28.17745292900003,28.17366958100007,28.17282520100002,28.17260189400002,28.17251242600003,28.17267750600007,28.17301190600006,28.17358767100006,28.17439827100003,28.17508788200007,28.17637162400007,28.17796886400004,28.17970002300007,28.18364370700004,28.18948570700007,28.20157103300005,28.20886524800005,28.21475898700004,28.22493294100008,28.23136976100005,28.23612979000006,28.23831632300005,28.24166408200006,28.24376111600003,28.24566192300006,28.24766610600005,28.24916890100008,28.25108048000004,28.25301162400007,28.25408764900004,28.25551811500003,28.25771172000003,28.25936145500003,28.26042771000004,28.26168286800004,28.26344823700003,28.26558057200003,28.26706473300004,28.26984096800004,28.27176375000005,28.27604620000005,28.28185094000003,28.28546201000006,28.29409002100004,28.29866075400003,28.30432964400006,28.31147606100006,28.31898678700003,28.32273061300003,28.32953633500006,28.33513253900003,28.34023627200003,28.34560310900002,28.35100032200006,28.35664403300007,28.36071329600003,28.36489302100006,28.36949715500003,28.37472413600005,28.38003991900007,28.38885033800005,28.40316093000007,28.41329772000006,28.42132809900005,28.42941110900006,28.43696703400008,28.44188818800006,28.44840027500004,28.45491894100007,28.46141952100004,28.46787677600003,28.47312670200006,28.48150455300004,28.48649682500007,28.51031671400006,28.51781138000007,28.52532637200005,28.53044020300007,28.53754240100005,28.54456769400008,28.55907737300004,28.56694265300007,28.57165601400004,28.57610334200007,28.58192060200003,28.58722961100005,28.59005161800007,28.59275680800005,28.59671807500007,28.60803683800003,28.61344538900005,28.61715347600006,28.62227288400004,28.62765119000005,28.63231446000003,28.63711168200007,28.64039087600003,28.64369513700007,28.64686778400005,28.65003178500007,28.65309093300004,28.65609045800005,28.66170822500004,28.66617435500007,28.67031080600003,28.67398264300004,28.67737447900004,28.68081840500002,28.68392758600004,28.68867231200005,28.69142746400007,28.69350391100005,28.69691645200004,28.69850758400003,28.69989585700006,28.70091119000006,28.70156566000003,28.70237651000008,28.70287750000006,28.70385891700005,28.70517565700004,28.70664019100008,28.71017492100003,28.71176050700006,28.71316712300006,28.71459897400007,28.71537792600003,28.71583333200005,28.71583997500005,28.71508877600007,28.71405468600005,28.71256590600007,28.70998684000006,28.70560809100004,28.70134000800005,28.69446126300005,28.69189529700003,28.68966682200005,28.68785326100004,28.68659684300007,28.68568973500004,28.68503657400004,28.68471976100005,28.68475075100002,28.68505262800005,28.68576622000006,28.68677316300005,28.68799416900004,28.68947039800003,28.69118327600006,28.69395262100005,28.69732927600006,28.70177640400004,28.70677276100002,28.71234087900007,28.71897619600003,28.73232245500003,28.74141653300006,28.75924435700006,28.76254427400005,28.76555834400006,28.76776821700003,28.76973480000004,28.77174066800006,28.77353392100002,28.77592513900004,28.77719821800002,28.78172011800007,28.78280169400006,28.78482970300007,28.78710542000005,28.78969794300008,28.79259179500008,28.79443255800004,28.79756573100008,28.80091644700008,28.80444875700005,28.80788682700006,28.81443616500007,28.82168214800004,28.82595956600005,28.84609495800004,28.85050624000007,28.85476359700004,28.85881430900002,28.86413357800006,28.86762124900002,28.87303560600003,28.87797337800004,28.88072619400003,28.88549312300006,28.88928435500003,28.89128221400006,28.89497793500004,28.89702860800003,28.90149289600004,28.90354113400008,28.90631408800004,28.90994582500008,28.91211480100003,28.91510721600002,28.91834035100004,28.92330029500005,28.92784204000003,28.93263772900008,28.93659214600007,28.94368542700005,28.96553703700005,28.97644457700005,28.98533441900003,29.00225303900004,29.00754919200006,29.01730783100004,29.02608801500003,29.04272492300004,29.05364545600003,29.06533887800003,29.07757734600006,29.08593135500007,29.08992591900005,29.09346696900008,29.09684495700003,29.10103333200004,29.10482529000006,29.10854207900007,29.11091112700007,29.11308828900007,29.11421448600004,29.11496504300004,29.11548843900005,29.11553022700008,29.11452604600004,29.11443439100003,29.11462593700003,29.11529638100006,29.11641474900006,29.11705383700007,29.12023596600005,29.12361007500004,29.12742151000003,29.14575916300004,29.15028021800003,29.15463843000003,29.15867626600004,29.16252813400007,29.16684527600006,29.17819740800007,29.18260851700006,29.19568574700003,29.20232545400006,29.21067813500002,29.21622221700005,29.22974380000005,29.23610345300006,29.24030544200008,29.24841188600004,29.25452628900007,29.25805321100006,29.26123558300003,29.26405179200003,29.26648398500004,29.26849502400006,29.26962393600007,29.27154116100007,29.27298877300007,29.27436722500005,29.27490413200007,29.27529683400007,29.27550748400006,29.27539207600006,29.27500929400003,29.27366604900004,29.26877363200003,29.26807780800004,29.26769027800003,29.26775556800004,29.26822716200007,29.26908583500006,29.26994408100006,29.27212573100007,29.27341655300006,29.27560725800004,29.27929751100004,29.28188613200007,29.28514596500003,29.28904697200005,29.29530893900005,29.30128384800003,29.30510372200007,29.31025322100004,29.31336350200007,29.31833706400005,29.32181077200005,29.32409427700003,29.33013678400005,29.33902136200004,29.34633504200008,29.35442817700005,29.35833006500008,29.36197359000005,29.36402339800003,29.36588316200005,29.36819496100003,29.37011938600006,29.37202946700006,29.37309062400004,29.37368017900008,29.37405982100006,29.37427080000003,29.37422480600003,29.37400431000003,29.37355062000006,29.37231392500007,29.37020559900003,29.36738973900003,29.35964222300004,29.35814775400007,29.35699312600008,29.35666466200007,29.35618724000005,29.35623669800003,29.35682605100004,29.35803022500005,29.35988403400006,29.36222783200003,29.36488214600007,29.36901346100007,29.38061794600003,29.38695507700004,29.39004935000003,29.39948723700007,29.40445992700006,29.40801249700007,29.41090801400003,29.41333648200003,29.41543655500004,29.42549397600004,29.42964163400006,29.43226124300003,29.44786895200008,29.45007642000007,29.45376064300007,29.45851748100006,29.46133758500002,29.46464777800003,29.46811573600007,29.47350925900002,29.47789376400004,29.49168945800005,29.49869931100005,29.51578282000003,29.52060208500006,29.54258464300005,29.54718354600004,29.55977412100003,29.56681683300008,29.57092428600004,29.57517278700004,29.58393010000003,29.58842570200005,29.59303521900006,29.60072242900003,29.60556095100003,29.61525853500007,29.62765215200005,29.63536706500003,29.64188227100004,29.64846509300003,29.65515877500007,29.66163616300003,29.67003108100005,29.67981904500004,29.68712663600007,29.69445056500007,29.70177035400008,29.70785550500005,29.72696137600008,29.73393604600005,29.74041876700005,29.74682671100004,29.75306348900006,29.75921225100006,29.76524901800008,29.77197804200006,29.77416394700003,29.78015269200006,29.78589539800004,29.79186352300007,29.79688635600007,29.80159700000007,29.80689483700007,29.81245550500006,29.81621828200008,29.81969867200007,29.82206182600004,29.82703420500007,29.82960825800006,29.83864329900007,29.84159458100004,29.84477685200005,29.84835675000005,29.85027667700007,29.85438822500004,29.85890615400007,29.86372494900007,29.86807697000006,29.87260700100006,29.87734177900006,29.88281189600008,29.88761304400003,29.89919260400006,29.90490069100002,29.90861181500003,29.91220454500007,29.91757049200004,29.92254479900004,29.92591775800003,29.92909770300002,29.93276401600008,29.93626141500005,29.94406263500002,29.94911615900003,29.95266274800002,29.96649641200003,29.98349801700004,29.99221293100004,30.00070187000006,30.00509679700008,30.01278307000007,30.01891148100003,30.02159652400007,30.02489098000007,30.02946597900007,30.03416103500007,30.04961822200005,30.05596533200003,30.05953363500004,30.06297527600003,30.06800678500008,30.07253101700007,30.07547246100006,30.07810518700006,30.08093970500005,30.08337142800008,30.08537687900002,30.08622244000003,30.08791707300003,30.08866618500008,30.08895169200002,30.08866633100007,30.08773960700006,30.08626254400008,30.08429812900005,30.08260364900008,30.08049410800004,30.07815646100005,30.07595604200003,30.07279993400005,30.06943717700005,30.05969589400007,30.05373624000003,30.04183487000006,30.03775014200005,30.02292274200005,30.01735630500008,30.01323324200007,30.00893642400007,30.00113768700004,29.99383729400006,29.98544937600008,29.98039322800003,29.97088614900002,29.96322592100006,29.95566411200008,29.95125146200007,29.94661310100003,29.94237896900006,29.93596167800007,29.92246123500007,29.91280511400004,29.90557779200003,29.89884121800003,29.89232348800005,29.88788281500007,29.88360891800005,29.87898277400006,29.87458136000004,29.86965797000005,29.86465858500003,29.85976486900006,29.85066618700006,29.84486005600007,29.84095640700008,29.83722521200008,29.83367349600007,29.83029414400005,29.82717714900008,29.82335931600005,29.81413758500003,29.81122555000007,29.80805739200002,29.80599211500004,29.80164395500003,29.79828272100008,29.79471863300006,29.79097824600007,29.78642399000006,29.78208245400003,29.77754542300005,29.77374398100005,29.76861301000002,29.76329254100006,29.75781954500007,29.74702342500007,29.73822572500006,29.72995351400004,29.72349961400005,29.71695397800005,29.70437931900005,29.69392934500007,29.67020055100005,29.66018542100005,29.65305164200004,29.64609585000005,29.64139402700005,29.63683455400007,29.63161674200006,29.62666404700008,29.62248478300006,29.61850198500002,29.61124813200007,29.59756320600007,29.59124244900005,29.58674364800004,29.58121807000003,29.57633451600003,29.57128526900004,29.56399995200007,29.55608847600007,29.54948011500005,29.54273995400007,29.51516466000004]}],[{"lng":[-92.23591701399994,-92.23802537599994,-92.24014222199997,-92.24426977899998,-92.24801596199995,-92.24956695599997,-92.25077701299995,-92.25151021099998,-92.25158611999996,-92.25093636599996,-92.24971013399994,-92.24805513699994,-92.24388669799998,-92.23708115899996,-92.23302453799994,-92.22718430099997,-92.22421219799998,-92.21848092899995,-92.21278638699994,-92.20982993599995,-92.20682611199999,-92.20394317799997,-92.20189113499998,-92.20008933599996,-92.19860771999998,-92.19726090399996,-92.19652566899998,-92.19639309799999,-92.19674387199996,-92.19726562499994,-92.19976165499997,-92.21270133299998,-92.21991391699999,-92.22297114899999,-92.23037823699997,-92.23209973399997,-92.23384569999996,-92.23591701399994],"lat":[27.68544102900006,27.68617659600005,27.68725397900005,27.69005495200003,27.69334312200004,27.69503103100004,27.69669256300006,27.69828669200007,27.69976823600007,27.70100776300006,27.70213704800005,27.70318033600006,27.70507327200005,27.70734833800003,27.70835189000007,27.70916387000005,27.70932974100003,27.70925245000006,27.70881691100004,27.70836565000008,27.70767518600007,27.70676196100004,27.70590205400003,27.70489890200002,27.70374439800003,27.70209884300004,27.70043117100005,27.69869431500007,27.69773218500006,27.69736700300007,27.69658719600005,27.69341664100006,27.69128286600005,27.69007348800005,27.68605361500005,27.68543761000006,27.68518330100005,27.68544102900006]}],[{"lng":[-92.37650956199997,-92.38009948099995,-92.38447607199998,-92.38931007999997,-92.39427050699999,-92.39901993399997,-92.40345897299994,-92.40685055899996,-92.40909500699996,-92.41049368299997,-92.41147976499997,-92.41224309399996,-92.41279944599995,-92.41314200599999,-92.41324267599998,-92.41314731799997,-92.41259734799996,-92.41128683799997,-92.41012596699994,-92.40866854499995,-92.40687906099998,-92.40470053299998,-92.40221573599996,-92.39939917199996,-92.39632776699995,-92.39226275799996,-92.38801266899998,-92.38367139199994,-92.38035153599998,-92.37706038899995,-92.37383206799996,-92.36984601199998,-92.36607423399994,-92.36258662899996,-92.35948074399994,-92.35778937199996,-92.35634310899997,-92.35512293699998,-92.35412521199999,-92.35303293199996,-92.35216399699999,-92.35154380899996,-92.35121862099999,-92.35125826799998,-92.35171735399996,-92.35259000099995,-92.35395128099998,-92.35568147499998,-92.35991327099998,-92.36450413199998,-92.36669890799999,-92.36876150799998,-92.37059104799994,-92.37175890699996,-92.37260558199995,-92.37304687499994,-92.37404031999995,-92.37650956199997],"lat":[27.69639155100003,27.69670014900004,27.69730594600003,27.69826107400007,27.69961919200006,27.70143927700008,27.70395896700006,27.70702802600005,27.71023529200005,27.71356121400004,27.71700914600007,27.72057690200006,27.72421935600005,27.72790029200007,27.73158829200003,27.73418035900005,27.73897282200005,27.74434369900007,27.74738030000003,27.75022055700003,27.75280323600003,27.75505063500003,27.75682015500007,27.75824982700004,27.75937447300004,27.76038506900005,27.76104935400008,27.76142908500003,27.76154126900008,27.76147471700006,27.76118715700005,27.76045166100005,27.75938157200005,27.75806513600003,27.75656451500004,27.75553516700006,27.75436513000005,27.75292023400004,27.75126338800004,27.74883717900008,27.74617982500007,27.74335152300006,27.74040201600008,27.73737303100006,27.73431103000007,27.73109972600002,27.72748120000006,27.72355794700007,27.71498047700004,27.70679886600004,27.70338144700003,27.70051316800004,27.69832443300004,27.69716880300007,27.69651558600003,27.69643574000003,27.69632272200005,27.69639155100003]}]]],null,"ply",{"interactive":true,"className":"","pane":"left_pn","stroke":true,"color":"blue","weight":1,"opacity":0.5,"fill":true,"fillColor":"blue","fillOpacity":0.5,"smoothFactor":1,"noClip":false},null,null,null,{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]},{"method":"addRasterImage","args":["data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQsAAAB/CAYAAAD4kecxAAAEiklEQVR4nO3d0XKjOBAFUOKa//9l70Mq2djGpm2QaLXOeZyqScBB191CiGWBCV2X5XpdluvZxzGSr7MPAHpbC4kvY2GTD4ipbFUTQuO5f2cfAPSg5djvcvYBAGNQclHeu1WFVmSdD4Wy9rYeQuOWD4OSjpyjEBrfzFnABpOj34QFEKK8opxWlcDs7YjKAoJmb0emTkpq6TWYZ60wVBZAyJQJST2fPhz2aTUyY3Ux3QlTyxFPkH4SGMICBnE/wPcOXhXGtmlOlPFEBvCRg1VgvDbFSZLbdVmuPwMuOmBbDNAj7qZUDo6yJ0ZuWZ8EFRjPlTwpcsu8W9XRazUqBUeZEyG/zCHxl8BYZ1EWEGIPTpp69S1d5Rt3Fv5YNDFKy7GmxTMmmc83avgTIJ+Rg+KHx9wfaUM41LNBNvIg4Zs/ILtVDQjVxa0hD5ocqk9e9tgfY6TPaZgDJYcK8xHvEBj/M2dBSO+HusjHoiwgxDfB5LyMZ5tW5JvKAjaMMJB78CFw88357r4S9/+vstYVRvbPMPXB0cfPIPhkg9vsF3gLs66/SH1w9CEA3jdjYJiz4MHsb96K+FqWr8wDu4WpTpZ1Kov9ZrirpLKYnCriGDNUGqVPjueqP9dxtr0hnPFvoLIAQtKlF22c+T6Ome2pMLL9LVIdDJ9bm6S0sCqPCu9TTXUwM3vnYvp7ER01QZntwqxq5ABPcyAjebbicW3Z9NbPOEumi3BGI4bG6QdwtrMHbS8ZLjZujRYYU1xAswTCvbMvLraNFBhdf3GP18LNGgzLIhxGNUpgdNlWr9UAnjEYBAJnaXrhVRvMa3s9PPu3T+5uXJflKgzmM8ptVSs4gZAm6RTdLj7ycppXT0T2rlx869PKCPMWu+cs9mwR/2qdwtbPXlvr8FPGn9H+aCHo6YzrLfzLPl1hmEGl9fnUNMK8xdt7Lr74QekH1ciBR33ZA+NlG1LtLVQjHStk8/RuSLXbnsA+q9+0lVoPGEnmVuShDanWegDHuGlDBAWMp9eUwVsrOAUFtJV5jFnuDYT8hkV0iTaQT49WJFRZCArgsixeOAMVtK4uzFkAIS/DQlUB/e0Zdy2ri0tkTwkAbQgQshoWqgrgnsoCimk1byEsgBBhAQllnAq4ZDwoYJ8WrchqZWGXLBjf0eP4siw5Sx4gF3MWUNiR1cVvWKguIJdsY/Kmssh2cMB+R1UXD23I1ntIgTmZswBChAUkdtTUwBGdgrAAQoQFECIsgBBhAYQIC0guy/onYQGECAsgRFgAISl6IWDb3oVVe+c+VBZAiLCASeytTIQFDOLsW6jCAggRFkCIsABChAUM5Mx5C2EBhAgLIERYwGDOakWEBRAiLIAQYQEDOqMVERZAiLAAQoQFDKp3KyIsgBBhAYQICxhYz1ZEWAAhwgIG16u6sLs3FLG1x6bdvYFNR1QfwgKKaN2OaEOgoPuW5IggERZQ1NGBISyguL+hsScwhAVMYm9oCAuYzKehISxgQp/MZ7h1CoSoLGBia6s+n1UZwgJ4ulT8b3AIC+DXq+dLhAXwYC00/gNLTRTyBwBfZgAAAABJRU5ErkJggg==",[[30.09999948953645,-96.59999106728148],[24.34999958705028,-82.99999060606297]],null,"rast",{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}},"pane":"right_pn","opacity":0.8}]},{"method":"addSidebyside","args":["sidecontrols","left_lyr","right_lyr",{"thumbSize":42,"padding":0}]}],"limits":{"lat":[24.32602547300007,30.09999948953645],"lng":[-96.59999106728148,-82.99999060606297]}},"evals":[],"jsHooks":[]}</script>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-ply_ricei-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;3: Rasterized polygon of Rice’s whale critical habitat as interactive map.
</figcaption>
</figure>
</div>
</div>
</section>
<section id="default-suitability" class="level3" data-number="2.3">
<h3 data-number="2.3" class="anchored" data-anchor-id="default-suitability"><span class="header-section-number">2.3</span> Default Suitability?</h3>
<p>Originally I thought of applying a default suitability value of 50% to these binary range maps, but examples like Rice’s whale illustrate the importance of upweighting these critical habitats, so instead how about weighting by extinction risk:</p>
<p><strong>Suitability</strong>:</p>
<ul>
<li><code>EN</code>: 100%<br>
Endangered (IUCN, <strong>ESA</strong>)</li>
<li><code>TN</code>: 80%<br>
<strong>Threatened</strong> (<strong>ESA</strong>)</li>
</ul>
<p>The suitability value gets multiplied by the extinction risk for the species’ contribution to overall sensitivity.</p>
<ul>
<li>O’Hara et al (2017) <a href="https://journals.plos.org/plosone/article?id=10.1371/journal.pone.0175739">Aligning marine species range data to better serve science and conservation</a> <em>PLOS One</em></li>
</ul>
<p>And related:</p>
<ul>
<li>Lee-Yaw et al (2021) <a href="https://nsojournals.onlinelibrary.wiley.com/doi/full/10.1111/ecog.05877">Species distribution models rarely predict the biology of real populations</a> <em>Ecography</em></li>
<li>Borgelt et al (2022) <a href="https://www.nature.com/articles/s42003-022-03638-9">More than half of data deficient species predicted to be threatened by extinction | Communications Biology</a></li>
<li>Moudrý &amp; Devillers (2020) <a href="https://www.sciencedirect.com/science/article/pii/S1574954120300017?casa_token=WF_-wuk3arkAAAAA:AitcjoacX-qkxeX3ZS7WdO3rGigHo5DW4lYvGu6eELdCrY9xsd2O2b2N8hJBwY8kX1aLINU77iA">Quality and usability challenges of global marine biodiversity databases: An example for marine mammal data</a> <em>Ecological Informatics</em></li>
<li>O’Hara et al (2019) <a href="https://conbio.onlinelibrary.wiley.com/doi/full/10.1111/conl.12651">Mapping status and conservation of global at-risk marine biodiversity</a> <em>Conservation Letters</em></li>
<li>Palacio et al (2021) <a href="https://onlinelibrary.wiley.com/doi/full/10.1111/ddi.13424">A data‐driven geospatial workflow to map species distributions for conservation assessments</a> <em>Diversity and Distributions</em></li>
<li>Merow et al (2022) <a href="https://escholarship.org/uc/item/3m7719vv">Operationalizing expert knowledge in species’ range estimates using diverse data types</a> <em>Frontiers of Biogeography</em></li>
<li>Ready et al (2010) <a href="https://www.sciencedirect.com/science/article/pii/S030438000900711X?casa_token=Nrl34cYvTN4AAAAA:4_nIKkt6BcGmLZAKE-EqGO4CXPpJLaJmePucdYPQaJK3rsA8svBRDaeLYeD-1-hUbYOq3Qc1rgM">Predicting the distributions of marine organisms at the global scale</a> <em>Ecological Modelling</em></li>
<li>Zhang et al (2025) <a href="https://conbio.onlinelibrary.wiley.com/doi/full/10.1111/cobi.70015?casa_token=b6R7j3bt_VkAAAAA%3AUBNiiPvPiCyzF4rz8NFvu8V-AmF2VjFN7sfapmiGMI1XtU2OOItOgasjVj4a42r38fn4s7IiQ1vftnoV">Differences in predictions of marine species distribution models based on expert maps and opportunistic occurrences</a> <em>Conservation Biology</em></li>
<li>Ferrari et al (2018) <a href="https://www.sciencedirect.com/science/article/pii/S0272771417310454?casa_token=TdDGGhEhrsMAAAAA:BGk07IU_j8wqaU4dg-A-JNnIAC-DCX2QL3RlhT_zwFHDkE9bHIOMSZT3MUy1XHybNR80hTdPnLQ">Integrating distribution models and habitat classification maps into marine protected area planning - ScienceDirect</a> <em>Estuarine, Coastal and Shelf Science</em></li>
</ul>
</section>
<section id="line-to-raster-eg" class="level3" data-number="2.4">
<h3 data-number="2.4" class="anchored" data-anchor-id="line-to-raster-eg"><span class="header-section-number">2.4</span> Line to raster, eg …</h3>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span>opts_chunk<span class="sc">$</span><span class="fu">set</span>(<span class="at">eval =</span> F)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>con_spp <span class="ot">&lt;-</span> <span class="fu">dbConnect</span>(<span class="fu">duckdb</span>(<span class="at">dbdir =</span> spp_db, <span class="at">read_only =</span> T))</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>con_sdm <span class="ot">&lt;-</span> <span class="fu">dbConnect</span>(<span class="fu">duckdb</span>(<span class="at">dbdir =</span> sdm_db, <span class="at">read_only =</span> F))</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a><span class="co"># dbListTables(con_sdm)</span></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a><span class="co"># tbl(con_sdm, "species") |&gt; </span></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a><span class="co">#   filter(common_name_dataset == "blue whale") |&gt; </span></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a><span class="co">#   collect() |&gt; </span></span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a><span class="co">#   View()</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="add-dataset" class="level3" data-number="2.5">
<h3 data-number="2.5" class="anchored" data-anchor-id="add-dataset"><span class="header-section-number">2.5</span> Add <code>dataset</code></h3>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>ds_key      <span class="ot">&lt;-</span> <span class="st">"ch"</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>row_dataset <span class="ot">&lt;-</span> <span class="fu">tibble</span>(</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">ds_key          =</span> <span class="sc">!!</span>ds_key,</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">name_short      =</span> <span class="st">"NMFS Critical Habitat for USA, 2023-05"</span>,</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">name_original   =</span> <span class="st">"National ESA Critical Habitat Geodatabase"</span>,</span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">description     =</span> <span class="st">"The National Marine Fisheries Service (NMFS) developed this geodatabase to standardize its Endangered Species Act (ESA) critical habitat spatial data."</span>,</span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">citation        =</span> <span class="st">""</span>,</span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">source_broad    =</span> <span class="st">"NMFS"</span>,</span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">source_detail   =</span> <span class="st">"https://www.fisheries.noaa.gov"</span>,</span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">regions         =</span> <span class="st">"USA"</span>,</span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">response_type   =</span> <span class="st">"binary"</span>,</span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">taxa_groups     =</span> <span class="st">"all taxa"</span>,</span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a>  <span class="at">year_pub        =</span> <span class="dv">2023</span>,</span>
<span id="cb10-14"><a href="#cb10-14" aria-hidden="true" tabindex="-1"></a>  <span class="at">date_obs_beg    =</span> <span class="cn">NA</span>,</span>
<span id="cb10-15"><a href="#cb10-15" aria-hidden="true" tabindex="-1"></a>  <span class="at">date_obs_end    =</span> <span class="cn">NA</span>,</span>
<span id="cb10-16"><a href="#cb10-16" aria-hidden="true" tabindex="-1"></a>  <span class="at">date_env_beg    =</span> <span class="cn">NA</span>,</span>
<span id="cb10-17"><a href="#cb10-17" aria-hidden="true" tabindex="-1"></a>  <span class="at">date_env_end    =</span> <span class="cn">NA</span>,</span>
<span id="cb10-18"><a href="#cb10-18" aria-hidden="true" tabindex="-1"></a>  <span class="at">link_info       =</span> <span class="st">"https://www.fisheries.noaa.gov/resource/map/national-esa-critical-habitat-mapper"</span>,</span>
<span id="cb10-19"><a href="#cb10-19" aria-hidden="true" tabindex="-1"></a>  <span class="at">link_download   =</span> <span class="st">"https://noaa.maps.arcgis.com/home/item.html?id=f66c1e33f91d480db7d1b1c1336223c3"</span>,</span>
<span id="cb10-20"><a href="#cb10-20" aria-hidden="true" tabindex="-1"></a>  <span class="at">link_metadata   =</span> <span class="st">"https://www.fisheries.noaa.gov/inport/item/65207"</span>,</span>
<span id="cb10-21"><a href="#cb10-21" aria-hidden="true" tabindex="-1"></a>  <span class="at">links_other     =</span> <span class="st">"https://noaa.maps.arcgis.com/apps/webappviewer/index.html?id=68d8df16b39c48fe9f60640692d0e318"</span>,</span>
<span id="cb10-22"><a href="#cb10-22" aria-hidden="true" tabindex="-1"></a>  <span class="at">spatial_res_deg =</span> <span class="fl">0.05</span>,</span>
<span id="cb10-23"><a href="#cb10-23" aria-hidden="true" tabindex="-1"></a>  <span class="at">temporal_res    =</span> <span class="st">"static"</span> )</span>
<span id="cb10-24"><a href="#cb10-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-25"><a href="#cb10-25" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="fu">dbExistsTable</span>(con_sdm, <span class="st">"dataset"</span>))</span>
<span id="cb10-26"><a href="#cb10-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">dbExecute</span>(con_sdm, <span class="fu">glue</span>(<span class="st">"DELETE FROM dataset WHERE ds_key = '{ds_key}'"</span>))</span>
<span id="cb10-27"><a href="#cb10-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-28"><a href="#cb10-28" aria-hidden="true" tabindex="-1"></a><span class="fu">dbWriteTable</span>(con_sdm, <span class="st">"dataset"</span>, row_dataset, <span class="at">append =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="iterate-rows-species-model-model_cell" class="level3" data-number="2.6">
<h3 data-number="2.6" class="anchored" data-anchor-id="iterate-rows-species-model-model_cell"><span class="header-section-number">2.6</span> Iterate rows: <code>species</code>, <code>model</code>, <code>model_cell</code></h3>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>n <span class="ot">&lt;-</span> <span class="fu">nrow</span>(d_spp_pa)</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>tic <span class="ot">&lt;-</span> <span class="fu">Sys.time</span>()</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>n){  <span class="co"># i = 10 # i = 1175</span></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a><span class="co"># for (i in 1:10){  # i = 2</span></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>  sp_key     <span class="ot">&lt;-</span> d_spp_pa<span class="sc">$</span>sp_key[i]      <span class="co"># sp_key = "ITS-Mam-180528" # sp_key = "Fis-34595"</span></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>  n_cells_pa <span class="ot">&lt;-</span> d_spp_pa<span class="sc">$</span>n_cells_pa[i]</span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>  toc <span class="ot">&lt;-</span> <span class="fu">Sys.time</span>()</span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>  dt <span class="ot">&lt;-</span> <span class="fu">difftime</span>(toc, tic, <span class="at">units =</span> <span class="st">"mins"</span>) <span class="co"># |&gt; as.numeric()</span></span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a>  eta <span class="ot">&lt;-</span> tic <span class="sc">+</span> (dt <span class="sc">/</span> i) <span class="sc">*</span> n</span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">log_info</span>(</span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Processing {format(i, big.mark=',')}/{format(nrow(d_spp_pa), big.mark=',')}: {sp_key} ~ ETA: {eta}"</span>)</span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-15"><a href="#cb11-15" aria-hidden="true" tabindex="-1"></a>  <span class="co"># source(here("libs/am_functions.R"))</span></span>
<span id="cb11-16"><a href="#cb11-16" aria-hidden="true" tabindex="-1"></a>  <span class="co"># source(here("libs/sdm_functions.R"))</span></span>
<span id="cb11-17"><a href="#cb11-17" aria-hidden="true" tabindex="-1"></a>  r_am <span class="ot">&lt;-</span> <span class="fu">am_sp_rast</span>(sp_key, con_am, r_hcaf) <span class="sc">|&gt;</span> </span>
<span id="cb11-18"><a href="#cb11-18" aria-hidden="true" tabindex="-1"></a>    <span class="fu">rotate</span>()  <span class="co"># [rotate() shifts cells of non-global spatRast](https://github.com/rspatial/terra/issues/1831)</span></span>
<span id="cb11-19"><a href="#cb11-19" aria-hidden="true" tabindex="-1"></a>  r_ds <span class="ot">&lt;-</span> <span class="fu">downsample_sp_rast</span>(r_am, r_cell<span class="sc">$</span>depth_mean)</span>
<span id="cb11-20"><a href="#cb11-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-21"><a href="#cb11-21" aria-hidden="true" tabindex="-1"></a>  <span class="co"># get species info from original database</span></span>
<span id="cb11-22"><a href="#cb11-22" aria-hidden="true" tabindex="-1"></a>  sp_info <span class="ot">&lt;-</span> <span class="fu">tbl</span>(con_am, <span class="st">"spp"</span>) <span class="sc">|&gt;</span></span>
<span id="cb11-23"><a href="#cb11-23" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(sp_key <span class="sc">==</span> <span class="sc">!!</span>sp_key) <span class="sc">|&gt;</span></span>
<span id="cb11-24"><a href="#cb11-24" aria-hidden="true" tabindex="-1"></a>    <span class="fu">collect</span>()</span>
<span id="cb11-25"><a href="#cb11-25" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb11-26"><a href="#cb11-26" aria-hidden="true" tabindex="-1"></a>  <span class="co"># delete existing model</span></span>
<span id="cb11-27"><a href="#cb11-27" aria-hidden="true" tabindex="-1"></a>  mdl_seqs <span class="ot">&lt;-</span> <span class="fu">tbl</span>(con_sdm, <span class="st">"model"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb11-28"><a href="#cb11-28" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(ds_key <span class="sc">==</span> <span class="st">"am_0.05"</span>, taxa <span class="sc">==</span> <span class="sc">!!</span>sp_key) <span class="sc">|&gt;</span> </span>
<span id="cb11-29"><a href="#cb11-29" aria-hidden="true" tabindex="-1"></a>    <span class="fu">pull</span>(mdl_seq)</span>
<span id="cb11-30"><a href="#cb11-30" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="fu">length</span>(mdl_seqs <span class="sc">&gt;</span> <span class="dv">0</span>)) {</span>
<span id="cb11-31"><a href="#cb11-31" aria-hidden="true" tabindex="-1"></a>    <span class="fu">dbExecute</span>(con_sdm, <span class="fu">glue</span>(<span class="st">"DELETE FROM model WHERE ds_key = 'am_0.05' AND taxa = '{sp_key}'"</span>))</span>
<span id="cb11-32"><a href="#cb11-32" aria-hidden="true" tabindex="-1"></a>    <span class="fu">dbExecute</span>(con_sdm, <span class="fu">glue</span>(<span class="st">"DELETE FROM model_cell WHERE mdl_seq IN ({paste(mdl_seqs, collapse = ',')})"</span>))</span>
<span id="cb11-33"><a href="#cb11-33" aria-hidden="true" tabindex="-1"></a>    <span class="fu">dbExecute</span>(con_sdm, <span class="fu">glue</span>(<span class="st">"DELETE FROM species WHERE ds_key = 'am_0.05' AND taxa = '{sp_key}'"</span>))</span>
<span id="cb11-34"><a href="#cb11-34" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb11-35"><a href="#cb11-35" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb11-36"><a href="#cb11-36" aria-hidden="true" tabindex="-1"></a>  <span class="co"># create model for this species (one model per species for AquaMaps)</span></span>
<span id="cb11-37"><a href="#cb11-37" aria-hidden="true" tabindex="-1"></a>  d_model <span class="ot">&lt;-</span> <span class="fu">tibble</span>(</span>
<span id="cb11-38"><a href="#cb11-38" aria-hidden="true" tabindex="-1"></a>    <span class="at">ds_key      =</span> <span class="st">"am_0.05"</span>,</span>
<span id="cb11-39"><a href="#cb11-39" aria-hidden="true" tabindex="-1"></a>    <span class="at">taxa        =</span> sp_key,  <span class="co"># for AquaMaps, taxa equals sp_key</span></span>
<span id="cb11-40"><a href="#cb11-40" aria-hidden="true" tabindex="-1"></a>    <span class="at">time_period =</span> <span class="st">"2019"</span>,</span>
<span id="cb11-41"><a href="#cb11-41" aria-hidden="true" tabindex="-1"></a>    <span class="at">region      =</span> <span class="st">"Global"</span>,</span>
<span id="cb11-42"><a href="#cb11-42" aria-hidden="true" tabindex="-1"></a>    <span class="at">mdl_type    =</span> <span class="st">"suitability"</span>,</span>
<span id="cb11-43"><a href="#cb11-43" aria-hidden="true" tabindex="-1"></a>    <span class="at">description =</span> <span class="fu">glue</span>(</span>
<span id="cb11-44"><a href="#cb11-44" aria-hidden="true" tabindex="-1"></a>      <span class="st">"AquaMaps suitability for {sp_info$genus[1]} {sp_info$species[1]}, interpolated to 0.05° resolution"</span>) )</span>
<span id="cb11-45"><a href="#cb11-45" aria-hidden="true" tabindex="-1"></a>  <span class="fu">dbWriteTable</span>(con_sdm, <span class="st">"model"</span>, d_model, <span class="at">append =</span> <span class="cn">TRUE</span>)</span>
<span id="cb11-46"><a href="#cb11-46" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb11-47"><a href="#cb11-47" aria-hidden="true" tabindex="-1"></a>  <span class="co"># get the mdl_seq that was just created</span></span>
<span id="cb11-48"><a href="#cb11-48" aria-hidden="true" tabindex="-1"></a>  mdl_seq <span class="ot">&lt;-</span> <span class="fu">dbGetQuery</span>(con_sdm, <span class="fu">glue</span>(<span class="st">"</span></span>
<span id="cb11-49"><a href="#cb11-49" aria-hidden="true" tabindex="-1"></a><span class="st">    SELECT mdl_seq FROM model </span></span>
<span id="cb11-50"><a href="#cb11-50" aria-hidden="true" tabindex="-1"></a><span class="st">    WHERE ds_key = '{d_model$ds_key}' </span></span>
<span id="cb11-51"><a href="#cb11-51" aria-hidden="true" tabindex="-1"></a><span class="st">      AND taxa = '{d_model$taxa}'</span></span>
<span id="cb11-52"><a href="#cb11-52" aria-hidden="true" tabindex="-1"></a><span class="st">    ORDER BY mdl_seq DESC LIMIT 1 "</span>))<span class="sc">$</span>mdl_seq</span>
<span id="cb11-53"><a href="#cb11-53" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb11-54"><a href="#cb11-54" aria-hidden="true" tabindex="-1"></a>  <span class="co"># determine species category</span></span>
<span id="cb11-55"><a href="#cb11-55" aria-hidden="true" tabindex="-1"></a>  sp_cat <span class="ot">&lt;-</span> <span class="fu">case_when</span>(</span>
<span id="cb11-56"><a href="#cb11-56" aria-hidden="true" tabindex="-1"></a>    sp_info<span class="sc">$</span>class[<span class="dv">1</span>] <span class="sc">==</span> <span class="st">"Actinopterygii"</span> <span class="sc">~</span> <span class="st">"fish"</span>,</span>
<span id="cb11-57"><a href="#cb11-57" aria-hidden="true" tabindex="-1"></a>    sp_info<span class="sc">$</span>class[<span class="dv">1</span>] <span class="sc">==</span> <span class="st">"Chondrichthyes"</span> <span class="sc">~</span> <span class="st">"fish"</span>,</span>
<span id="cb11-58"><a href="#cb11-58" aria-hidden="true" tabindex="-1"></a>    sp_info<span class="sc">$</span>class[<span class="dv">1</span>] <span class="sc">==</span> <span class="st">"Mammalia"</span> <span class="sc">~</span> <span class="st">"marine mammal"</span>,</span>
<span id="cb11-59"><a href="#cb11-59" aria-hidden="true" tabindex="-1"></a>    sp_info<span class="sc">$</span>class[<span class="dv">1</span>] <span class="sc">==</span> <span class="st">"Reptilia"</span> <span class="sc">~</span> <span class="st">"sea turtle"</span>,</span>
<span id="cb11-60"><a href="#cb11-60" aria-hidden="true" tabindex="-1"></a>    sp_info<span class="sc">$</span>phylum[<span class="dv">1</span>] <span class="sc">==</span> <span class="st">"Mollusca"</span> <span class="sc">~</span> <span class="st">"mollusk"</span>,</span>
<span id="cb11-61"><a href="#cb11-61" aria-hidden="true" tabindex="-1"></a>    <span class="co"># sp_info$phylum[1] == "Arthropoda" &amp;&amp; sp_info$subphylum[1] == "Crustacea" ~ "crustacean",</span></span>
<span id="cb11-62"><a href="#cb11-62" aria-hidden="true" tabindex="-1"></a>    sp_info<span class="sc">$</span>phylum[<span class="dv">1</span>] <span class="sc">==</span> <span class="st">"Arthropoda"</span> <span class="sc">~</span> <span class="st">"crustacean"</span>,</span>
<span id="cb11-63"><a href="#cb11-63" aria-hidden="true" tabindex="-1"></a>    <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">"other"</span>)</span>
<span id="cb11-64"><a href="#cb11-64" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb11-65"><a href="#cb11-65" aria-hidden="true" tabindex="-1"></a>  <span class="co"># add species to database</span></span>
<span id="cb11-66"><a href="#cb11-66" aria-hidden="true" tabindex="-1"></a>  d_species <span class="ot">&lt;-</span> <span class="fu">tibble</span>(</span>
<span id="cb11-67"><a href="#cb11-67" aria-hidden="true" tabindex="-1"></a>    <span class="at">ds_key          =</span> <span class="st">"am_0.05"</span>,</span>
<span id="cb11-68"><a href="#cb11-68" aria-hidden="true" tabindex="-1"></a>    <span class="at">taxa            =</span> sp_key,</span>
<span id="cb11-69"><a href="#cb11-69" aria-hidden="true" tabindex="-1"></a>    <span class="at">sp_key          =</span> sp_key,</span>
<span id="cb11-70"><a href="#cb11-70" aria-hidden="true" tabindex="-1"></a>    <span class="at">aphia_id        =</span> <span class="cn">NA_integer_</span>,  <span class="co"># </span><span class="al">TODO</span><span class="co">: lookup from WoRMS</span></span>
<span id="cb11-71"><a href="#cb11-71" aria-hidden="true" tabindex="-1"></a>    <span class="at">gbif_id         =</span> <span class="cn">NA_integer_</span>,  <span class="co"># </span><span class="al">TODO</span><span class="co">: lookup from GBIF</span></span>
<span id="cb11-72"><a href="#cb11-72" aria-hidden="true" tabindex="-1"></a>    <span class="at">itis_id         =</span> <span class="cn">NA_integer_</span>,  <span class="co"># </span><span class="al">TODO</span><span class="co">: lookup from ITIS</span></span>
<span id="cb11-73"><a href="#cb11-73" aria-hidden="true" tabindex="-1"></a>    <span class="at">scientific_name =</span> <span class="fu">glue</span>(<span class="st">"{sp_info$genus[1]} {sp_info$species[1]}"</span>),</span>
<span id="cb11-74"><a href="#cb11-74" aria-hidden="true" tabindex="-1"></a>    <span class="at">common_name     =</span> sp_info<span class="sc">$</span>common_name[<span class="dv">1</span>],</span>
<span id="cb11-75"><a href="#cb11-75" aria-hidden="true" tabindex="-1"></a>    <span class="at">sp_cat          =</span> sp_cat)</span>
<span id="cb11-76"><a href="#cb11-76" aria-hidden="true" tabindex="-1"></a>  <span class="fu">dbWriteTable</span>(con_sdm, <span class="st">"species"</span>, d_species, <span class="at">append =</span> T)</span>
<span id="cb11-77"><a href="#cb11-77" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-78"><a href="#cb11-78" aria-hidden="true" tabindex="-1"></a>  d_mdl_cell <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(r_ds, <span class="at">cells =</span> T, <span class="at">na.rm =</span> T) <span class="sc">|&gt;</span> </span>
<span id="cb11-79"><a href="#cb11-79" aria-hidden="true" tabindex="-1"></a>    <span class="fu">tibble</span>() <span class="sc">|&gt;</span> </span>
<span id="cb11-80"><a href="#cb11-80" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(</span>
<span id="cb11-81"><a href="#cb11-81" aria-hidden="true" tabindex="-1"></a>      <span class="at">mdl_seq =</span> mdl_seq,</span>
<span id="cb11-82"><a href="#cb11-82" aria-hidden="true" tabindex="-1"></a>      <span class="at">value   =</span> <span class="fu">as.integer</span>(suitability) ) <span class="sc">|&gt;</span> </span>
<span id="cb11-83"><a href="#cb11-83" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(<span class="at">cell_id =</span> cell, mdl_seq, value) <span class="sc">|&gt;</span> </span>
<span id="cb11-84"><a href="#cb11-84" aria-hidden="true" tabindex="-1"></a>    <span class="fu">arrange</span>(cell_id)</span>
<span id="cb11-85"><a href="#cb11-85" aria-hidden="true" tabindex="-1"></a>  <span class="fu">dbWriteTable</span>(con_sdm, <span class="st">"model_cell"</span>, d_mdl_cell, <span class="at">append =</span> T)</span>
<span id="cb11-86"><a href="#cb11-86" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<!-- -->

</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
    const viewSource = window.document.getElementById('quarto-view-source') ||
                       window.document.getElementById('quarto-code-tools-source');
    if (viewSource) {
      const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
      viewSource.addEventListener("click", function(e) {
        if (sourceUrl) {
          // rstudio viewer pane
          if (/\bcapabilities=\b/.test(window.location)) {
            window.open(sourceUrl);
          } else {
            window.location.href = sourceUrl;
          }
        } else {
          const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
          modal.show();
        }
        return false;
      });
    }
    function toggleCodeHandler(show) {
      return function(e) {
        const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
        for (let i=0; i<detailsSrc.length; i++) {
          const details = detailsSrc[i].parentElement;
          if (show) {
            details.open = true;
          } else {
            details.removeAttribute("open");
          }
        }
        const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
        const fromCls = show ? "hidden" : "unhidden";
        const toCls = show ? "unhidden" : "hidden";
        for (let i=0; i<cellCodeDivs.length; i++) {
          const codeDiv = cellCodeDivs[i];
          if (codeDiv.classList.contains(fromCls)) {
            codeDiv.classList.remove(fromCls);
            codeDiv.classList.add(toCls);
          } 
        }
        return false;
      }
    }
    const hideAllCode = window.document.getElementById("quarto-hide-all-code");
    if (hideAllCode) {
      hideAllCode.addEventListener("click", toggleCodeHandler(false));
    }
    const showAllCode = window.document.getElementById("quarto-show-all-code");
    if (showAllCode) {
      showAllCode.addEventListener("click", toggleCodeHandler(true));
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script><div class="modal fade" id="quarto-embedded-source-code-modal" tabindex="-1" aria-labelledby="quarto-embedded-source-code-modal-label" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="quarto-embedded-source-code-modal-label">Source Code</h5><button class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div class="">
<div class="sourceCode" id="cb12" data-shortcodes="false"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="an">title:</span><span class="co"> "Ingest NMFS ESA Critical Habitat Geodatabase"</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a><span class="an">editor_options:</span><span class="co"> </span></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a><span class="co">  chunk_output_type: console</span></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a><span class="fu">## Read NMFS ESA Critical Habitat Geodatabase</span></span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="co">[</span><span class="ot">National ESA Critical Habitat Mapper | NOAA Fisheries</span><span class="co">](https://www.fisheries.noaa.gov/resource/map/national-esa-critical-habitat-mapper)</span></span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a><span class="ss">  - </span>Downloaded Geodatabase</span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a><span class="ss">  - </span>metadata: <span class="co">[</span><span class="ot">National ESA Critical Habitat Geodatabase | InPort</span><span class="co">](https://www.fisheries.noaa.gov/inport/item/65207)</span></span>
<span id="cb12-12"><a href="#cb12-12" aria-hidden="true" tabindex="-1"></a><span class="ss">  - </span><span class="co">[</span><span class="ot">Threatened and Endangered Species List—Gulf of America | NOAA Fisheries</span><span class="co">](https://www.fisheries.noaa.gov/southeast/consultations/threatened-and-endangered-species-list-gulf-america)</span></span>
<span id="cb12-13"><a href="#cb12-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-14"><a href="#cb12-14" aria-hidden="true" tabindex="-1"></a><span class="in">```{r setup}</span></span>
<span id="cb12-15"><a href="#cb12-15" aria-hidden="true" tabindex="-1"></a>librarian<span class="sc">::</span><span class="fu">shelf</span>(</span>
<span id="cb12-16"><a href="#cb12-16" aria-hidden="true" tabindex="-1"></a>  DBI, dplyr, DT, duckdb, fs, glue, here, knitr, leaflet, leaflet.extras2, mapview, purrr, sf, stringr, terra,</span>
<span id="cb12-17"><a href="#cb12-17" aria-hidden="true" tabindex="-1"></a>  <span class="at">quiet =</span> T)</span>
<span id="cb12-18"><a href="#cb12-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-19"><a href="#cb12-19" aria-hidden="true" tabindex="-1"></a><span class="fu">mapviewOptions</span>(</span>
<span id="cb12-20"><a href="#cb12-20" aria-hidden="true" tabindex="-1"></a>  <span class="at">basemaps       =</span> <span class="st">"Esri.OceanBasemap"</span>,</span>
<span id="cb12-21"><a href="#cb12-21" aria-hidden="true" tabindex="-1"></a>  <span class="at">vector.palette =</span> \(n) grDevices<span class="sc">::</span><span class="fu">hcl.colors</span>(n, <span class="at">palette =</span> <span class="st">"Spectral"</span>) )</span>
<span id="cb12-22"><a href="#cb12-22" aria-hidden="true" tabindex="-1"></a><span class="fu">sf_use_s2</span>(T)</span>
<span id="cb12-23"><a href="#cb12-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-24"><a href="#cb12-24" aria-hidden="true" tabindex="-1"></a>is_server    <span class="ot">&lt;-</span> <span class="fu">Sys.info</span>()[[<span class="st">"sysname"</span>]] <span class="sc">==</span> <span class="st">"Linux"</span></span>
<span id="cb12-25"><a href="#cb12-25" aria-hidden="true" tabindex="-1"></a>dir_private  <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(is_server, <span class="st">"/share/private"</span>, <span class="st">"~/My Drive/private"</span>)</span>
<span id="cb12-26"><a href="#cb12-26" aria-hidden="true" tabindex="-1"></a>iucn_tkn_txt <span class="ot">&lt;-</span> <span class="fu">glue</span>(<span class="st">"{dir_private}/iucnredlist.org_api_token_v4.txt"</span>)</span>
<span id="cb12-27"><a href="#cb12-27" aria-hidden="true" tabindex="-1"></a>dir_data     <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(is_server, <span class="st">"/share/data"</span>   , <span class="st">"~/My Drive/projects/msens/data"</span>)</span>
<span id="cb12-28"><a href="#cb12-28" aria-hidden="true" tabindex="-1"></a>dir_gbif     <span class="ot">&lt;-</span> <span class="fu">glue</span>(<span class="st">"{dir_data}/raw/gbif.org"</span>)</span>
<span id="cb12-29"><a href="#cb12-29" aria-hidden="true" tabindex="-1"></a>spp_db       <span class="ot">&lt;-</span> <span class="fu">glue</span>(<span class="st">"{dir_data}/derived/spp.duckdb"</span>)</span>
<span id="cb12-30"><a href="#cb12-30" aria-hidden="true" tabindex="-1"></a>sdm_db       <span class="ot">&lt;-</span> <span class="fu">glue</span>(<span class="st">"{dir_data}/derived/sdm.duckdb"</span>)</span>
<span id="cb12-31"><a href="#cb12-31" aria-hidden="true" tabindex="-1"></a>dir_gdb      <span class="ot">&lt;-</span> <span class="st">"~/My Drive/projects/msens/data/raw/fisheries.noaa.gov"</span></span>
<span id="cb12-32"><a href="#cb12-32" aria-hidden="true" tabindex="-1"></a>gdb          <span class="ot">&lt;-</span> <span class="fu">glue</span>(<span class="st">"{dir_gdb}/NMFS_ESA_Critical_Habitat_20230505.gdb"</span>)</span>
<span id="cb12-33"><a href="#cb12-33" aria-hidden="true" tabindex="-1"></a>lns_geo      <span class="ot">&lt;-</span> <span class="fu">glue</span>(<span class="st">"{dir_gdb}/lns.gpkg"</span>)</span>
<span id="cb12-34"><a href="#cb12-34" aria-hidden="true" tabindex="-1"></a>ply_geo      <span class="ot">&lt;-</span> <span class="fu">glue</span>(<span class="st">"{dir_gdb}/ply.gpkg"</span>)</span>
<span id="cb12-35"><a href="#cb12-35" aria-hidden="true" tabindex="-1"></a>cell_tif     <span class="ot">&lt;-</span> <span class="fu">glue</span>(<span class="st">"{dir_data}/derived/r_bio-oracle_planarea.tif"</span>)</span>
<span id="cb12-36"><a href="#cb12-36" aria-hidden="true" tabindex="-1"></a>dir_figs     <span class="ot">&lt;-</span> <span class="fu">here</span>(<span class="st">"figs/ingest_fisheries.noaa.gov_critical-habitat"</span>)</span>
<span id="cb12-37"><a href="#cb12-37" aria-hidden="true" tabindex="-1"></a>ply_png      <span class="ot">&lt;-</span> <span class="fu">glue</span>(<span class="st">"{dir_figs}/ply.png"</span>)</span>
<span id="cb12-38"><a href="#cb12-38" aria-hidden="true" tabindex="-1"></a>lns_png      <span class="ot">&lt;-</span> <span class="fu">glue</span>(<span class="st">"{dir_figs}/lns.png"</span>)</span>
<span id="cb12-39"><a href="#cb12-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-40"><a href="#cb12-40" aria-hidden="true" tabindex="-1"></a><span class="fu">dir.create</span>(dir_figs, <span class="at">showWarnings =</span> F, <span class="at">recursive =</span> T)</span>
<span id="cb12-41"><a href="#cb12-41" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb12-42"><a href="#cb12-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-43"><a href="#cb12-43" aria-hidden="true" tabindex="-1"></a><span class="fu">### Layers</span></span>
<span id="cb12-44"><a href="#cb12-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-45"><a href="#cb12-45" aria-hidden="true" tabindex="-1"></a><span class="in">```{r layers}</span></span>
<span id="cb12-46"><a href="#cb12-46" aria-hidden="true" tabindex="-1"></a>d_lyrs <span class="ot">&lt;-</span> <span class="fu">st_layers</span>(gdb) <span class="sc">|&gt;</span> </span>
<span id="cb12-47"><a href="#cb12-47" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tibble</span>() <span class="sc">|&gt;</span> </span>
<span id="cb12-48"><a href="#cb12-48" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb12-49"><a href="#cb12-49" aria-hidden="true" tabindex="-1"></a>    <span class="at">crs      =</span> <span class="fu">map_chr</span>(crs, <span class="sc">~</span> <span class="fu">st_crs</span>(.x)<span class="sc">$</span>input),</span>
<span id="cb12-50"><a href="#cb12-50" aria-hidden="true" tabindex="-1"></a>    <span class="at">geomtype =</span> <span class="fu">unlist</span>(geomtype)) <span class="sc">|&gt;</span> </span>
<span id="cb12-51"><a href="#cb12-51" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>driver) <span class="sc">|&gt;</span> </span>
<span id="cb12-52"><a href="#cb12-52" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(name)</span>
<span id="cb12-53"><a href="#cb12-53" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-54"><a href="#cb12-54" aria-hidden="true" tabindex="-1"></a>d_lyrs <span class="sc">|&gt;</span> </span>
<span id="cb12-55"><a href="#cb12-55" aria-hidden="true" tabindex="-1"></a>  <span class="fu">datatable</span>()</span>
<span id="cb12-56"><a href="#cb12-56" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb12-57"><a href="#cb12-57" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-58"><a href="#cb12-58" aria-hidden="true" tabindex="-1"></a><span class="fu">### Lines</span></span>
<span id="cb12-59"><a href="#cb12-59" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-60"><a href="#cb12-60" aria-hidden="true" tabindex="-1"></a><span class="in">```{r lines_map}</span></span>
<span id="cb12-61"><a href="#cb12-61" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span><span class="fu">file.exists</span>(lns_geo)){</span>
<span id="cb12-62"><a href="#cb12-62" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb12-63"><a href="#cb12-63" aria-hidden="true" tabindex="-1"></a>  lns <span class="ot">&lt;-</span> <span class="fu">st_read</span>(gdb, <span class="at">layer =</span> <span class="st">"All_critical_habitat_line_20220404"</span>, <span class="at">quiet =</span> T) <span class="sc">|&gt;</span> </span>
<span id="cb12-64"><a href="#cb12-64" aria-hidden="true" tabindex="-1"></a>    <span class="fu">tibble</span>() <span class="sc">|&gt;</span> </span>
<span id="cb12-65"><a href="#cb12-65" aria-hidden="true" tabindex="-1"></a>    <span class="fu">st_as_sf</span>()</span>
<span id="cb12-66"><a href="#cb12-66" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb12-67"><a href="#cb12-67" aria-hidden="true" tabindex="-1"></a>  <span class="co"># lns$LISTSTATUS |&gt; table()</span></span>
<span id="cb12-68"><a href="#cb12-68" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Endangered Threatened </span></span>
<span id="cb12-69"><a href="#cb12-69" aria-hidden="true" tabindex="-1"></a>  <span class="co">#      11467      48421</span></span>
<span id="cb12-70"><a href="#cb12-70" aria-hidden="true" tabindex="-1"></a>  <span class="co"># lns |&gt; st_drop_geometry() |&gt; select(LISTSTATUS, CHSTATUS) |&gt; table()</span></span>
<span id="cb12-71"><a href="#cb12-71" aria-hidden="true" tabindex="-1"></a>  <span class="co">#             CHSTATUS</span></span>
<span id="cb12-72"><a href="#cb12-72" aria-hidden="true" tabindex="-1"></a>  <span class="co"># LISTSTATUS   Final</span></span>
<span id="cb12-73"><a href="#cb12-73" aria-hidden="true" tabindex="-1"></a>  <span class="co">#   Endangered 11467</span></span>
<span id="cb12-74"><a href="#cb12-74" aria-hidden="true" tabindex="-1"></a>  <span class="co">#   Threatened 48421</span></span>
<span id="cb12-75"><a href="#cb12-75" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb12-76"><a href="#cb12-76" aria-hidden="true" tabindex="-1"></a>  lns_s <span class="ot">&lt;-</span> lns <span class="sc">|&gt;</span> </span>
<span id="cb12-77"><a href="#cb12-77" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(</span>
<span id="cb12-78"><a href="#cb12-78" aria-hidden="true" tabindex="-1"></a>      <span class="at">cm_er =</span> <span class="fu">case_match</span>(</span>
<span id="cb12-79"><a href="#cb12-79" aria-hidden="true" tabindex="-1"></a>        LISTSTATUS,</span>
<span id="cb12-80"><a href="#cb12-80" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Threatened"</span> <span class="sc">~</span> <span class="fu">glue</span>(<span class="st">"{COMNAME} (TN)"</span>),  <span class="co"># </span><span class="al">TODO</span><span class="co">: assign relative to IUCN</span></span>
<span id="cb12-81"><a href="#cb12-81" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Endangered"</span> <span class="sc">~</span> <span class="fu">glue</span>(<span class="st">"{COMNAME} (EN)"</span>) ) ) <span class="sc">|&gt;</span> </span>
<span id="cb12-82"><a href="#cb12-82" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(TAXON, cm_er, SCIENAME, COMNAME, LISTSTATUS, HABTYPE) <span class="sc">|&gt;</span> </span>
<span id="cb12-83"><a href="#cb12-83" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarize</span>(</span>
<span id="cb12-84"><a href="#cb12-84" aria-hidden="true" tabindex="-1"></a>      <span class="at">n =</span> <span class="fu">n</span>(), <span class="at">.groups =</span> <span class="st">"drop"</span>)</span>
<span id="cb12-85"><a href="#cb12-85" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb12-86"><a href="#cb12-86" aria-hidden="true" tabindex="-1"></a>  <span class="fu">st_write</span>(lns_s, lns_geo, <span class="at">delete_dsn =</span> T, <span class="at">quiet =</span> T)</span>
<span id="cb12-87"><a href="#cb12-87" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb12-88"><a href="#cb12-88" aria-hidden="true" tabindex="-1"></a>lns_s <span class="ot">&lt;-</span> <span class="fu">st_read</span>(lns_geo, <span class="at">quiet =</span> T)</span>
<span id="cb12-89"><a href="#cb12-89" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-90"><a href="#cb12-90" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span><span class="fu">file.exists</span>(lns_png)){</span>
<span id="cb12-91"><a href="#cb12-91" aria-hidden="true" tabindex="-1"></a>  m <span class="ot">&lt;-</span> <span class="fu">mapView</span>(lns_s, <span class="at">alpha.regions =</span> <span class="fl">0.5</span>, <span class="at">zcol =</span> <span class="st">"cm_er"</span>)</span>
<span id="cb12-92"><a href="#cb12-92" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mapshot2</span>(m, <span class="at">file =</span> lns_png)</span>
<span id="cb12-93"><a href="#cb12-93" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb12-94"><a href="#cb12-94" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb12-95"><a href="#cb12-95" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-96"><a href="#cb12-96" aria-hidden="true" tabindex="-1"></a>![Lines of Critical Habitat as a static map </span>
<span id="cb12-97"><a href="#cb12-97" aria-hidden="true" tabindex="-1"></a><span class="in">`r glue("(Data source {basename(lns_geo)} too big ({file_size(lns_geo)}) for interactive display on Github-hosted notebook)")`</span>.](<span class="in">`r lns_png |&gt; str_replace(here(), ".")`</span>){#fig-lns .lightbox}</span>
<span id="cb12-98"><a href="#cb12-98" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-99"><a href="#cb12-99" aria-hidden="true" tabindex="-1"></a><span class="in">```{r lines_table}</span></span>
<span id="cb12-100"><a href="#cb12-100" aria-hidden="true" tabindex="-1"></a>lns_s <span class="sc">|&gt;</span> </span>
<span id="cb12-101"><a href="#cb12-101" aria-hidden="true" tabindex="-1"></a>  <span class="fu">st_drop_geometry</span>() <span class="sc">|&gt;</span> </span>
<span id="cb12-102"><a href="#cb12-102" aria-hidden="true" tabindex="-1"></a>  <span class="fu">datatable</span>()</span>
<span id="cb12-103"><a href="#cb12-103" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb12-104"><a href="#cb12-104" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-105"><a href="#cb12-105" aria-hidden="true" tabindex="-1"></a><span class="fu">### Polygons</span></span>
<span id="cb12-106"><a href="#cb12-106" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-107"><a href="#cb12-107" aria-hidden="true" tabindex="-1"></a><span class="in">```{r polygons_map}</span></span>
<span id="cb12-108"><a href="#cb12-108" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span><span class="fu">file.exists</span>(ply_geo)){</span>
<span id="cb12-109"><a href="#cb12-109" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sf_use_s2</span>(F)</span>
<span id="cb12-110"><a href="#cb12-110" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb12-111"><a href="#cb12-111" aria-hidden="true" tabindex="-1"></a>  ply <span class="ot">&lt;-</span> <span class="fu">st_read</span>(gdb, <span class="at">layer =</span> <span class="st">"All_critical_habitat_poly_20230724"</span>, <span class="at">quiet =</span> T) <span class="sc">|&gt;</span> </span>
<span id="cb12-112"><a href="#cb12-112" aria-hidden="true" tabindex="-1"></a>    <span class="fu">tibble</span>() <span class="sc">|&gt;</span> </span>
<span id="cb12-113"><a href="#cb12-113" aria-hidden="true" tabindex="-1"></a>    <span class="fu">st_as_sf</span>() <span class="sc">|&gt;</span> </span>
<span id="cb12-114"><a href="#cb12-114" aria-hidden="true" tabindex="-1"></a>    <span class="fu">st_make_valid</span>()</span>
<span id="cb12-115"><a href="#cb12-115" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb12-116"><a href="#cb12-116" aria-hidden="true" tabindex="-1"></a>  <span class="co"># ply$LISTSTATUS |&gt; table()</span></span>
<span id="cb12-117"><a href="#cb12-117" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Endangered Threatened </span></span>
<span id="cb12-118"><a href="#cb12-118" aria-hidden="true" tabindex="-1"></a>  <span class="co">#       1043       1071 </span></span>
<span id="cb12-119"><a href="#cb12-119" aria-hidden="true" tabindex="-1"></a>  <span class="co"># ply |&gt; st_drop_geometry() |&gt; select(LISTSTATUS, CHSTATUS) |&gt; table()</span></span>
<span id="cb12-120"><a href="#cb12-120" aria-hidden="true" tabindex="-1"></a>  <span class="co">#             CHSTATUS</span></span>
<span id="cb12-121"><a href="#cb12-121" aria-hidden="true" tabindex="-1"></a>  <span class="co"># LISTSTATUS   Designated Final Proposed</span></span>
<span id="cb12-122"><a href="#cb12-122" aria-hidden="true" tabindex="-1"></a>  <span class="co">#   Endangered          0  1024       19</span></span>
<span id="cb12-123"><a href="#cb12-123" aria-hidden="true" tabindex="-1"></a>  <span class="co">#   Threatened         20   997       54</span></span>
<span id="cb12-124"><a href="#cb12-124" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb12-125"><a href="#cb12-125" aria-hidden="true" tabindex="-1"></a>  ply_s <span class="ot">&lt;-</span> ply <span class="sc">|&gt;</span> </span>
<span id="cb12-126"><a href="#cb12-126" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(</span>
<span id="cb12-127"><a href="#cb12-127" aria-hidden="true" tabindex="-1"></a>      <span class="at">er =</span> <span class="fu">case_match</span>( <span class="co"># er: extinction risk</span></span>
<span id="cb12-128"><a href="#cb12-128" aria-hidden="true" tabindex="-1"></a>        LISTSTATUS,</span>
<span id="cb12-129"><a href="#cb12-129" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Threatened"</span> <span class="sc">~</span> <span class="st">"TN"</span>,</span>
<span id="cb12-130"><a href="#cb12-130" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Endangered"</span> <span class="sc">~</span> <span class="st">"EN"</span>),</span>
<span id="cb12-131"><a href="#cb12-131" aria-hidden="true" tabindex="-1"></a>      <span class="at">st =</span> <span class="fu">case_match</span>(</span>
<span id="cb12-132"><a href="#cb12-132" aria-hidden="true" tabindex="-1"></a>        CHSTATUS,</span>
<span id="cb12-133"><a href="#cb12-133" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Designated"</span> <span class="sc">~</span> <span class="st">"des."</span>,</span>
<span id="cb12-134"><a href="#cb12-134" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Final"</span>      <span class="sc">~</span> <span class="st">"fin."</span>,</span>
<span id="cb12-135"><a href="#cb12-135" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Proposed"</span>   <span class="sc">~</span> <span class="st">"prop."</span> ),</span>
<span id="cb12-136"><a href="#cb12-136" aria-hidden="true" tabindex="-1"></a>      <span class="at">cm_er_st =</span> <span class="fu">glue</span>(<span class="st">"{COMNAME} ({er}) {st}"</span>) ) <span class="sc">|&gt;</span> </span>
<span id="cb12-137"><a href="#cb12-137" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(TAXON, cm_er_st, SCIENAME, COMNAME, LISTSTATUS, HABTYPE) <span class="sc">|&gt;</span> </span>
<span id="cb12-138"><a href="#cb12-138" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarize</span>(</span>
<span id="cb12-139"><a href="#cb12-139" aria-hidden="true" tabindex="-1"></a>      <span class="at">n =</span> <span class="fu">n</span>(), <span class="at">.groups =</span> <span class="st">"drop"</span>)</span>
<span id="cb12-140"><a href="#cb12-140" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-141"><a href="#cb12-141" aria-hidden="true" tabindex="-1"></a>  <span class="fu">st_write</span>(ply_s, ply_geo, <span class="at">delete_dsn =</span> T, <span class="at">quiet =</span> T)</span>
<span id="cb12-142"><a href="#cb12-142" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb12-143"><a href="#cb12-143" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sf_use_s2</span>(T)</span>
<span id="cb12-144"><a href="#cb12-144" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb12-145"><a href="#cb12-145" aria-hidden="true" tabindex="-1"></a>ply_s <span class="ot">&lt;-</span> <span class="fu">st_read</span>(ply_geo, <span class="at">quiet =</span> T)</span>
<span id="cb12-146"><a href="#cb12-146" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-147"><a href="#cb12-147" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span><span class="fu">file.exists</span>(ply_png)){</span>
<span id="cb12-148"><a href="#cb12-148" aria-hidden="true" tabindex="-1"></a>  m <span class="ot">&lt;-</span> <span class="fu">mapView</span>(ply_s, <span class="at">alpha.regions =</span> <span class="fl">0.5</span>, <span class="at">zcol =</span> <span class="st">"cm_er_st"</span>)</span>
<span id="cb12-149"><a href="#cb12-149" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mapshot2</span>(m, <span class="at">file =</span> ply_png)</span>
<span id="cb12-150"><a href="#cb12-150" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb12-151"><a href="#cb12-151" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb12-152"><a href="#cb12-152" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-153"><a href="#cb12-153" aria-hidden="true" tabindex="-1"></a>![Polygons of Critical Habitat as a static map </span>
<span id="cb12-154"><a href="#cb12-154" aria-hidden="true" tabindex="-1"></a><span class="in">`r glue("(Data source {basename(ply_geo)} too big ({fs::file_size(ply_geo)}) for interactive display on Github-hosted notebook)")`</span>.](<span class="in">`r ply_png |&gt; str_replace(here(), ".")`</span>){#fig-ply .lightbox}</span>
<span id="cb12-155"><a href="#cb12-155" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-156"><a href="#cb12-156" aria-hidden="true" tabindex="-1"></a><span class="in">```{r polygons_table}</span></span>
<span id="cb12-157"><a href="#cb12-157" aria-hidden="true" tabindex="-1"></a>ply_s <span class="sc">|&gt;</span> </span>
<span id="cb12-158"><a href="#cb12-158" aria-hidden="true" tabindex="-1"></a>  <span class="fu">st_drop_geometry</span>() <span class="sc">|&gt;</span> </span>
<span id="cb12-159"><a href="#cb12-159" aria-hidden="true" tabindex="-1"></a>  <span class="fu">datatable</span>()</span>
<span id="cb12-160"><a href="#cb12-160" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb12-161"><a href="#cb12-161" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-162"><a href="#cb12-162" aria-hidden="true" tabindex="-1"></a><span class="fu">## Convert to MSToolkit Framework</span></span>
<span id="cb12-163"><a href="#cb12-163" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-164"><a href="#cb12-164" aria-hidden="true" tabindex="-1"></a><span class="fu">### Extinction Risk: ESA vs IUCN?</span></span>
<span id="cb12-165"><a href="#cb12-165" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-166"><a href="#cb12-166" aria-hidden="true" tabindex="-1"></a>Note: ESA lists only "Endangered" or "Threatened" species, but "Threatened" is</span>
<span id="cb12-167"><a href="#cb12-167" aria-hidden="true" tabindex="-1"></a>not in the IUCN RedList, so need to apply a code and score relative to others:</span>
<span id="cb12-168"><a href="#cb12-168" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-169"><a href="#cb12-169" aria-hidden="true" tabindex="-1"></a>**Extinction Risk**:</span>
<span id="cb12-170"><a href="#cb12-170" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-171"><a href="#cb12-171" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="in">`CR`</span>: 1\</span>
<span id="cb12-172"><a href="#cb12-172" aria-hidden="true" tabindex="-1"></a>  Critically Endangered (IUCN)</span>
<span id="cb12-173"><a href="#cb12-173" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="in">`EN`</span>: 0.8\</span>
<span id="cb12-174"><a href="#cb12-174" aria-hidden="true" tabindex="-1"></a>  Endangered (IUCN, **ESA**)</span>
<span id="cb12-175"><a href="#cb12-175" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="in">`VU`</span>: 0.6\</span>
<span id="cb12-176"><a href="#cb12-176" aria-hidden="true" tabindex="-1"></a>  Vulnerable (IUCN)</span>
<span id="cb12-177"><a href="#cb12-177" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="in">`TN`</span>: **0.6** \</span>
<span id="cb12-178"><a href="#cb12-178" aria-hidden="true" tabindex="-1"></a>  **Threatened**  (**ESA**)</span>
<span id="cb12-179"><a href="#cb12-179" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="in">`NT`</span>: 0.4\</span>
<span id="cb12-180"><a href="#cb12-180" aria-hidden="true" tabindex="-1"></a>  Near Threatened (IUCN)</span>
<span id="cb12-181"><a href="#cb12-181" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="in">`LC`</span>: 0.2\</span>
<span id="cb12-182"><a href="#cb12-182" aria-hidden="true" tabindex="-1"></a>  Least Concern (IUCN)</span>
<span id="cb12-183"><a href="#cb12-183" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-184"><a href="#cb12-184" aria-hidden="true" tabindex="-1"></a>TODO: Check for equivalency and other issues with this comparison:</span>
<span id="cb12-185"><a href="#cb12-185" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-186"><a href="#cb12-186" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="co">[</span><span class="ot">Harris et al (2012) Conserving Imperiled Species: A Comparison of the IUCN Red List and U.S. Endangered Species Act.” Cons Lttrs</span><span class="co">](https://doi.org/10.1111/j.1755-263X.2011.00205.x)</span></span>
<span id="cb12-187"><a href="#cb12-187" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-188"><a href="#cb12-188" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="co">[</span><span class="ot">Threatened vs. Vulnerable - What's the Difference? | This vs. That</span><span class="co">](https://thisvsthat.io/threatened-vs-vulnerable)</span></span>
<span id="cb12-189"><a href="#cb12-189" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-190"><a href="#cb12-190" aria-hidden="true" tabindex="-1"></a><span class="fu">### Polygon to raster, eg _Balaenoptera ricei_</span></span>
<span id="cb12-191"><a href="#cb12-191" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-192"><a href="#cb12-192" aria-hidden="true" tabindex="-1"></a>The <span class="in">`terra::rasterize()`</span> function with the 0.05° raster template provides a reasonable approximation of the original shapefile.</span>
<span id="cb12-193"><a href="#cb12-193" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-194"><a href="#cb12-194" aria-hidden="true" tabindex="-1"></a><span class="in">```{r fig-ply_ricei}</span></span>
<span id="cb12-195"><a href="#cb12-195" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-cap: "Rasterized polygon of Rice's whale critical habitat as interactive map."</span></span>
<span id="cb12-196"><a href="#cb12-196" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-197"><a href="#cb12-197" aria-hidden="true" tabindex="-1"></a>r_cell <span class="ot">&lt;-</span> <span class="fu">rast</span>(cell_tif)</span>
<span id="cb12-198"><a href="#cb12-198" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-199"><a href="#cb12-199" aria-hidden="true" tabindex="-1"></a>ply_ricei <span class="ot">&lt;-</span> ply_s <span class="sc">|&gt;</span></span>
<span id="cb12-200"><a href="#cb12-200" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(SCIENAME <span class="sc">==</span> <span class="st">"Balaenoptera ricei"</span>)</span>
<span id="cb12-201"><a href="#cb12-201" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-202"><a href="#cb12-202" aria-hidden="true" tabindex="-1"></a>r_ricei <span class="ot">&lt;-</span> <span class="fu">rasterize</span>(</span>
<span id="cb12-203"><a href="#cb12-203" aria-hidden="true" tabindex="-1"></a>  ply_ricei <span class="sc">|&gt;</span> </span>
<span id="cb12-204"><a href="#cb12-204" aria-hidden="true" tabindex="-1"></a>    <span class="fu">st_shift_longitude</span>() <span class="sc">|&gt;</span> <span class="co"># [-180, 180] -&gt; [0, 360]</span></span>
<span id="cb12-205"><a href="#cb12-205" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">value =</span> <span class="dv">100</span>),    <span class="co"># </span><span class="al">TODO</span><span class="co">: default value</span></span>
<span id="cb12-206"><a href="#cb12-206" aria-hidden="true" tabindex="-1"></a>  r_cell, </span>
<span id="cb12-207"><a href="#cb12-207" aria-hidden="true" tabindex="-1"></a>  <span class="at">field =</span> <span class="st">"value"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb12-208"><a href="#cb12-208" aria-hidden="true" tabindex="-1"></a>  <span class="fu">trim</span>()</span>
<span id="cb12-209"><a href="#cb12-209" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-210"><a href="#cb12-210" aria-hidden="true" tabindex="-1"></a><span class="fu">leaflet</span>() <span class="sc">|&gt;</span></span>
<span id="cb12-211"><a href="#cb12-211" aria-hidden="true" tabindex="-1"></a>  <span class="fu">addMapPane</span>(<span class="st">"left_pn"</span>,  <span class="at">zIndex =</span> <span class="dv">0</span>) <span class="sc">|&gt;</span></span>
<span id="cb12-212"><a href="#cb12-212" aria-hidden="true" tabindex="-1"></a>  <span class="fu">addMapPane</span>(<span class="st">"right_pn"</span>, <span class="at">zIndex =</span> <span class="dv">0</span>) <span class="sc">|&gt;</span></span>
<span id="cb12-213"><a href="#cb12-213" aria-hidden="true" tabindex="-1"></a>  <span class="fu">addProviderTiles</span>(</span>
<span id="cb12-214"><a href="#cb12-214" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Esri.OceanBasemap"</span>, <span class="at">group =</span> <span class="st">"left_grp"</span>,  <span class="at">layerId =</span> <span class="st">"left_lyr"</span>,</span>
<span id="cb12-215"><a href="#cb12-215" aria-hidden="true" tabindex="-1"></a>    <span class="at">options =</span> <span class="fu">pathOptions</span>(<span class="at">pane =</span> <span class="st">"left_pn"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb12-216"><a href="#cb12-216" aria-hidden="true" tabindex="-1"></a>  <span class="fu">addProviderTiles</span>(</span>
<span id="cb12-217"><a href="#cb12-217" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Esri.OceanBasemap"</span>, <span class="at">group =</span> <span class="st">"right_grp"</span>, <span class="at">layerId =</span> <span class="st">"right_lyr"</span>,</span>
<span id="cb12-218"><a href="#cb12-218" aria-hidden="true" tabindex="-1"></a>    <span class="at">options =</span> <span class="fu">pathOptions</span>(<span class="at">pane =</span> <span class="st">"right_pn"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb12-219"><a href="#cb12-219" aria-hidden="true" tabindex="-1"></a>  <span class="fu">addPolygons</span>(</span>
<span id="cb12-220"><a href="#cb12-220" aria-hidden="true" tabindex="-1"></a>    <span class="at">data         =</span> ply_ricei,</span>
<span id="cb12-221"><a href="#cb12-221" aria-hidden="true" tabindex="-1"></a>    <span class="at">fillColor    =</span> <span class="st">"blue"</span>,</span>
<span id="cb12-222"><a href="#cb12-222" aria-hidden="true" tabindex="-1"></a>    <span class="at">fillOpacity  =</span> <span class="fl">0.5</span>,</span>
<span id="cb12-223"><a href="#cb12-223" aria-hidden="true" tabindex="-1"></a>    <span class="at">weight       =</span> <span class="dv">1</span>,</span>
<span id="cb12-224"><a href="#cb12-224" aria-hidden="true" tabindex="-1"></a>    <span class="at">color        =</span> <span class="st">"blue"</span>,</span>
<span id="cb12-225"><a href="#cb12-225" aria-hidden="true" tabindex="-1"></a>    <span class="at">group        =</span> <span class="st">"ply"</span>,</span>
<span id="cb12-226"><a href="#cb12-226" aria-hidden="true" tabindex="-1"></a>    <span class="at">options      =</span> <span class="fu">pathOptions</span>(<span class="at">pane =</span> <span class="st">"left_pn"</span>) ) <span class="sc">|&gt;</span></span>
<span id="cb12-227"><a href="#cb12-227" aria-hidden="true" tabindex="-1"></a>  <span class="fu">addRasterImage</span>(</span>
<span id="cb12-228"><a href="#cb12-228" aria-hidden="true" tabindex="-1"></a>    r_ricei,</span>
<span id="cb12-229"><a href="#cb12-229" aria-hidden="true" tabindex="-1"></a>    <span class="at">colors  =</span> <span class="st">"red"</span>,</span>
<span id="cb12-230"><a href="#cb12-230" aria-hidden="true" tabindex="-1"></a>    <span class="at">opacity =</span> <span class="fl">0.8</span>,</span>
<span id="cb12-231"><a href="#cb12-231" aria-hidden="true" tabindex="-1"></a>    <span class="at">group   =</span> <span class="st">"rast"</span>,</span>
<span id="cb12-232"><a href="#cb12-232" aria-hidden="true" tabindex="-1"></a>    <span class="at">options =</span> <span class="fu">leafletOptions</span>(<span class="at">pane =</span> <span class="st">"right_pn"</span>) ) <span class="sc">|&gt;</span></span>
<span id="cb12-233"><a href="#cb12-233" aria-hidden="true" tabindex="-1"></a>  leaflet.extras2<span class="sc">::</span><span class="fu">addSidebyside</span>(</span>
<span id="cb12-234"><a href="#cb12-234" aria-hidden="true" tabindex="-1"></a>    <span class="at">layerId     =</span> <span class="st">"sidecontrols"</span>,</span>
<span id="cb12-235"><a href="#cb12-235" aria-hidden="true" tabindex="-1"></a>    <span class="at">rightId     =</span> <span class="st">"right_lyr"</span>,</span>
<span id="cb12-236"><a href="#cb12-236" aria-hidden="true" tabindex="-1"></a>    <span class="at">leftId      =</span> <span class="st">"left_lyr"</span>)</span>
<span id="cb12-237"><a href="#cb12-237" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb12-238"><a href="#cb12-238" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-239"><a href="#cb12-239" aria-hidden="true" tabindex="-1"></a><span class="fu">### Default Suitability?</span></span>
<span id="cb12-240"><a href="#cb12-240" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-241"><a href="#cb12-241" aria-hidden="true" tabindex="-1"></a>Originally I thought of applying a default suitability value of 50% to these</span>
<span id="cb12-242"><a href="#cb12-242" aria-hidden="true" tabindex="-1"></a>binary range maps, but examples like Rice's whale illustrate the importance of upweighting these critical habitats, so instead how about weighting by </span>
<span id="cb12-243"><a href="#cb12-243" aria-hidden="true" tabindex="-1"></a>extinction risk:</span>
<span id="cb12-244"><a href="#cb12-244" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-245"><a href="#cb12-245" aria-hidden="true" tabindex="-1"></a>**Suitability**:</span>
<span id="cb12-246"><a href="#cb12-246" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-247"><a href="#cb12-247" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="in">`EN`</span>: 100%\</span>
<span id="cb12-248"><a href="#cb12-248" aria-hidden="true" tabindex="-1"></a>  Endangered (IUCN, **ESA**)</span>
<span id="cb12-249"><a href="#cb12-249" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="in">`TN`</span>: 80%\</span>
<span id="cb12-250"><a href="#cb12-250" aria-hidden="true" tabindex="-1"></a>  **Threatened**  (**ESA**)</span>
<span id="cb12-251"><a href="#cb12-251" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-252"><a href="#cb12-252" aria-hidden="true" tabindex="-1"></a>The suitability value gets multiplied by the extinction risk for the species'</span>
<span id="cb12-253"><a href="#cb12-253" aria-hidden="true" tabindex="-1"></a>contribution to overall sensitivity.</span>
<span id="cb12-254"><a href="#cb12-254" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-255"><a href="#cb12-255" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>O'Hara et al (2017) <span class="co">[</span><span class="ot">Aligning marine species range data to better serve science and conservation</span><span class="co">](https://journals.plos.org/plosone/article?id=10.1371/journal.pone.0175739)</span> _PLOS One_</span>
<span id="cb12-256"><a href="#cb12-256" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-257"><a href="#cb12-257" aria-hidden="true" tabindex="-1"></a>And related:</span>
<span id="cb12-258"><a href="#cb12-258" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-259"><a href="#cb12-259" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Lee-Yaw et al (2021) <span class="co">[</span><span class="ot">Species distribution models rarely predict the biology of real populations</span><span class="co">](https://nsojournals.onlinelibrary.wiley.com/doi/full/10.1111/ecog.05877)</span> _Ecography_</span>
<span id="cb12-260"><a href="#cb12-260" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Borgelt  et al (2022) <span class="co">[</span><span class="ot">More than half of data deficient species predicted to be threatened by extinction | Communications Biology</span><span class="co">](https://www.nature.com/articles/s42003-022-03638-9)</span></span>
<span id="cb12-261"><a href="#cb12-261" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Moudrý &amp; Devillers (2020) <span class="co">[</span><span class="ot">Quality and usability challenges of global marine biodiversity databases: An example for marine mammal data</span><span class="co">](https://www.sciencedirect.com/science/article/pii/S1574954120300017?casa_token=WF_-wuk3arkAAAAA:AitcjoacX-qkxeX3ZS7WdO3rGigHo5DW4lYvGu6eELdCrY9xsd2O2b2N8hJBwY8kX1aLINU77iA)</span> _Ecological Informatics_</span>
<span id="cb12-262"><a href="#cb12-262" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>O'Hara et al (2019) <span class="co">[</span><span class="ot">Mapping status and conservation of global at-risk marine biodiversity</span><span class="co">](https://conbio.onlinelibrary.wiley.com/doi/full/10.1111/conl.12651)</span> _Conservation Letters_</span>
<span id="cb12-263"><a href="#cb12-263" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Palacio et al (2021) <span class="co">[</span><span class="ot">A data‐driven geospatial workflow to map species distributions for conservation assessments</span><span class="co">](https://onlinelibrary.wiley.com/doi/full/10.1111/ddi.13424)</span> _Diversity and Distributions_</span>
<span id="cb12-264"><a href="#cb12-264" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Merow et al (2022) <span class="co">[</span><span class="ot">Operationalizing expert knowledge in species' range estimates using diverse data types</span><span class="co">](https://escholarship.org/uc/item/3m7719vv)</span> _Frontiers of Biogeography_</span>
<span id="cb12-265"><a href="#cb12-265" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Ready et al (2010) <span class="co">[</span><span class="ot">Predicting the distributions of marine organisms at the global scale</span><span class="co">](https://www.sciencedirect.com/science/article/pii/S030438000900711X?casa_token=Nrl34cYvTN4AAAAA:4_nIKkt6BcGmLZAKE-EqGO4CXPpJLaJmePucdYPQaJK3rsA8svBRDaeLYeD-1-hUbYOq3Qc1rgM)</span> _Ecological Modelling_</span>
<span id="cb12-266"><a href="#cb12-266" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Zhang et al (2025) <span class="co">[</span><span class="ot">Differences in predictions of marine species distribution models based on expert maps and opportunistic occurrences</span><span class="co">](https://conbio.onlinelibrary.wiley.com/doi/full/10.1111/cobi.70015?casa_token=b6R7j3bt_VkAAAAA%3AUBNiiPvPiCyzF4rz8NFvu8V-AmF2VjFN7sfapmiGMI1XtU2OOItOgasjVj4a42r38fn4s7IiQ1vftnoV)</span> _Conservation Biology_</span>
<span id="cb12-267"><a href="#cb12-267" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Ferrari et al (2018) <span class="co">[</span><span class="ot">Integrating distribution models and habitat classification maps into marine protected area planning - ScienceDirect</span><span class="co">](https://www.sciencedirect.com/science/article/pii/S0272771417310454?casa_token=TdDGGhEhrsMAAAAA:BGk07IU_j8wqaU4dg-A-JNnIAC-DCX2QL3RlhT_zwFHDkE9bHIOMSZT3MUy1XHybNR80hTdPnLQ)</span> _Estuarine, Coastal and Shelf Science_</span>
<span id="cb12-268"><a href="#cb12-268" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-269"><a href="#cb12-269" aria-hidden="true" tabindex="-1"></a><span class="fu">### Line to raster, eg ...</span></span>
<span id="cb12-270"><a href="#cb12-270" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-271"><a href="#cb12-271" aria-hidden="true" tabindex="-1"></a><span class="in">```{r lns_to_rast}</span></span>
<span id="cb12-272"><a href="#cb12-272" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-273"><a href="#cb12-273" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb12-274"><a href="#cb12-274" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-275"><a href="#cb12-275" aria-hidden="true" tabindex="-1"></a><span class="in">```{r evaloff}</span></span>
<span id="cb12-276"><a href="#cb12-276" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span>opts_chunk<span class="sc">$</span><span class="fu">set</span>(<span class="at">eval =</span> F)</span>
<span id="cb12-277"><a href="#cb12-277" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb12-278"><a href="#cb12-278" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-279"><a href="#cb12-279" aria-hidden="true" tabindex="-1"></a><span class="in">```{r init_dbs}</span></span>
<span id="cb12-280"><a href="#cb12-280" aria-hidden="true" tabindex="-1"></a>con_spp <span class="ot">&lt;-</span> <span class="fu">dbConnect</span>(<span class="fu">duckdb</span>(<span class="at">dbdir =</span> spp_db, <span class="at">read_only =</span> T))</span>
<span id="cb12-281"><a href="#cb12-281" aria-hidden="true" tabindex="-1"></a>con_sdm <span class="ot">&lt;-</span> <span class="fu">dbConnect</span>(<span class="fu">duckdb</span>(<span class="at">dbdir =</span> sdm_db, <span class="at">read_only =</span> F))</span>
<span id="cb12-282"><a href="#cb12-282" aria-hidden="true" tabindex="-1"></a><span class="co"># dbListTables(con_sdm)</span></span>
<span id="cb12-283"><a href="#cb12-283" aria-hidden="true" tabindex="-1"></a><span class="co"># tbl(con_sdm, "species") |&gt; </span></span>
<span id="cb12-284"><a href="#cb12-284" aria-hidden="true" tabindex="-1"></a><span class="co">#   filter(common_name_dataset == "blue whale") |&gt; </span></span>
<span id="cb12-285"><a href="#cb12-285" aria-hidden="true" tabindex="-1"></a><span class="co">#   collect() |&gt; </span></span>
<span id="cb12-286"><a href="#cb12-286" aria-hidden="true" tabindex="-1"></a><span class="co">#   View()</span></span>
<span id="cb12-287"><a href="#cb12-287" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb12-288"><a href="#cb12-288" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-289"><a href="#cb12-289" aria-hidden="true" tabindex="-1"></a><span class="fu">### Add `dataset`</span></span>
<span id="cb12-290"><a href="#cb12-290" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-291"><a href="#cb12-291" aria-hidden="true" tabindex="-1"></a><span class="in">```{r insert_dataset_row}</span></span>
<span id="cb12-292"><a href="#cb12-292" aria-hidden="true" tabindex="-1"></a>ds_key      <span class="ot">&lt;-</span> <span class="st">"ch"</span></span>
<span id="cb12-293"><a href="#cb12-293" aria-hidden="true" tabindex="-1"></a>row_dataset <span class="ot">&lt;-</span> <span class="fu">tibble</span>(</span>
<span id="cb12-294"><a href="#cb12-294" aria-hidden="true" tabindex="-1"></a>  <span class="at">ds_key          =</span> <span class="sc">!!</span>ds_key,</span>
<span id="cb12-295"><a href="#cb12-295" aria-hidden="true" tabindex="-1"></a>  <span class="at">name_short      =</span> <span class="st">"NMFS Critical Habitat for USA, 2023-05"</span>,</span>
<span id="cb12-296"><a href="#cb12-296" aria-hidden="true" tabindex="-1"></a>  <span class="at">name_original   =</span> <span class="st">"National ESA Critical Habitat Geodatabase"</span>,</span>
<span id="cb12-297"><a href="#cb12-297" aria-hidden="true" tabindex="-1"></a>  <span class="at">description     =</span> <span class="st">"The National Marine Fisheries Service (NMFS) developed this geodatabase to standardize its Endangered Species Act (ESA) critical habitat spatial data."</span>,</span>
<span id="cb12-298"><a href="#cb12-298" aria-hidden="true" tabindex="-1"></a>  <span class="at">citation        =</span> <span class="st">""</span>,</span>
<span id="cb12-299"><a href="#cb12-299" aria-hidden="true" tabindex="-1"></a>  <span class="at">source_broad    =</span> <span class="st">"NMFS"</span>,</span>
<span id="cb12-300"><a href="#cb12-300" aria-hidden="true" tabindex="-1"></a>  <span class="at">source_detail   =</span> <span class="st">"https://www.fisheries.noaa.gov"</span>,</span>
<span id="cb12-301"><a href="#cb12-301" aria-hidden="true" tabindex="-1"></a>  <span class="at">regions         =</span> <span class="st">"USA"</span>,</span>
<span id="cb12-302"><a href="#cb12-302" aria-hidden="true" tabindex="-1"></a>  <span class="at">response_type   =</span> <span class="st">"binary"</span>,</span>
<span id="cb12-303"><a href="#cb12-303" aria-hidden="true" tabindex="-1"></a>  <span class="at">taxa_groups     =</span> <span class="st">"all taxa"</span>,</span>
<span id="cb12-304"><a href="#cb12-304" aria-hidden="true" tabindex="-1"></a>  <span class="at">year_pub        =</span> <span class="dv">2023</span>,</span>
<span id="cb12-305"><a href="#cb12-305" aria-hidden="true" tabindex="-1"></a>  <span class="at">date_obs_beg    =</span> <span class="cn">NA</span>,</span>
<span id="cb12-306"><a href="#cb12-306" aria-hidden="true" tabindex="-1"></a>  <span class="at">date_obs_end    =</span> <span class="cn">NA</span>,</span>
<span id="cb12-307"><a href="#cb12-307" aria-hidden="true" tabindex="-1"></a>  <span class="at">date_env_beg    =</span> <span class="cn">NA</span>,</span>
<span id="cb12-308"><a href="#cb12-308" aria-hidden="true" tabindex="-1"></a>  <span class="at">date_env_end    =</span> <span class="cn">NA</span>,</span>
<span id="cb12-309"><a href="#cb12-309" aria-hidden="true" tabindex="-1"></a>  <span class="at">link_info       =</span> <span class="st">"https://www.fisheries.noaa.gov/resource/map/national-esa-critical-habitat-mapper"</span>,</span>
<span id="cb12-310"><a href="#cb12-310" aria-hidden="true" tabindex="-1"></a>  <span class="at">link_download   =</span> <span class="st">"https://noaa.maps.arcgis.com/home/item.html?id=f66c1e33f91d480db7d1b1c1336223c3"</span>,</span>
<span id="cb12-311"><a href="#cb12-311" aria-hidden="true" tabindex="-1"></a>  <span class="at">link_metadata   =</span> <span class="st">"https://www.fisheries.noaa.gov/inport/item/65207"</span>,</span>
<span id="cb12-312"><a href="#cb12-312" aria-hidden="true" tabindex="-1"></a>  <span class="at">links_other     =</span> <span class="st">"https://noaa.maps.arcgis.com/apps/webappviewer/index.html?id=68d8df16b39c48fe9f60640692d0e318"</span>,</span>
<span id="cb12-313"><a href="#cb12-313" aria-hidden="true" tabindex="-1"></a>  <span class="at">spatial_res_deg =</span> <span class="fl">0.05</span>,</span>
<span id="cb12-314"><a href="#cb12-314" aria-hidden="true" tabindex="-1"></a>  <span class="at">temporal_res    =</span> <span class="st">"static"</span> )</span>
<span id="cb12-315"><a href="#cb12-315" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-316"><a href="#cb12-316" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="fu">dbExistsTable</span>(con_sdm, <span class="st">"dataset"</span>))</span>
<span id="cb12-317"><a href="#cb12-317" aria-hidden="true" tabindex="-1"></a>  <span class="fu">dbExecute</span>(con_sdm, <span class="fu">glue</span>(<span class="st">"DELETE FROM dataset WHERE ds_key = '{ds_key}'"</span>))</span>
<span id="cb12-318"><a href="#cb12-318" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-319"><a href="#cb12-319" aria-hidden="true" tabindex="-1"></a><span class="fu">dbWriteTable</span>(con_sdm, <span class="st">"dataset"</span>, row_dataset, <span class="at">append =</span> <span class="cn">TRUE</span>)</span>
<span id="cb12-320"><a href="#cb12-320" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb12-321"><a href="#cb12-321" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-322"><a href="#cb12-322" aria-hidden="true" tabindex="-1"></a><span class="fu">### Iterate rows: `species`, `model`, `model_cell`</span></span>
<span id="cb12-323"><a href="#cb12-323" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-324"><a href="#cb12-324" aria-hidden="true" tabindex="-1"></a><span class="in">```{r iterate_rows}</span></span>
<span id="cb12-325"><a href="#cb12-325" aria-hidden="true" tabindex="-1"></a>n <span class="ot">&lt;-</span> <span class="fu">nrow</span>(d_spp_pa)</span>
<span id="cb12-326"><a href="#cb12-326" aria-hidden="true" tabindex="-1"></a>tic <span class="ot">&lt;-</span> <span class="fu">Sys.time</span>()</span>
<span id="cb12-327"><a href="#cb12-327" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>n){  <span class="co"># i = 10 # i = 1175</span></span>
<span id="cb12-328"><a href="#cb12-328" aria-hidden="true" tabindex="-1"></a><span class="co"># for (i in 1:10){  # i = 2</span></span>
<span id="cb12-329"><a href="#cb12-329" aria-hidden="true" tabindex="-1"></a>  sp_key     <span class="ot">&lt;-</span> d_spp_pa<span class="sc">$</span>sp_key[i]      <span class="co"># sp_key = "ITS-Mam-180528" # sp_key = "Fis-34595"</span></span>
<span id="cb12-330"><a href="#cb12-330" aria-hidden="true" tabindex="-1"></a>  n_cells_pa <span class="ot">&lt;-</span> d_spp_pa<span class="sc">$</span>n_cells_pa[i]</span>
<span id="cb12-331"><a href="#cb12-331" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-332"><a href="#cb12-332" aria-hidden="true" tabindex="-1"></a>  toc <span class="ot">&lt;-</span> <span class="fu">Sys.time</span>()</span>
<span id="cb12-333"><a href="#cb12-333" aria-hidden="true" tabindex="-1"></a>  dt <span class="ot">&lt;-</span> <span class="fu">difftime</span>(toc, tic, <span class="at">units =</span> <span class="st">"mins"</span>) <span class="co"># |&gt; as.numeric()</span></span>
<span id="cb12-334"><a href="#cb12-334" aria-hidden="true" tabindex="-1"></a>  eta <span class="ot">&lt;-</span> tic <span class="sc">+</span> (dt <span class="sc">/</span> i) <span class="sc">*</span> n</span>
<span id="cb12-335"><a href="#cb12-335" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb12-336"><a href="#cb12-336" aria-hidden="true" tabindex="-1"></a>  <span class="fu">log_info</span>(</span>
<span id="cb12-337"><a href="#cb12-337" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Processing {format(i, big.mark=',')}/{format(nrow(d_spp_pa), big.mark=',')}: {sp_key} ~ ETA: {eta}"</span>)</span>
<span id="cb12-338"><a href="#cb12-338" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-339"><a href="#cb12-339" aria-hidden="true" tabindex="-1"></a>  <span class="co"># source(here("libs/am_functions.R"))</span></span>
<span id="cb12-340"><a href="#cb12-340" aria-hidden="true" tabindex="-1"></a>  <span class="co"># source(here("libs/sdm_functions.R"))</span></span>
<span id="cb12-341"><a href="#cb12-341" aria-hidden="true" tabindex="-1"></a>  r_am <span class="ot">&lt;-</span> <span class="fu">am_sp_rast</span>(sp_key, con_am, r_hcaf) <span class="sc">|&gt;</span> </span>
<span id="cb12-342"><a href="#cb12-342" aria-hidden="true" tabindex="-1"></a>    <span class="fu">rotate</span>()  <span class="co"># [rotate() shifts cells of non-global spatRast](https://github.com/rspatial/terra/issues/1831)</span></span>
<span id="cb12-343"><a href="#cb12-343" aria-hidden="true" tabindex="-1"></a>  r_ds <span class="ot">&lt;-</span> <span class="fu">downsample_sp_rast</span>(r_am, r_cell<span class="sc">$</span>depth_mean)</span>
<span id="cb12-344"><a href="#cb12-344" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-345"><a href="#cb12-345" aria-hidden="true" tabindex="-1"></a>  <span class="co"># get species info from original database</span></span>
<span id="cb12-346"><a href="#cb12-346" aria-hidden="true" tabindex="-1"></a>  sp_info <span class="ot">&lt;-</span> <span class="fu">tbl</span>(con_am, <span class="st">"spp"</span>) <span class="sc">|&gt;</span></span>
<span id="cb12-347"><a href="#cb12-347" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(sp_key <span class="sc">==</span> <span class="sc">!!</span>sp_key) <span class="sc">|&gt;</span></span>
<span id="cb12-348"><a href="#cb12-348" aria-hidden="true" tabindex="-1"></a>    <span class="fu">collect</span>()</span>
<span id="cb12-349"><a href="#cb12-349" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb12-350"><a href="#cb12-350" aria-hidden="true" tabindex="-1"></a>  <span class="co"># delete existing model</span></span>
<span id="cb12-351"><a href="#cb12-351" aria-hidden="true" tabindex="-1"></a>  mdl_seqs <span class="ot">&lt;-</span> <span class="fu">tbl</span>(con_sdm, <span class="st">"model"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb12-352"><a href="#cb12-352" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(ds_key <span class="sc">==</span> <span class="st">"am_0.05"</span>, taxa <span class="sc">==</span> <span class="sc">!!</span>sp_key) <span class="sc">|&gt;</span> </span>
<span id="cb12-353"><a href="#cb12-353" aria-hidden="true" tabindex="-1"></a>    <span class="fu">pull</span>(mdl_seq)</span>
<span id="cb12-354"><a href="#cb12-354" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="fu">length</span>(mdl_seqs <span class="sc">&gt;</span> <span class="dv">0</span>)) {</span>
<span id="cb12-355"><a href="#cb12-355" aria-hidden="true" tabindex="-1"></a>    <span class="fu">dbExecute</span>(con_sdm, <span class="fu">glue</span>(<span class="st">"DELETE FROM model WHERE ds_key = 'am_0.05' AND taxa = '{sp_key}'"</span>))</span>
<span id="cb12-356"><a href="#cb12-356" aria-hidden="true" tabindex="-1"></a>    <span class="fu">dbExecute</span>(con_sdm, <span class="fu">glue</span>(<span class="st">"DELETE FROM model_cell WHERE mdl_seq IN ({paste(mdl_seqs, collapse = ',')})"</span>))</span>
<span id="cb12-357"><a href="#cb12-357" aria-hidden="true" tabindex="-1"></a>    <span class="fu">dbExecute</span>(con_sdm, <span class="fu">glue</span>(<span class="st">"DELETE FROM species WHERE ds_key = 'am_0.05' AND taxa = '{sp_key}'"</span>))</span>
<span id="cb12-358"><a href="#cb12-358" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb12-359"><a href="#cb12-359" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb12-360"><a href="#cb12-360" aria-hidden="true" tabindex="-1"></a>  <span class="co"># create model for this species (one model per species for AquaMaps)</span></span>
<span id="cb12-361"><a href="#cb12-361" aria-hidden="true" tabindex="-1"></a>  d_model <span class="ot">&lt;-</span> <span class="fu">tibble</span>(</span>
<span id="cb12-362"><a href="#cb12-362" aria-hidden="true" tabindex="-1"></a>    <span class="at">ds_key      =</span> <span class="st">"am_0.05"</span>,</span>
<span id="cb12-363"><a href="#cb12-363" aria-hidden="true" tabindex="-1"></a>    <span class="at">taxa        =</span> sp_key,  <span class="co"># for AquaMaps, taxa equals sp_key</span></span>
<span id="cb12-364"><a href="#cb12-364" aria-hidden="true" tabindex="-1"></a>    <span class="at">time_period =</span> <span class="st">"2019"</span>,</span>
<span id="cb12-365"><a href="#cb12-365" aria-hidden="true" tabindex="-1"></a>    <span class="at">region      =</span> <span class="st">"Global"</span>,</span>
<span id="cb12-366"><a href="#cb12-366" aria-hidden="true" tabindex="-1"></a>    <span class="at">mdl_type    =</span> <span class="st">"suitability"</span>,</span>
<span id="cb12-367"><a href="#cb12-367" aria-hidden="true" tabindex="-1"></a>    <span class="at">description =</span> <span class="fu">glue</span>(</span>
<span id="cb12-368"><a href="#cb12-368" aria-hidden="true" tabindex="-1"></a>      <span class="st">"AquaMaps suitability for {sp_info$genus[1]} {sp_info$species[1]}, interpolated to 0.05° resolution"</span>) )</span>
<span id="cb12-369"><a href="#cb12-369" aria-hidden="true" tabindex="-1"></a>  <span class="fu">dbWriteTable</span>(con_sdm, <span class="st">"model"</span>, d_model, <span class="at">append =</span> <span class="cn">TRUE</span>)</span>
<span id="cb12-370"><a href="#cb12-370" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb12-371"><a href="#cb12-371" aria-hidden="true" tabindex="-1"></a>  <span class="co"># get the mdl_seq that was just created</span></span>
<span id="cb12-372"><a href="#cb12-372" aria-hidden="true" tabindex="-1"></a>  mdl_seq <span class="ot">&lt;-</span> <span class="fu">dbGetQuery</span>(con_sdm, <span class="fu">glue</span>(<span class="st">"</span></span>
<span id="cb12-373"><a href="#cb12-373" aria-hidden="true" tabindex="-1"></a><span class="st">    SELECT mdl_seq FROM model </span></span>
<span id="cb12-374"><a href="#cb12-374" aria-hidden="true" tabindex="-1"></a><span class="st">    WHERE ds_key = '{d_model$ds_key}' </span></span>
<span id="cb12-375"><a href="#cb12-375" aria-hidden="true" tabindex="-1"></a><span class="st">      AND taxa = '{d_model$taxa}'</span></span>
<span id="cb12-376"><a href="#cb12-376" aria-hidden="true" tabindex="-1"></a><span class="st">    ORDER BY mdl_seq DESC LIMIT 1 "</span>))<span class="sc">$</span>mdl_seq</span>
<span id="cb12-377"><a href="#cb12-377" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb12-378"><a href="#cb12-378" aria-hidden="true" tabindex="-1"></a>  <span class="co"># determine species category</span></span>
<span id="cb12-379"><a href="#cb12-379" aria-hidden="true" tabindex="-1"></a>  sp_cat <span class="ot">&lt;-</span> <span class="fu">case_when</span>(</span>
<span id="cb12-380"><a href="#cb12-380" aria-hidden="true" tabindex="-1"></a>    sp_info<span class="sc">$</span>class[<span class="dv">1</span>] <span class="sc">==</span> <span class="st">"Actinopterygii"</span> <span class="sc">~</span> <span class="st">"fish"</span>,</span>
<span id="cb12-381"><a href="#cb12-381" aria-hidden="true" tabindex="-1"></a>    sp_info<span class="sc">$</span>class[<span class="dv">1</span>] <span class="sc">==</span> <span class="st">"Chondrichthyes"</span> <span class="sc">~</span> <span class="st">"fish"</span>,</span>
<span id="cb12-382"><a href="#cb12-382" aria-hidden="true" tabindex="-1"></a>    sp_info<span class="sc">$</span>class[<span class="dv">1</span>] <span class="sc">==</span> <span class="st">"Mammalia"</span> <span class="sc">~</span> <span class="st">"marine mammal"</span>,</span>
<span id="cb12-383"><a href="#cb12-383" aria-hidden="true" tabindex="-1"></a>    sp_info<span class="sc">$</span>class[<span class="dv">1</span>] <span class="sc">==</span> <span class="st">"Reptilia"</span> <span class="sc">~</span> <span class="st">"sea turtle"</span>,</span>
<span id="cb12-384"><a href="#cb12-384" aria-hidden="true" tabindex="-1"></a>    sp_info<span class="sc">$</span>phylum[<span class="dv">1</span>] <span class="sc">==</span> <span class="st">"Mollusca"</span> <span class="sc">~</span> <span class="st">"mollusk"</span>,</span>
<span id="cb12-385"><a href="#cb12-385" aria-hidden="true" tabindex="-1"></a>    <span class="co"># sp_info$phylum[1] == "Arthropoda" &amp;&amp; sp_info$subphylum[1] == "Crustacea" ~ "crustacean",</span></span>
<span id="cb12-386"><a href="#cb12-386" aria-hidden="true" tabindex="-1"></a>    sp_info<span class="sc">$</span>phylum[<span class="dv">1</span>] <span class="sc">==</span> <span class="st">"Arthropoda"</span> <span class="sc">~</span> <span class="st">"crustacean"</span>,</span>
<span id="cb12-387"><a href="#cb12-387" aria-hidden="true" tabindex="-1"></a>    <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">"other"</span>)</span>
<span id="cb12-388"><a href="#cb12-388" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb12-389"><a href="#cb12-389" aria-hidden="true" tabindex="-1"></a>  <span class="co"># add species to database</span></span>
<span id="cb12-390"><a href="#cb12-390" aria-hidden="true" tabindex="-1"></a>  d_species <span class="ot">&lt;-</span> <span class="fu">tibble</span>(</span>
<span id="cb12-391"><a href="#cb12-391" aria-hidden="true" tabindex="-1"></a>    <span class="at">ds_key          =</span> <span class="st">"am_0.05"</span>,</span>
<span id="cb12-392"><a href="#cb12-392" aria-hidden="true" tabindex="-1"></a>    <span class="at">taxa            =</span> sp_key,</span>
<span id="cb12-393"><a href="#cb12-393" aria-hidden="true" tabindex="-1"></a>    <span class="at">sp_key          =</span> sp_key,</span>
<span id="cb12-394"><a href="#cb12-394" aria-hidden="true" tabindex="-1"></a>    <span class="at">aphia_id        =</span> <span class="cn">NA_integer_</span>,  <span class="co"># </span><span class="al">TODO</span><span class="co">: lookup from WoRMS</span></span>
<span id="cb12-395"><a href="#cb12-395" aria-hidden="true" tabindex="-1"></a>    <span class="at">gbif_id         =</span> <span class="cn">NA_integer_</span>,  <span class="co"># </span><span class="al">TODO</span><span class="co">: lookup from GBIF</span></span>
<span id="cb12-396"><a href="#cb12-396" aria-hidden="true" tabindex="-1"></a>    <span class="at">itis_id         =</span> <span class="cn">NA_integer_</span>,  <span class="co"># </span><span class="al">TODO</span><span class="co">: lookup from ITIS</span></span>
<span id="cb12-397"><a href="#cb12-397" aria-hidden="true" tabindex="-1"></a>    <span class="at">scientific_name =</span> <span class="fu">glue</span>(<span class="st">"{sp_info$genus[1]} {sp_info$species[1]}"</span>),</span>
<span id="cb12-398"><a href="#cb12-398" aria-hidden="true" tabindex="-1"></a>    <span class="at">common_name     =</span> sp_info<span class="sc">$</span>common_name[<span class="dv">1</span>],</span>
<span id="cb12-399"><a href="#cb12-399" aria-hidden="true" tabindex="-1"></a>    <span class="at">sp_cat          =</span> sp_cat)</span>
<span id="cb12-400"><a href="#cb12-400" aria-hidden="true" tabindex="-1"></a>  <span class="fu">dbWriteTable</span>(con_sdm, <span class="st">"species"</span>, d_species, <span class="at">append =</span> T)</span>
<span id="cb12-401"><a href="#cb12-401" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-402"><a href="#cb12-402" aria-hidden="true" tabindex="-1"></a>  d_mdl_cell <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(r_ds, <span class="at">cells =</span> T, <span class="at">na.rm =</span> T) <span class="sc">|&gt;</span> </span>
<span id="cb12-403"><a href="#cb12-403" aria-hidden="true" tabindex="-1"></a>    <span class="fu">tibble</span>() <span class="sc">|&gt;</span> </span>
<span id="cb12-404"><a href="#cb12-404" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(</span>
<span id="cb12-405"><a href="#cb12-405" aria-hidden="true" tabindex="-1"></a>      <span class="at">mdl_seq =</span> mdl_seq,</span>
<span id="cb12-406"><a href="#cb12-406" aria-hidden="true" tabindex="-1"></a>      <span class="at">value   =</span> <span class="fu">as.integer</span>(suitability) ) <span class="sc">|&gt;</span> </span>
<span id="cb12-407"><a href="#cb12-407" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(<span class="at">cell_id =</span> cell, mdl_seq, value) <span class="sc">|&gt;</span> </span>
<span id="cb12-408"><a href="#cb12-408" aria-hidden="true" tabindex="-1"></a>    <span class="fu">arrange</span>(cell_id)</span>
<span id="cb12-409"><a href="#cb12-409" aria-hidden="true" tabindex="-1"></a>  <span class="fu">dbWriteTable</span>(con_sdm, <span class="st">"model_cell"</span>, d_mdl_cell, <span class="at">append =</span> T)</span>
<span id="cb12-410"><a href="#cb12-410" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb12-411"><a href="#cb12-411" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span></code><button title="Copy to Clipboard" class="code-copy-button" data-in-quarto-modal=""><i class="bi"></i></button></pre></div>
</div></div></div></div></div>
</div> <!-- /content -->
<script>var lightboxQuarto = GLightbox({"closeEffect":"zoom","descPosition":"bottom","loop":false,"openEffect":"zoom","selector":".lightbox"});
(function() {
  let previousOnload = window.onload;
  window.onload = () => {
    if (previousOnload) {
      previousOnload();
    }
    lightboxQuarto.on('slide_before_load', (data) => {
      const { slideIndex, slideNode, slideConfig, player, trigger } = data;
      const href = trigger.getAttribute('href');
      if (href !== null) {
        const imgEl = window.document.querySelector(`a[href="${href}"] img`);
        if (imgEl !== null) {
          const srcAttr = imgEl.getAttribute("src");
          if (srcAttr && srcAttr.startsWith("data:")) {
            slideConfig.href = srcAttr;
          }
        }
      } 
    });
  
    lightboxQuarto.on('slide_after_load', (data) => {
      const { slideIndex, slideNode, slideConfig, player, trigger } = data;
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(slideNode);
      }
    });
  
  };
  
})();
          </script>




</body></html>